# üéØ PROMPT: X√ÇY D·ª∞NG APP T√çNH L∆Ø∆†NG T·ª™ EXCEL (100% TI·∫æNG VI·ªÜT)

## 1. VAI TR√í & T∆Ø DUY
B·∫°n l√†:
- Senior Fullstack Engineer
- Business Analyst chuy√™n m·∫£ng L∆Ø∆†NG ‚Äì NH√ÇN S·ª∞ t·∫°i Vi·ªát Nam
- C√≥ kinh nghi·ªám x√¢y d·ª±ng Payroll System th·ª±c t·∫ø cho doanh nghi·ªáp

Nhi·ªám v·ª• c·ªßa b·∫°n l√† **thi·∫øt k·∫ø v√† code m·ªôt ·ª®NG D·ª§NG T√çNH L∆Ø∆†NG** d·ª±a tr√™n **b·∫£ng Excel hi·ªán ƒëang s·ª≠ d·ª•ng**, v·ªõi c√°c y√™u c·∫ßu:

- K·∫øt qu·∫£ t√≠nh l∆∞∆°ng **PH·∫¢I KH·ªöP 100% v·ªõi Excel**
- Thi·∫øt k·∫ø **chu·∫©n ho√° ‚Äì m·ªü r·ªông ‚Äì audit ƒë∆∞·ª£c**
- Kh√¥ng hard-code theo c·ªôt Excel
- To√†n b·ªô **giao di·ªán, d·ªØ li·ªáu, comment, bi·∫øn, text ƒë·ªÅu d√πng TI·∫æNG VI·ªÜT**
- ƒê√¢y l√† **h·ªá th·ªëng th·∫≠t**, kh√¥ng ph·∫£i demo

‚ö†Ô∏è TUY·ªÜT ƒê·ªêI:
- Kh√¥ng t·ª± √Ω ƒë∆°n gi·∫£n nghi·ªáp v·ª•
- Kh√¥ng xo√° tr∆∞·ªùng d·ªØ li·ªáu n·∫øu ch∆∞a c√≥ ch·ªâ ƒë·∫°o
- ∆Øu ti√™n ƒë√∫ng s·ªë li·ªáu > ƒë·∫πp code

---

## 2. NG·ªÆ C·∫¢NH NGHI·ªÜP V·ª§ (TH·ª∞C T·∫æ)

Hi·ªán t·∫°i c√¥ng ty ƒëang t√≠nh l∆∞∆°ng b·∫±ng **Excel**, v·ªõi ƒë·∫∑c ƒëi·ªÉm:

- C√≥ **nhi·ªÅu b·ªô ph·∫≠n**:
  - K·∫ø to√°n
  - Kinh doanh & Marketing
  - ƒê∆°n h√†ng
  - Kho v·∫≠n
  - Chia h√†ng
- M·ªói b·ªô ph·∫≠n c√≥ **c∆° c·∫•u l∆∞∆°ng kh√°c nhau**
- L∆∞∆°ng = t·ªïng nhi·ªÅu kho·∫£n:
  - L∆∞∆°ng c∆° b·∫£n
  - Th∆∞·ªüng
  - Ph·ª• c·∫•p
  - H·ªó tr·ª£
- Hi·ªán t·∫°i **ch∆∞a t√≠nh kh·∫•u tr·ª´** (BHXH, thu·∫ø)  
‚Üí B·∫£ng l∆∞∆°ng hi·ªán t·∫°i l√† **T·ªîNG THU NH·∫¨P (Gross)**

Excel ch·ªâ ƒë√≥ng vai tr√≤:
> **N∆°i nh·∫≠p s·ªë & c·ªông t·ªïng, KH√îNG ph·∫£i n∆°i x·ª≠ l√Ω logic**

---

## 3. NGUY√äN T·∫ÆC THI·∫æT K·∫æ C·ªêT L√ïI

### 3.1. Kh√¥ng thi·∫øt k·∫ø theo c·ªôt Excel
‚ùå Kh√¥ng t·∫°o b·∫£ng c√≥ c√°c c·ªôt:
- l∆∞∆°ng_c∆°_b·∫£n
- ph·ª•_c·∫•p_xƒÉng_xe
- ph·ª•_c·∫•p_ƒëi·ªán_tho·∫°i
- ...

‚úÖ Thay v√†o ƒë√≥:
- M·ªói kho·∫£n ti·ªÅn = **1 d√≤ng d·ªØ li·ªáu**
- G·ªçi l√† **KHO·∫¢N L∆Ø∆†NG**

---

### 3.2. Chu·∫©n ho√° KHO·∫¢N L∆Ø∆†NG
M·ªçi kho·∫£n trong Excel ph·∫£i ƒë∆∞·ª£c chu·∫©n ho√° th√†nh danh m·ª•c:

- L∆Ø∆†NG C∆† B·∫¢N
- TH∆Ø·ªûNG HI·ªÜU SU·∫§T
- PH·ª§ C·∫§P XƒÇNG XE
- PH·ª§ C·∫§P ƒêI·ªÜN THO·∫†I
- H·ªñ TR·ª¢ CHUY√äN C·∫¶N
- H·ªñ TR·ª¢ ƒÇN CA
- TH∆Ø·ªûNG KINH DOANH
- PH·ª§ C·∫§P KH√ÅC

---

### 3.3. T·ªïng l∆∞∆°ng
- KH√îNG l∆∞u t·ªïng l∆∞∆°ng trong DB
- T·ªïng l∆∞∆°ng lu√¥n ƒë∆∞·ª£c t√≠nh:
```text
T·ªîNG_L∆Ø∆†NG = T·ªîNG C√ÅC KHO·∫¢N_L∆Ø∆†NG
4. M√î H√åNH D·ªÆ LI·ªÜU B·∫ÆT BU·ªòC
4.1. B·ªò PH·∫¨N
sql
Copy code
phong_ban (
  id,
  ma_phong_ban,
  ten_phong_ban
)
4.2. NH√ÇN VI√äN
sql
Copy code
nhan_vien (
  id,
  ho_ten,
  phong_ban_id,
  luong_co_ban,
  trang_thai
)
4.3. DANH M·ª§C KHO·∫¢N L∆Ø∆†NG (C·ª∞C K·ª≤ QUAN TR·ªåNG)
Thay th·∫ø to√†n b·ªô c√°c c·ªôt trong Excel.

sql
Copy code
khoan_luong (
  id,
  ma_khoan,
  ten_khoan,
  loai,          -- thu_nhap / khau_tru
  chiu_thue,     -- true / false
  pham_vi_ap_dung -- null = to√†n c√¥ng ty
)
Danh m·ª•c kh·ªüi t·∫°o b·∫Øt bu·ªôc:

LUONG_CO_BAN

THUONG_HIEU_SUAT

PHU_CAP_XANG_XE

PHU_CAP_DIEN_THOAI

HO_TRO_CHUYEN_CAN

HO_TRO_AN_CA

THUONG_KINH_DOANH

PHU_CAP_KHAC

4.4. C∆† C·∫§U L∆Ø∆†NG THEO PH√íNG BAN
sql
Copy code
co_cau_luong (
  id,
  phong_ban_id,
  ten_co_cau
)
sql
Copy code
co_cau_luong_chi_tiet (
  co_cau_luong_id,
  khoan_luong_id,
  bat_buoc,
  gia_tri_mac_dinh
)
4.5. B·∫¢NG L∆Ø∆†NG TH√ÅNG
sql
Copy code
bang_luong (
  id,
  thang,
  nam,
  phong_ban_id,
  trang_thai -- nhap / da_chot / khoa
)
4.6. CHI TI·∫æT B·∫¢NG L∆Ø∆†NG (LINH H·ªíN H·ªÜ TH·ªêNG)
sql
Copy code
chi_tiet_bang_luong (
  bang_luong_id,
  nhan_vien_id,
  khoan_luong_id,
  so_tien
)
üëâ M·ªói √¥ trong Excel = 1 d√≤ng ·ªü b·∫£ng n√†y

5. CH·ª®C NƒÇNG B·∫ÆT BU·ªòC
5.1. Nh·∫≠p d·ªØ li·ªáu t·ª´ Excel
Upload file Excel

Mapping t·ª´ng c·ªôt ‚Üí khoan_luong

T·∫°o chi_tiet_bang_luong

ƒê·ªëi chi·∫øu:

T·ªïng l∆∞∆°ng App = T·ªïng l∆∞∆°ng Excel (100%)

5.2. Xem & ch·ªânh s·ª≠a b·∫£ng l∆∞∆°ng
Giao di·ªán gi·ªëng Excel

Nh√≥m theo:

Ph√≤ng ban

Nh√¢n vi√™n

Cho ph√©p ch·ªânh t·ª´ng kho·∫£n l∆∞∆°ng

T·ª± ƒë·ªông c·∫≠p nh·∫≠t t·ªïng

5.3. Ph√¢n quy·ªÅn
Nh√¢n s·ª±: c·∫•u h√¨nh danh m·ª•c, c∆° c·∫•u

K·∫ø to√°n: nh·∫≠p & ch·ªët l∆∞∆°ng

Nh√¢n vi√™n: xem phi·∫øu l∆∞∆°ng c√° nh√¢n

6. C√îNG NGH·ªÜ ƒê·ªÄ XU·∫§T
Backend
Node.js + NestJS

PostgreSQL

Prisma ho·∫∑c TypeORM

Frontend
React

B·∫£ng editable

Hi·ªÉn th·ªã ti·∫øng Vi·ªát ho√†n to√†n

7. Y√äU C·∫¶U PHI CH·ª®C NƒÇNG
L∆∞u l·ªãch s·ª≠ ch·ªânh s·ª≠a t·ª´ng kho·∫£n l∆∞∆°ng

Kh√¥ng m·∫•t d·ªØ li·ªáu khi thay ƒë·ªïi c∆° c·∫•u

D·ªÖ m·ªü r·ªông th√™m:

KPI

Ch·∫•m c√¥ng

BHXH & Thu·∫ø VN

8. TH·ª® T·ª∞ TRI·ªÇN KHAI (B·∫ÆT BU·ªòC)
Thi·∫øt k·∫ø DB schema

T·∫°o danh m·ª•c kho·∫£n l∆∞∆°ng

Import Excel

Service t√≠nh t·ªïng l∆∞∆°ng

UI b·∫£ng l∆∞∆°ng

Ch·ªët & kho√° b·∫£ng l∆∞∆°ng

9. K·∫æT QU·∫¢ MONG MU·ªêN
Claude ph·∫£i sinh ra:

SQL schema ho√†n ch·ªânh

Backend CRUD & service t√≠nh l∆∞∆°ng

Logic import Excel

UI b·∫£ng l∆∞∆°ng gi·ªëng Excel

D·ªØ li·ªáu m·∫´u kh·ªõp Excel

‚ö†Ô∏è Kh√¥ng b·ªè qua b∆∞·ªõc
‚ö†Ô∏è Kh√¥ng mock nghi·ªáp v·ª•
‚ö†Ô∏è Ch·ªâ h·ªèi l·∫°i n·∫øu d·ªØ li·ªáu m∆° h·ªì

10. GHI CH√ö CU·ªêI
ƒê√¢y l√† h·ªá th·ªëng l∆∞∆°ng th·∫≠t d√πng cho doanh nghi·ªáp Vi·ªát Nam.

H√£y code c·∫©n th·∫≠n.
∆Øu ti√™n ƒë√∫ng nghi·ªáp v·ª•.
Vi·∫øt code d·ªÖ ƒë·ªçc, d·ªÖ audit.