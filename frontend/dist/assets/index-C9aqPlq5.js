var op=s=>{throw TypeError(s)};var Xc=(s,r,l)=>r.has(s)||op("Cannot "+l);var L=(s,r,l)=>(Xc(s,r,"read from private field"),l?l.call(s):r.get(s)),Ne=(s,r,l)=>r.has(s)?op("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(s):r.set(s,l),ce=(s,r,l,i)=>(Xc(s,r,"write to private field"),i?i.call(s,l):r.set(s,l),l),ke=(s,r,l)=>(Xc(s,r,"access private method"),l);var bi=(s,r,l,i)=>({set _(c){ce(s,r,c,l)},get _(){return L(s,r,i)}});function z0(s,r){for(var l=0;l<r.length;l++){const i=r[l];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in s)){const d=Object.getOwnPropertyDescriptor(i,c);d&&Object.defineProperty(s,c,d.get?d:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function V0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jc={exports:{}},Va={},Yc={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function $0(){if(cp)return Ee;cp=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),y=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,D={};function E(R,g,Q){this.props=R,this.context=g,this.refs=D,this.updater=Q||S}E.prototype.isReactComponent={},E.prototype.setState=function(R,g){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,g,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function T(){}T.prototype=E.prototype;function _(R,g,Q){this.props=R,this.context=g,this.refs=D,this.updater=Q||S}var P=_.prototype=new T;P.constructor=_,w(P,E.prototype),P.isPureReactComponent=!0;var C=Array.isArray,H=Object.prototype.hasOwnProperty,W={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function F(R,g,Q){var A,X={},fe=null,xe=null;if(g!=null)for(A in g.ref!==void 0&&(xe=g.ref),g.key!==void 0&&(fe=""+g.key),g)H.call(g,A)&&!M.hasOwnProperty(A)&&(X[A]=g[A]);var Se=arguments.length-2;if(Se===1)X.children=Q;else if(1<Se){for(var Re=Array(Se),Oe=0;Oe<Se;Oe++)Re[Oe]=arguments[Oe+2];X.children=Re}if(R&&R.defaultProps)for(A in Se=R.defaultProps,Se)X[A]===void 0&&(X[A]=Se[A]);return{$$typeof:s,type:R,key:fe,ref:xe,props:X,_owner:W.current}}function se(R,g){return{$$typeof:s,type:R.type,key:g,ref:R.ref,props:R.props,_owner:R._owner}}function U(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function Y(R){var g={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return g[Q]})}var pe=/\/+/g;function J(R,g){return typeof R=="object"&&R!==null&&R.key!=null?Y(""+R.key):g.toString(36)}function de(R,g,Q,A,X){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(fe){case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case s:case r:xe=!0}}if(xe)return xe=R,X=X(xe),R=A===""?"."+J(xe,0):A,C(X)?(Q="",R!=null&&(Q=R.replace(pe,"$&/")+"/"),de(X,g,Q,"",function(Oe){return Oe})):X!=null&&(U(X)&&(X=se(X,Q+(!X.key||xe&&xe.key===X.key?"":(""+X.key).replace(pe,"$&/")+"/")+R)),g.push(X)),1;if(xe=0,A=A===""?".":A+":",C(R))for(var Se=0;Se<R.length;Se++){fe=R[Se];var Re=A+J(fe,Se);xe+=de(fe,g,Q,Re,X)}else if(Re=j(R),typeof Re=="function")for(R=Re.call(R),Se=0;!(fe=R.next()).done;)fe=fe.value,Re=A+J(fe,Se++),xe+=de(fe,g,Q,Re,X);else if(fe==="object")throw g=String(R),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return xe}function $(R,g,Q){if(R==null)return R;var A=[],X=0;return de(R,A,"","",function(fe){return g.call(Q,fe,X++)}),A}function oe(R){if(R._status===-1){var g=R._result;g=g(),g.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=g)}if(R._status===1)return R._result.default;throw R._result}var K={current:null},G={transition:null},le={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:G,ReactCurrentOwner:W};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:$,forEach:function(R,g,Q){$(R,function(){g.apply(this,arguments)},Q)},count:function(R){var g=0;return $(R,function(){g++}),g},toArray:function(R){return $(R,function(g){return g})||[]},only:function(R){if(!U(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ee.Component=E,Ee.Fragment=l,Ee.Profiler=c,Ee.PureComponent=_,Ee.StrictMode=i,Ee.Suspense=f,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ee.act=re,Ee.cloneElement=function(R,g,Q){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var A=w({},R.props),X=R.key,fe=R.ref,xe=R._owner;if(g!=null){if(g.ref!==void 0&&(fe=g.ref,xe=W.current),g.key!==void 0&&(X=""+g.key),R.type&&R.type.defaultProps)var Se=R.type.defaultProps;for(Re in g)H.call(g,Re)&&!M.hasOwnProperty(Re)&&(A[Re]=g[Re]===void 0&&Se!==void 0?Se[Re]:g[Re])}var Re=arguments.length-2;if(Re===1)A.children=Q;else if(1<Re){Se=Array(Re);for(var Oe=0;Oe<Re;Oe++)Se[Oe]=arguments[Oe+2];A.children=Se}return{$$typeof:s,type:R.type,key:X,ref:fe,props:A,_owner:xe}},Ee.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:d,_context:R},R.Consumer=R},Ee.createElement=F,Ee.createFactory=function(R){var g=F.bind(null,R);return g.type=R,g},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(R){return{$$typeof:p,render:R}},Ee.isValidElement=U,Ee.lazy=function(R){return{$$typeof:N,_payload:{_status:-1,_result:R},_init:oe}},Ee.memo=function(R,g){return{$$typeof:v,type:R,compare:g===void 0?null:g}},Ee.startTransition=function(R){var g=G.transition;G.transition={};try{R()}finally{G.transition=g}},Ee.unstable_act=re,Ee.useCallback=function(R,g){return K.current.useCallback(R,g)},Ee.useContext=function(R){return K.current.useContext(R)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(R){return K.current.useDeferredValue(R)},Ee.useEffect=function(R,g){return K.current.useEffect(R,g)},Ee.useId=function(){return K.current.useId()},Ee.useImperativeHandle=function(R,g,Q){return K.current.useImperativeHandle(R,g,Q)},Ee.useInsertionEffect=function(R,g){return K.current.useInsertionEffect(R,g)},Ee.useLayoutEffect=function(R,g){return K.current.useLayoutEffect(R,g)},Ee.useMemo=function(R,g){return K.current.useMemo(R,g)},Ee.useReducer=function(R,g,Q){return K.current.useReducer(R,g,Q)},Ee.useRef=function(R){return K.current.useRef(R)},Ee.useState=function(R){return K.current.useState(R)},Ee.useSyncExternalStore=function(R,g,Q){return K.current.useSyncExternalStore(R,g,Q)},Ee.useTransition=function(){return K.current.useTransition()},Ee.version="18.3.1",Ee}var up;function Vu(){return up||(up=1,Yc.exports=$0()),Yc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function q0(){if(dp)return Va;dp=1;var s=Vu(),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(p,f,v){var N,y={},j=null,S=null;v!==void 0&&(j=""+v),f.key!==void 0&&(j=""+f.key),f.ref!==void 0&&(S=f.ref);for(N in f)i.call(f,N)&&!d.hasOwnProperty(N)&&(y[N]=f[N]);if(p&&p.defaultProps)for(N in f=p.defaultProps,f)y[N]===void 0&&(y[N]=f[N]);return{$$typeof:r,type:p,key:j,ref:S,props:y,_owner:c.current}}return Va.Fragment=l,Va.jsx=h,Va.jsxs=h,Va}var hp;function Q0(){return hp||(hp=1,Jc.exports=q0()),Jc.exports}var e=Q0(),b=Vu();const G0=V0(b),W0=z0({__proto__:null,default:G0},[b]);var ji={},Zc={exports:{}},kt={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function X0(){return mp||(mp=1,(function(s){function r(G,le){var re=G.length;G.push(le);e:for(;0<re;){var R=re-1>>>1,g=G[R];if(0<c(g,le))G[R]=le,G[re]=g,re=R;else break e}}function l(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var le=G[0],re=G.pop();if(re!==le){G[0]=re;e:for(var R=0,g=G.length,Q=g>>>1;R<Q;){var A=2*(R+1)-1,X=G[A],fe=A+1,xe=G[fe];if(0>c(X,re))fe<g&&0>c(xe,X)?(G[R]=xe,G[fe]=re,R=fe):(G[R]=X,G[A]=re,R=A);else if(fe<g&&0>c(xe,re))G[R]=xe,G[fe]=re,R=fe;else break e}}return le}function c(G,le){var re=G.sortIndex-le.sortIndex;return re!==0?re:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var f=[],v=[],N=1,y=null,j=3,S=!1,w=!1,D=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(G){for(var le=l(v);le!==null;){if(le.callback===null)i(v);else if(le.startTime<=G)i(v),le.sortIndex=le.expirationTime,r(f,le);else break;le=l(v)}}function C(G){if(D=!1,P(G),!w)if(l(f)!==null)w=!0,oe(H);else{var le=l(v);le!==null&&K(C,le.startTime-G)}}function H(G,le){w=!1,D&&(D=!1,T(F),F=-1),S=!0;var re=j;try{for(P(le),y=l(f);y!==null&&(!(y.expirationTime>le)||G&&!Y());){var R=y.callback;if(typeof R=="function"){y.callback=null,j=y.priorityLevel;var g=R(y.expirationTime<=le);le=s.unstable_now(),typeof g=="function"?y.callback=g:y===l(f)&&i(f),P(le)}else i(f);y=l(f)}if(y!==null)var Q=!0;else{var A=l(v);A!==null&&K(C,A.startTime-le),Q=!1}return Q}finally{y=null,j=re,S=!1}}var W=!1,M=null,F=-1,se=5,U=-1;function Y(){return!(s.unstable_now()-U<se)}function pe(){if(M!==null){var G=s.unstable_now();U=G;var le=!0;try{le=M(!0,G)}finally{le?J():(W=!1,M=null)}}else W=!1}var J;if(typeof _=="function")J=function(){_(pe)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,$=de.port2;de.port1.onmessage=pe,J=function(){$.postMessage(null)}}else J=function(){E(pe,0)};function oe(G){M=G,W||(W=!0,J())}function K(G,le){F=E(function(){G(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){w||S||(w=!0,oe(H))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_getFirstCallbackNode=function(){return l(f)},s.unstable_next=function(G){switch(j){case 1:case 2:case 3:var le=3;break;default:le=j}var re=j;j=le;try{return G()}finally{j=re}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=j;j=G;try{return le()}finally{j=re}},s.unstable_scheduleCallback=function(G,le,re){var R=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?R+re:R):re=R,G){case 1:var g=-1;break;case 2:g=250;break;case 5:g=1073741823;break;case 4:g=1e4;break;default:g=5e3}return g=re+g,G={id:N++,callback:le,priorityLevel:G,startTime:re,expirationTime:g,sortIndex:-1},re>R?(G.sortIndex=re,r(v,G),l(f)===null&&G===l(v)&&(D?(T(F),F=-1):D=!0,K(C,re-R))):(G.sortIndex=g,r(f,G),w||S||(w=!0,oe(H))),G},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(G){var le=j;return function(){var re=j;j=le;try{return G.apply(this,arguments)}finally{j=re}}}})(tu)),tu}var pp;function J0(){return pp||(pp=1,eu.exports=X0()),eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function Y0(){if(fp)return kt;fp=1;var s=Vu(),r=J0();function l(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function d(t,n){h(t,n),h(t+"Capture",n)}function h(t,n){for(c[t]=n,t=0;t<n.length;t++)i.add(n[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},y={};function j(t){return f.call(y,t)?!0:f.call(N,t)?!1:v.test(t)?y[t]=!0:(N[t]=!0,!1)}function S(t,n,a,o){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w(t,n,a,o){if(n===null||typeof n>"u"||S(t,n,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(t,n,a,o,u,m,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=t,this.type=n,this.sanitizeURL=m,this.removeEmptyString=x}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){E[t]=new D(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];E[n]=new D(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){E[t]=new D(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){E[t]=new D(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){E[t]=new D(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){E[t]=new D(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){E[t]=new D(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){E[t]=new D(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){E[t]=new D(t,5,!1,t.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(T,_);E[n]=new D(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(T,_);E[n]=new D(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(T,_);E[n]=new D(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){E[t]=new D(t,1,!1,t.toLowerCase(),null,!1,!1)}),E.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){E[t]=new D(t,1,!1,t.toLowerCase(),null,!0,!0)});function P(t,n,a,o){var u=E.hasOwnProperty(n)?E[n]:null;(u!==null?u.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(w(n,a,u,o)&&(a=null),o||u===null?j(n)&&(a===null?t.removeAttribute(n):t.setAttribute(n,""+a)):u.mustUseProperty?t[u.propertyName]=a===null?u.type===3?!1:"":a:(n=u.attributeName,o=u.attributeNamespace,a===null?t.removeAttribute(n):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,o?t.setAttributeNS(o,n,a):t.setAttribute(n,a))))}var C=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),W=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Y=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,R;function g(t){if(R===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);R=n&&n[1]||""}return`
`+R+t}var Q=!1;function A(t,n){if(!t||Q)return"";Q=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(V){var o=V}Reflect.construct(t,[],n)}else{try{n.call()}catch(V){o=V}t.call(n.prototype)}else{try{throw Error()}catch(V){o=V}t()}}catch(V){if(V&&o&&typeof V.stack=="string"){for(var u=V.stack.split(`
`),m=o.stack.split(`
`),x=u.length-1,k=m.length-1;1<=x&&0<=k&&u[x]!==m[k];)k--;for(;1<=x&&0<=k;x--,k--)if(u[x]!==m[k]){if(x!==1||k!==1)do if(x--,k--,0>k||u[x]!==m[k]){var O=`
`+u[x].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=x&&0<=k);break}}}finally{Q=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?g(t):""}function X(t){switch(t.tag){case 5:return g(t.type);case 16:return g("Lazy");case 13:return g("Suspense");case 19:return g("SuspenseList");case 0:case 2:case 15:return t=A(t.type,!1),t;case 11:return t=A(t.type.render,!1),t;case 1:return t=A(t.type,!0),t;default:return""}}function fe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case W:return"Portal";case se:return"Profiler";case F:return"StrictMode";case J:return"Suspense";case de:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y:return(t.displayName||"Context")+".Consumer";case U:return(t._context.displayName||"Context")+".Provider";case pe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return n=t.displayName||null,n!==null?n:fe(t.type)||"Memo";case oe:n=t._payload,t=t._init;try{return fe(t(n))}catch{}}return null}function xe(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(n);case 8:return n===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Se(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Re(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oe(t){var n=Re(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,m=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(x){o=""+x,m.call(this,x)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Un(t){t._valueTracker||(t._valueTracker=Oe(t))}function ar(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Re(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function te(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pe(t,n){var a=n.checked;return re({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function cn(t,n){var a=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;a=Se(n.value!=null?n.value:a),t._wrapperState={initialChecked:o,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function jn(t,n){n=n.checked,n!=null&&P(t,"checked",n,!1)}function lr(t,n){jn(t,n);var a=Se(n.value),o=n.type;if(a!=null)o==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?ro(t,n.type,a):n.hasOwnProperty("defaultValue")&&ro(t,n.type,Se(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function xd(t,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,a||n===t.value||(t.value=n),t.defaultValue=n}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function ro(t,n,a){(n!=="number"||te(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var aa=Array.isArray;function ir(t,n,a,o){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Se(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function ao(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(l(91));return re({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yd(t,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(l(92));if(aa(a)){if(1<a.length)throw Error(l(93));a=a[0]}n=a}n==null&&(n=""),a=n}t._wrapperState={initialValue:Se(a)}}function vd(t,n){var a=Se(n.value),o=Se(n.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),n.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),o!=null&&(t.defaultValue=""+o)}function Nd(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function bd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?bd(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ml,jd=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,o,u){MSApp.execUnsafeLocalFunction(function(){return t(n,a,o,u)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function la(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qg=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(t){Qg.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),ia[n]=ia[t]})});function wd(t,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||ia.hasOwnProperty(t)&&ia[t]?(""+n).trim():n+"px"}function Td(t,n){t=t.style;for(var a in n)if(n.hasOwnProperty(a)){var o=a.indexOf("--")===0,u=wd(a,n[a],o);a==="float"&&(a="cssFloat"),o?t.setProperty(a,u):t[a]=u}}var Gg=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(t,n){if(n){if(Gg[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(l(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(l(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(l(61))}if(n.style!=null&&typeof n.style!="object")throw Error(l(62))}}function oo(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function uo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ho=null,or=null,cr=null;function Cd(t){if(t=Pa(t)){if(typeof ho!="function")throw Error(l(280));var n=t.stateNode;n&&(n=Al(n),ho(t.stateNode,t.type,n))}}function Sd(t){or?cr?cr.push(t):cr=[t]:or=t}function kd(){if(or){var t=or,n=cr;if(cr=or=null,Cd(t),n)for(t=0;t<n.length;t++)Cd(n[t])}}function Ed(t,n){return t(n)}function Pd(){}var mo=!1;function Ld(t,n,a){if(mo)return t(n,a);mo=!0;try{return Ed(t,n,a)}finally{mo=!1,(or!==null||cr!==null)&&(Pd(),kd())}}function oa(t,n){var a=t.stateNode;if(a===null)return null;var o=Al(a);if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var po=!1;if(p)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){po=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{po=!1}function Wg(t,n,a,o,u,m,x,k,O){var V=Array.prototype.slice.call(arguments,3);try{n.apply(a,V)}catch(ee){this.onError(ee)}}var ua=!1,pl=null,fl=!1,fo=null,Xg={onError:function(t){ua=!0,pl=t}};function Jg(t,n,a,o,u,m,x,k,O){ua=!1,pl=null,Wg.apply(Xg,arguments)}function Yg(t,n,a,o,u,m,x,k,O){if(Jg.apply(this,arguments),ua){if(ua){var V=pl;ua=!1,pl=null}else throw Error(l(198));fl||(fl=!0,fo=V)}}function ks(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function _d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Dd(t){if(ks(t)!==t)throw Error(l(188))}function Zg(t){var n=t.alternate;if(!n){if(n=ks(t),n===null)throw Error(l(188));return n!==t?null:t}for(var a=t,o=n;;){var u=a.return;if(u===null)break;var m=u.alternate;if(m===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===a)return Dd(u),t;if(m===o)return Dd(u),n;m=m.sibling}throw Error(l(188))}if(a.return!==o.return)a=u,o=m;else{for(var x=!1,k=u.child;k;){if(k===a){x=!0,a=u,o=m;break}if(k===o){x=!0,o=u,a=m;break}k=k.sibling}if(!x){for(k=m.child;k;){if(k===a){x=!0,a=m,o=u;break}if(k===o){x=!0,o=m,a=u;break}k=k.sibling}if(!x)throw Error(l(189))}}if(a.alternate!==o)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:n}function Rd(t){return t=Zg(t),t!==null?Od(t):null}function Od(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Od(t);if(n!==null)return n;t=t.sibling}return null}var Md=r.unstable_scheduleCallback,Ad=r.unstable_cancelCallback,ex=r.unstable_shouldYield,tx=r.unstable_requestPaint,Je=r.unstable_now,nx=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,Id=r.unstable_UserBlockingPriority,gl=r.unstable_NormalPriority,sx=r.unstable_LowPriority,Hd=r.unstable_IdlePriority,xl=null,un=null;function rx(t){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:ix,ax=Math.log,lx=Math.LN2;function ix(t){return t>>>=0,t===0?32:31-(ax(t)/lx|0)|0}var yl=64,vl=4194304;function da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nl(t,n){var a=t.pendingLanes;if(a===0)return 0;var o=0,u=t.suspendedLanes,m=t.pingedLanes,x=a&268435455;if(x!==0){var k=x&~u;k!==0?o=da(k):(m&=x,m!==0&&(o=da(m)))}else x=a&~u,x!==0?o=da(x):m!==0&&(o=da(m));if(o===0)return 0;if(n!==0&&n!==o&&(n&u)===0&&(u=o&-o,m=n&-n,u>=m||u===16&&(m&4194240)!==0))return n;if((o&4)!==0&&(o|=a&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=o;0<n;)a=31-Xt(n),u=1<<a,o|=t[a],n&=~u;return o}function ox(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,m=t.pendingLanes;0<m;){var x=31-Xt(m),k=1<<x,O=u[x];O===-1?((k&a)===0||(k&o)!==0)&&(u[x]=ox(k,n)):O<=n&&(t.expiredLanes|=k),m&=~k}}function xo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fd(){var t=yl;return yl<<=1,(yl&4194240)===0&&(yl=64),t}function yo(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ha(t,n,a){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Xt(n),t[n]=a}function ux(t,n){var a=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<a;){var u=31-Xt(a),m=1<<u;n[u]=0,o[u]=-1,t[u]=-1,a&=~m}}function vo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Xt(a),u=1<<o;u&n|t[o]&n&&(t[o]|=n),a&=~u}}var He=0;function Bd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Kd,No,Ud,zd,Vd,bo=!1,bl=[],zn=null,Vn=null,$n=null,ma=new Map,pa=new Map,qn=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $d(t,n){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ma.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(n.pointerId)}}function fa(t,n,a,o,u,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[u]},n!==null&&(n=Pa(n),n!==null&&No(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function hx(t,n,a,o,u){switch(n){case"focusin":return zn=fa(zn,t,n,a,o,u),!0;case"dragenter":return Vn=fa(Vn,t,n,a,o,u),!0;case"mouseover":return $n=fa($n,t,n,a,o,u),!0;case"pointerover":var m=u.pointerId;return ma.set(m,fa(ma.get(m)||null,t,n,a,o,u)),!0;case"gotpointercapture":return m=u.pointerId,pa.set(m,fa(pa.get(m)||null,t,n,a,o,u)),!0}return!1}function qd(t){var n=Es(t.target);if(n!==null){var a=ks(n);if(a!==null){if(n=a.tag,n===13){if(n=_d(a),n!==null){t.blockedOn=n,Vd(t.priority,function(){Ud(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jl(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=wo(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);co=o,a.target.dispatchEvent(o),co=null}else return n=Pa(a),n!==null&&No(n),t.blockedOn=a,!1;n.shift()}return!0}function Qd(t,n,a){jl(t)&&a.delete(n)}function mx(){bo=!1,zn!==null&&jl(zn)&&(zn=null),Vn!==null&&jl(Vn)&&(Vn=null),$n!==null&&jl($n)&&($n=null),ma.forEach(Qd),pa.forEach(Qd)}function ga(t,n){t.blockedOn===n&&(t.blockedOn=null,bo||(bo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mx)))}function xa(t){function n(u){return ga(u,t)}if(0<bl.length){ga(bl[0],t);for(var a=1;a<bl.length;a++){var o=bl[a];o.blockedOn===t&&(o.blockedOn=null)}}for(zn!==null&&ga(zn,t),Vn!==null&&ga(Vn,t),$n!==null&&ga($n,t),ma.forEach(n),pa.forEach(n),a=0;a<qn.length;a++)o=qn[a],o.blockedOn===t&&(o.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)qd(a),a.blockedOn===null&&qn.shift()}var ur=C.ReactCurrentBatchConfig,wl=!0;function px(t,n,a,o){var u=He,m=ur.transition;ur.transition=null;try{He=1,jo(t,n,a,o)}finally{He=u,ur.transition=m}}function fx(t,n,a,o){var u=He,m=ur.transition;ur.transition=null;try{He=4,jo(t,n,a,o)}finally{He=u,ur.transition=m}}function jo(t,n,a,o){if(wl){var u=wo(t,n,a,o);if(u===null)Bo(t,n,o,Tl,a),$d(t,o);else if(hx(u,t,n,a,o))o.stopPropagation();else if($d(t,o),n&4&&-1<dx.indexOf(t)){for(;u!==null;){var m=Pa(u);if(m!==null&&Kd(m),m=wo(t,n,a,o),m===null&&Bo(t,n,o,Tl,a),m===u)break;u=m}u!==null&&o.stopPropagation()}else Bo(t,n,o,null,a)}}var Tl=null;function wo(t,n,a,o){if(Tl=null,t=uo(o),t=Es(t),t!==null)if(n=ks(t),n===null)t=null;else if(a=n.tag,a===13){if(t=_d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Tl=t,null}function Gd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nx()){case go:return 1;case Id:return 4;case gl:case sx:return 16;case Hd:return 536870912;default:return 16}default:return 16}}var Qn=null,To=null,Cl=null;function Wd(){if(Cl)return Cl;var t,n=To,a=n.length,o,u="value"in Qn?Qn.value:Qn.textContent,m=u.length;for(t=0;t<a&&n[t]===u[t];t++);var x=a-t;for(o=1;o<=x&&n[a-o]===u[m-o];o++);return Cl=u.slice(t,1<o?1-o:void 0)}function Sl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kl(){return!0}function Xd(){return!1}function Ot(t){function n(a,o,u,m,x){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(a=t[k],this[k]=a?a(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?kl:Xd,this.isPropagationStopped=Xd,this}return re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),n}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Ot(dr),ya=re({},dr,{view:0,detail:0}),gx=Ot(ya),So,ko,va,El=re({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==va&&(va&&t.type==="mousemove"?(So=t.screenX-va.screenX,ko=t.screenY-va.screenY):ko=So=0,va=t),So)},movementY:function(t){return"movementY"in t?t.movementY:ko}}),Jd=Ot(El),xx=re({},El,{dataTransfer:0}),yx=Ot(xx),vx=re({},ya,{relatedTarget:0}),Eo=Ot(vx),Nx=re({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=Ot(Nx),jx=re({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wx=Ot(jx),Tx=re({},dr,{data:0}),Yd=Ot(Tx),Cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ex(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=kx[t])?!!n[t]:!1}function Po(){return Ex}var Px=re({},ya,{key:function(t){if(t.key){var n=Cx[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lx=Ot(Px),_x=re({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=Ot(_x),Dx=re({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),Rx=Ot(Dx),Ox=re({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mx=Ot(Ox),Ax=re({},El,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ix=Ot(Ax),Hx=[9,13,27,32],Lo=p&&"CompositionEvent"in window,Na=null;p&&"documentMode"in document&&(Na=document.documentMode);var Fx=p&&"TextEvent"in window&&!Na,eh=p&&(!Lo||Na&&8<Na&&11>=Na),th=" ",nh=!1;function sh(t,n){switch(t){case"keyup":return Hx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hr=!1;function Bx(t,n){switch(t){case"compositionend":return rh(n);case"keypress":return n.which!==32?null:(nh=!0,th);case"textInput":return t=n.data,t===th&&nh?null:t;default:return null}}function Kx(t,n){if(hr)return t==="compositionend"||!Lo&&sh(t,n)?(t=Wd(),Cl=To=Qn=null,hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return eh&&n.locale!=="ko"?null:n.data;default:return null}}var Ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ah(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ux[t.type]:n==="textarea"}function lh(t,n,a,o){Sd(o),n=Rl(n,"onChange"),0<n.length&&(a=new Co("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ba=null,ja=null;function zx(t){Th(t,0)}function Pl(t){var n=xr(t);if(ar(n))return t}function Vx(t,n){if(t==="change")return n}var ih=!1;if(p){var _o;if(p){var Do="oninput"in document;if(!Do){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),Do=typeof oh.oninput=="function"}_o=Do}else _o=!1;ih=_o&&(!document.documentMode||9<document.documentMode)}function ch(){ba&&(ba.detachEvent("onpropertychange",uh),ja=ba=null)}function uh(t){if(t.propertyName==="value"&&Pl(ja)){var n=[];lh(n,ja,t,uo(t)),Ld(zx,n)}}function $x(t,n,a){t==="focusin"?(ch(),ba=n,ja=a,ba.attachEvent("onpropertychange",uh)):t==="focusout"&&ch()}function qx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pl(ja)}function Qx(t,n){if(t==="click")return Pl(n)}function Gx(t,n){if(t==="input"||t==="change")return Pl(n)}function Wx(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Jt=typeof Object.is=="function"?Object.is:Wx;function wa(t,n){if(Jt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!f.call(n,u)||!Jt(t[u],n[u]))return!1}return!0}function dh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hh(t,n){var a=dh(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dh(a)}}function mh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?mh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ph(){for(var t=window,n=te();n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=te(t.document)}return n}function Ro(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Xx(t){var n=ph(),a=t.focusedElem,o=t.selectionRange;if(n!==a&&a&&a.ownerDocument&&mh(a.ownerDocument.documentElement,a)){if(o!==null&&Ro(a)){if(n=o.start,t=o.end,t===void 0&&(t=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(t,a.value.length);else if(t=(n=a.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var u=a.textContent.length,m=Math.min(o.start,u);o=o.end===void 0?m:Math.min(o.end,u),!t.extend&&m>o&&(u=o,o=m,m=u),u=hh(a,m);var x=hh(a,o);u&&x&&(t.rangeCount!==1||t.anchorNode!==u.node||t.anchorOffset!==u.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),t.removeAllRanges(),m>o?(t.addRange(n),t.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),t.addRange(n)))}}for(n=[],t=a;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)t=n[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jx=p&&"documentMode"in document&&11>=document.documentMode,mr=null,Oo=null,Ta=null,Mo=!1;function fh(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mo||mr==null||mr!==te(o)||(o=mr,"selectionStart"in o&&Ro(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ta&&wa(Ta,o)||(Ta=o,o=Rl(Oo,"onSelect"),0<o.length&&(n=new Co("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=mr)))}function Ll(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var pr={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},Ao={},gh={};p&&(gh=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function _l(t){if(Ao[t])return Ao[t];if(!pr[t])return t;var n=pr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in gh)return Ao[t]=n[a];return t}var xh=_l("animationend"),yh=_l("animationiteration"),vh=_l("animationstart"),Nh=_l("transitionend"),bh=new Map,jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(t,n){bh.set(t,n),d(n,[t])}for(var Io=0;Io<jh.length;Io++){var Ho=jh[Io],Yx=Ho.toLowerCase(),Zx=Ho[0].toUpperCase()+Ho.slice(1);Gn(Yx,"on"+Zx)}Gn(xh,"onAnimationEnd"),Gn(yh,"onAnimationIteration"),Gn(vh,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Nh,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function wh(t,n,a){var o=t.type||"unknown-event";t.currentTarget=a,Yg(o,n,void 0,t),t.currentTarget=null}function Th(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var x=o.length-1;0<=x;x--){var k=o[x],O=k.instance,V=k.currentTarget;if(k=k.listener,O!==m&&u.isPropagationStopped())break e;wh(u,k,V),m=O}else for(x=0;x<o.length;x++){if(k=o[x],O=k.instance,V=k.currentTarget,k=k.listener,O!==m&&u.isPropagationStopped())break e;wh(u,k,V),m=O}}}if(fl)throw t=fo,fl=!1,fo=null,t}function Be(t,n){var a=n[qo];a===void 0&&(a=n[qo]=new Set);var o=t+"__bubble";a.has(o)||(Ch(n,t,2,!1),a.add(o))}function Fo(t,n,a){var o=0;n&&(o|=4),Ch(a,t,o,n)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function Sa(t){if(!t[Dl]){t[Dl]=!0,i.forEach(function(a){a!=="selectionchange"&&(e0.has(a)||Fo(a,!1,t),Fo(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Dl]||(n[Dl]=!0,Fo("selectionchange",!1,n))}}function Ch(t,n,a,o){switch(Gd(n)){case 1:var u=px;break;case 4:u=fx;break;default:u=jo}a=u.bind(null,n,a,t),u=void 0,!po||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Bo(t,n,a,o,u){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var k=o.stateNode.containerInfo;if(k===u||k.nodeType===8&&k.parentNode===u)break;if(x===4)for(x=o.return;x!==null;){var O=x.tag;if((O===3||O===4)&&(O=x.stateNode.containerInfo,O===u||O.nodeType===8&&O.parentNode===u))return;x=x.return}for(;k!==null;){if(x=Es(k),x===null)return;if(O=x.tag,O===5||O===6){o=m=x;continue e}k=k.parentNode}}o=o.return}Ld(function(){var V=m,ee=uo(a),ne=[];e:{var Z=bh.get(t);if(Z!==void 0){var ue=Co,ge=t;switch(t){case"keypress":if(Sl(a)===0)break e;case"keydown":case"keyup":ue=Lx;break;case"focusin":ge="focus",ue=Eo;break;case"focusout":ge="blur",ue=Eo;break;case"beforeblur":case"afterblur":ue=Eo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Rx;break;case xh:case yh:case vh:ue=bx;break;case Nh:ue=Mx;break;case"scroll":ue=gx;break;case"wheel":ue=Ix;break;case"copy":case"cut":case"paste":ue=wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Zd}var ye=(n&4)!==0,Ye=!ye&&t==="scroll",B=ye?Z!==null?Z+"Capture":null:Z;ye=[];for(var I=V,z;I!==null;){z=I;var ae=z.stateNode;if(z.tag===5&&ae!==null&&(z=ae,B!==null&&(ae=oa(I,B),ae!=null&&ye.push(ka(I,ae,z)))),Ye)break;I=I.return}0<ye.length&&(Z=new ue(Z,ge,null,a,ee),ne.push({event:Z,listeners:ye}))}}if((n&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",Z&&a!==co&&(ge=a.relatedTarget||a.fromElement)&&(Es(ge)||ge[wn]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(ge=a.relatedTarget||a.toElement,ue=V,ge=ge?Es(ge):null,ge!==null&&(Ye=ks(ge),ge!==Ye||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(ue=null,ge=V),ue!==ge)){if(ye=Jd,ae="onMouseLeave",B="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Zd,ae="onPointerLeave",B="onPointerEnter",I="pointer"),Ye=ue==null?Z:xr(ue),z=ge==null?Z:xr(ge),Z=new ye(ae,I+"leave",ue,a,ee),Z.target=Ye,Z.relatedTarget=z,ae=null,Es(ee)===V&&(ye=new ye(B,I+"enter",ge,a,ee),ye.target=z,ye.relatedTarget=Ye,ae=ye),Ye=ae,ue&&ge)t:{for(ye=ue,B=ge,I=0,z=ye;z;z=fr(z))I++;for(z=0,ae=B;ae;ae=fr(ae))z++;for(;0<I-z;)ye=fr(ye),I--;for(;0<z-I;)B=fr(B),z--;for(;I--;){if(ye===B||B!==null&&ye===B.alternate)break t;ye=fr(ye),B=fr(B)}ye=null}else ye=null;ue!==null&&Sh(ne,Z,ue,ye,!1),ge!==null&&Ye!==null&&Sh(ne,Ye,ge,ye,!0)}}e:{if(Z=V?xr(V):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ve=Vx;else if(ah(Z))if(ih)ve=Gx;else{ve=qx;var je=$x}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ve=Qx);if(ve&&(ve=ve(t,V))){lh(ne,ve,a,ee);break e}je&&je(t,Z,V),t==="focusout"&&(je=Z._wrapperState)&&je.controlled&&Z.type==="number"&&ro(Z,"number",Z.value)}switch(je=V?xr(V):window,t){case"focusin":(ah(je)||je.contentEditable==="true")&&(mr=je,Oo=V,Ta=null);break;case"focusout":Ta=Oo=mr=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,fh(ne,a,ee);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":fh(ne,a,ee)}var we;if(Lo)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else hr?sh(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(eh&&a.locale!=="ko"&&(hr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&hr&&(we=Wd()):(Qn=ee,To="value"in Qn?Qn.value:Qn.textContent,hr=!0)),je=Rl(V,Te),0<je.length&&(Te=new Yd(Te,t,null,a,ee),ne.push({event:Te,listeners:je}),we?Te.data=we:(we=rh(a),we!==null&&(Te.data=we)))),(we=Fx?Bx(t,a):Kx(t,a))&&(V=Rl(V,"onBeforeInput"),0<V.length&&(ee=new Yd("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:V}),ee.data=we))}Th(ne,n)})}function ka(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Rl(t,n){for(var a=n+"Capture",o=[];t!==null;){var u=t,m=u.stateNode;u.tag===5&&m!==null&&(u=m,m=oa(t,a),m!=null&&o.unshift(ka(t,m,u)),m=oa(t,n),m!=null&&o.push(ka(t,m,u))),t=t.return}return o}function fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sh(t,n,a,o,u){for(var m=n._reactName,x=[];a!==null&&a!==o;){var k=a,O=k.alternate,V=k.stateNode;if(O!==null&&O===o)break;k.tag===5&&V!==null&&(k=V,u?(O=oa(a,m),O!=null&&x.unshift(ka(a,O,k))):u||(O=oa(a,m),O!=null&&x.push(ka(a,O,k)))),a=a.return}x.length!==0&&t.push({event:n,listeners:x})}var t0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function kh(t){return(typeof t=="string"?t:""+t).replace(t0,`
`).replace(n0,"")}function Ol(t,n,a){if(n=kh(n),kh(t)!==n&&a)throw Error(l(425))}function Ml(){}var Ko=null,Uo=null;function zo(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,r0=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(t){return Eh.resolve(null).then(t).catch(a0)}:Vo;function a0(t){setTimeout(function(){throw t})}function $o(t,n){var a=n,o=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(o===0){t.removeChild(u),xa(n);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=u}while(a);xa(n)}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Ph(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}var gr=Math.random().toString(36).slice(2),dn="__reactFiber$"+gr,Ea="__reactProps$"+gr,wn="__reactContainer$"+gr,qo="__reactEvents$"+gr,l0="__reactListeners$"+gr,i0="__reactHandles$"+gr;function Es(t){var n=t[dn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[wn]||a[dn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ph(t);t!==null;){if(a=t[dn])return a;t=Ph(t)}return n}t=a,a=t.parentNode}return null}function Pa(t){return t=t[dn]||t[wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(l(33))}function Al(t){return t[Ea]||null}var Qo=[],yr=-1;function Xn(t){return{current:t}}function Ke(t){0>yr||(t.current=Qo[yr],Qo[yr]=null,yr--)}function Fe(t,n){yr++,Qo[yr]=t.current,t.current=n}var Jn={},ht=Xn(Jn),jt=Xn(!1),Ps=Jn;function vr(t,n){var a=t.type.contextTypes;if(!a)return Jn;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var u={},m;for(m in a)u[m]=n[m];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=u),u}function wt(t){return t=t.childContextTypes,t!=null}function Il(){Ke(jt),Ke(ht)}function Lh(t,n,a){if(ht.current!==Jn)throw Error(l(168));Fe(ht,n),Fe(jt,a)}function _h(t,n,a){var o=t.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var u in o)if(!(u in n))throw Error(l(108,xe(t)||"Unknown",u));return re({},a,o)}function Hl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jn,Ps=ht.current,Fe(ht,t),Fe(jt,jt.current),!0}function Dh(t,n,a){var o=t.stateNode;if(!o)throw Error(l(169));a?(t=_h(t,n,Ps),o.__reactInternalMemoizedMergedChildContext=t,Ke(jt),Ke(ht),Fe(ht,t)):Ke(jt),Fe(jt,a)}var Tn=null,Fl=!1,Go=!1;function Rh(t){Tn===null?Tn=[t]:Tn.push(t)}function o0(t){Fl=!0,Rh(t)}function Yn(){if(!Go&&Tn!==null){Go=!0;var t=0,n=He;try{var a=Tn;for(He=1;t<a.length;t++){var o=a[t];do o=o(!0);while(o!==null)}Tn=null,Fl=!1}catch(u){throw Tn!==null&&(Tn=Tn.slice(t+1)),Md(go,Yn),u}finally{He=n,Go=!1}}return null}var Nr=[],br=0,Bl=null,Kl=0,Bt=[],Kt=0,Ls=null,Cn=1,Sn="";function _s(t,n){Nr[br++]=Kl,Nr[br++]=Bl,Bl=t,Kl=n}function Oh(t,n,a){Bt[Kt++]=Cn,Bt[Kt++]=Sn,Bt[Kt++]=Ls,Ls=t;var o=Cn;t=Sn;var u=32-Xt(o)-1;o&=~(1<<u),a+=1;var m=32-Xt(n)+u;if(30<m){var x=u-u%5;m=(o&(1<<x)-1).toString(32),o>>=x,u-=x,Cn=1<<32-Xt(n)+u|a<<u|o,Sn=m+t}else Cn=1<<m|a<<u|o,Sn=t}function Wo(t){t.return!==null&&(_s(t,1),Oh(t,1,0))}function Xo(t){for(;t===Bl;)Bl=Nr[--br],Nr[br]=null,Kl=Nr[--br],Nr[br]=null;for(;t===Ls;)Ls=Bt[--Kt],Bt[Kt]=null,Sn=Bt[--Kt],Bt[Kt]=null,Cn=Bt[--Kt],Bt[Kt]=null}var Mt=null,At=null,Ue=!1,Yt=null;function Mh(t,n){var a=$t(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=t,n=t.deletions,n===null?(t.deletions=[a],t.flags|=16):n.push(a)}function Ah(t,n){switch(t.tag){case 5:var a=t.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Mt=t,At=Wn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Mt=t,At=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Ls!==null?{id:Cn,overflow:Sn}:null,t.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=$t(18,null,null,0),a.stateNode=n,a.return=t,t.child=a,Mt=t,At=null,!0):!1;default:return!1}}function Jo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yo(t){if(Ue){var n=At;if(n){var a=n;if(!Ah(t,n)){if(Jo(t))throw Error(l(418));n=Wn(a.nextSibling);var o=Mt;n&&Ah(t,n)?Mh(o,a):(t.flags=t.flags&-4097|2,Ue=!1,Mt=t)}}else{if(Jo(t))throw Error(l(418));t.flags=t.flags&-4097|2,Ue=!1,Mt=t}}}function Ih(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function Ul(t){if(t!==Mt)return!1;if(!Ue)return Ih(t),Ue=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!zo(t.type,t.memoizedProps)),n&&(n=At)){if(Jo(t))throw Hh(),Error(l(418));for(;n;)Mh(t,n),n=Wn(n.nextSibling)}if(Ih(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(n===0){At=Wn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}t=t.nextSibling}At=null}}else At=Mt?Wn(t.stateNode.nextSibling):null;return!0}function Hh(){for(var t=At;t;)t=Wn(t.nextSibling)}function jr(){At=Mt=null,Ue=!1}function Zo(t){Yt===null?Yt=[t]:Yt.push(t)}var c0=C.ReactCurrentBatchConfig;function La(t,n,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(l(309));var o=a.stateNode}if(!o)throw Error(l(147,t));var u=o,m=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(x){var k=u.refs;x===null?delete k[m]:k[m]=x},n._stringRef=m,n)}if(typeof t!="string")throw Error(l(284));if(!a._owner)throw Error(l(290,t))}return t}function zl(t,n){throw t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Fh(t){var n=t._init;return n(t._payload)}function Bh(t){function n(B,I){if(t){var z=B.deletions;z===null?(B.deletions=[I],B.flags|=16):z.push(I)}}function a(B,I){if(!t)return null;for(;I!==null;)n(B,I),I=I.sibling;return null}function o(B,I){for(B=new Map;I!==null;)I.key!==null?B.set(I.key,I):B.set(I.index,I),I=I.sibling;return B}function u(B,I){return B=ls(B,I),B.index=0,B.sibling=null,B}function m(B,I,z){return B.index=z,t?(z=B.alternate,z!==null?(z=z.index,z<I?(B.flags|=2,I):z):(B.flags|=2,I)):(B.flags|=1048576,I)}function x(B){return t&&B.alternate===null&&(B.flags|=2),B}function k(B,I,z,ae){return I===null||I.tag!==6?(I=Vc(z,B.mode,ae),I.return=B,I):(I=u(I,z),I.return=B,I)}function O(B,I,z,ae){var ve=z.type;return ve===M?ee(B,I,z.props.children,ae,z.key):I!==null&&(I.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===oe&&Fh(ve)===I.type)?(ae=u(I,z.props),ae.ref=La(B,I,z),ae.return=B,ae):(ae=mi(z.type,z.key,z.props,null,B.mode,ae),ae.ref=La(B,I,z),ae.return=B,ae)}function V(B,I,z,ae){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=$c(z,B.mode,ae),I.return=B,I):(I=u(I,z.children||[]),I.return=B,I)}function ee(B,I,z,ae,ve){return I===null||I.tag!==7?(I=Fs(z,B.mode,ae,ve),I.return=B,I):(I=u(I,z),I.return=B,I)}function ne(B,I,z){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Vc(""+I,B.mode,z),I.return=B,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return z=mi(I.type,I.key,I.props,null,B.mode,z),z.ref=La(B,null,I),z.return=B,z;case W:return I=$c(I,B.mode,z),I.return=B,I;case oe:var ae=I._init;return ne(B,ae(I._payload),z)}if(aa(I)||le(I))return I=Fs(I,B.mode,z,null),I.return=B,I;zl(B,I)}return null}function Z(B,I,z,ae){var ve=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:k(B,I,""+z,ae);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case H:return z.key===ve?O(B,I,z,ae):null;case W:return z.key===ve?V(B,I,z,ae):null;case oe:return ve=z._init,Z(B,I,ve(z._payload),ae)}if(aa(z)||le(z))return ve!==null?null:ee(B,I,z,ae,null);zl(B,z)}return null}function ue(B,I,z,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return B=B.get(z)||null,k(I,B,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case H:return B=B.get(ae.key===null?z:ae.key)||null,O(I,B,ae,ve);case W:return B=B.get(ae.key===null?z:ae.key)||null,V(I,B,ae,ve);case oe:var je=ae._init;return ue(B,I,z,je(ae._payload),ve)}if(aa(ae)||le(ae))return B=B.get(z)||null,ee(I,B,ae,ve,null);zl(I,ae)}return null}function ge(B,I,z,ae){for(var ve=null,je=null,we=I,Te=I=0,it=null;we!==null&&Te<z.length;Te++){we.index>Te?(it=we,we=null):it=we.sibling;var Me=Z(B,we,z[Te],ae);if(Me===null){we===null&&(we=it);break}t&&we&&Me.alternate===null&&n(B,we),I=m(Me,I,Te),je===null?ve=Me:je.sibling=Me,je=Me,we=it}if(Te===z.length)return a(B,we),Ue&&_s(B,Te),ve;if(we===null){for(;Te<z.length;Te++)we=ne(B,z[Te],ae),we!==null&&(I=m(we,I,Te),je===null?ve=we:je.sibling=we,je=we);return Ue&&_s(B,Te),ve}for(we=o(B,we);Te<z.length;Te++)it=ue(we,B,Te,z[Te],ae),it!==null&&(t&&it.alternate!==null&&we.delete(it.key===null?Te:it.key),I=m(it,I,Te),je===null?ve=it:je.sibling=it,je=it);return t&&we.forEach(function(is){return n(B,is)}),Ue&&_s(B,Te),ve}function ye(B,I,z,ae){var ve=le(z);if(typeof ve!="function")throw Error(l(150));if(z=ve.call(z),z==null)throw Error(l(151));for(var je=ve=null,we=I,Te=I=0,it=null,Me=z.next();we!==null&&!Me.done;Te++,Me=z.next()){we.index>Te?(it=we,we=null):it=we.sibling;var is=Z(B,we,Me.value,ae);if(is===null){we===null&&(we=it);break}t&&we&&is.alternate===null&&n(B,we),I=m(is,I,Te),je===null?ve=is:je.sibling=is,je=is,we=it}if(Me.done)return a(B,we),Ue&&_s(B,Te),ve;if(we===null){for(;!Me.done;Te++,Me=z.next())Me=ne(B,Me.value,ae),Me!==null&&(I=m(Me,I,Te),je===null?ve=Me:je.sibling=Me,je=Me);return Ue&&_s(B,Te),ve}for(we=o(B,we);!Me.done;Te++,Me=z.next())Me=ue(we,B,Te,Me.value,ae),Me!==null&&(t&&Me.alternate!==null&&we.delete(Me.key===null?Te:Me.key),I=m(Me,I,Te),je===null?ve=Me:je.sibling=Me,je=Me);return t&&we.forEach(function(U0){return n(B,U0)}),Ue&&_s(B,Te),ve}function Ye(B,I,z,ae){if(typeof z=="object"&&z!==null&&z.type===M&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case H:e:{for(var ve=z.key,je=I;je!==null;){if(je.key===ve){if(ve=z.type,ve===M){if(je.tag===7){a(B,je.sibling),I=u(je,z.props.children),I.return=B,B=I;break e}}else if(je.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===oe&&Fh(ve)===je.type){a(B,je.sibling),I=u(je,z.props),I.ref=La(B,je,z),I.return=B,B=I;break e}a(B,je);break}else n(B,je);je=je.sibling}z.type===M?(I=Fs(z.props.children,B.mode,ae,z.key),I.return=B,B=I):(ae=mi(z.type,z.key,z.props,null,B.mode,ae),ae.ref=La(B,I,z),ae.return=B,B=ae)}return x(B);case W:e:{for(je=z.key;I!==null;){if(I.key===je)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(B,I.sibling),I=u(I,z.children||[]),I.return=B,B=I;break e}else{a(B,I);break}else n(B,I);I=I.sibling}I=$c(z,B.mode,ae),I.return=B,B=I}return x(B);case oe:return je=z._init,Ye(B,I,je(z._payload),ae)}if(aa(z))return ge(B,I,z,ae);if(le(z))return ye(B,I,z,ae);zl(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,I!==null&&I.tag===6?(a(B,I.sibling),I=u(I,z),I.return=B,B=I):(a(B,I),I=Vc(z,B.mode,ae),I.return=B,B=I),x(B)):a(B,I)}return Ye}var wr=Bh(!0),Kh=Bh(!1),Vl=Xn(null),$l=null,Tr=null,ec=null;function tc(){ec=Tr=$l=null}function nc(t){var n=Vl.current;Ke(Vl),t._currentValue=n}function sc(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Cr(t,n){$l=t,ec=Tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Tt=!0),t.firstContext=null)}function Ut(t){var n=t._currentValue;if(ec!==t)if(t={context:t,memoizedValue:n,next:null},Tr===null){if($l===null)throw Error(l(308));Tr=t,$l.dependencies={lanes:0,firstContext:t}}else Tr=Tr.next=t;return n}var Ds=null;function rc(t){Ds===null?Ds=[t]:Ds.push(t)}function Uh(t,n,a,o){var u=n.interleaved;return u===null?(a.next=a,rc(n)):(a.next=u.next,u.next=a),n.interleaved=a,kn(t,o)}function kn(t,n){t.lanes|=n;var a=t.alternate;for(a!==null&&(a.lanes|=n),a=t,t=t.return;t!==null;)t.childLanes|=n,a=t.alternate,a!==null&&(a.childLanes|=n),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Zn=!1;function ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function En(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function es(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(De&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,kn(t,a)}return u=o.interleaved,u===null?(n.next=n,rc(o)):(n.next=u.next,u.next=n),o.interleaved=n,kn(t,a)}function ql(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,vo(t,a)}}function Vh(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?u=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?u=m=n:m=m.next=n}else u=m=n;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:o.shared,effects:o.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}function Ql(t,n,a,o){var u=t.updateQueue;Zn=!1;var m=u.firstBaseUpdate,x=u.lastBaseUpdate,k=u.shared.pending;if(k!==null){u.shared.pending=null;var O=k,V=O.next;O.next=null,x===null?m=V:x.next=V,x=O;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==x&&(k===null?ee.firstBaseUpdate=V:k.next=V,ee.lastBaseUpdate=O))}if(m!==null){var ne=u.baseState;x=0,ee=V=O=null,k=m;do{var Z=k.lane,ue=k.eventTime;if((o&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ge=t,ye=k;switch(Z=n,ue=a,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){ne=ge.call(ue,ne,Z);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,Z=typeof ge=="function"?ge.call(ue,ne,Z):ge,Z==null)break e;ne=re({},ne,Z);break e;case 2:Zn=!0}}k.callback!==null&&k.lane!==0&&(t.flags|=64,Z=u.effects,Z===null?u.effects=[k]:Z.push(k))}else ue={eventTime:ue,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(V=ee=ue,O=ne):ee=ee.next=ue,x|=Z;if(k=k.next,k===null){if(k=u.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,u.lastBaseUpdate=Z,u.shared.pending=null}}while(!0);if(ee===null&&(O=ne),u.baseState=O,u.firstBaseUpdate=V,u.lastBaseUpdate=ee,n=u.shared.interleaved,n!==null){u=n;do x|=u.lane,u=u.next;while(u!==n)}else m===null&&(u.shared.lanes=0);Ms|=x,t.lanes=x,t.memoizedState=ne}}function $h(t,n,a){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var o=t[n],u=o.callback;if(u!==null){if(o.callback=null,o=a,typeof u!="function")throw Error(l(191,u));u.call(o)}}}var _a={},hn=Xn(_a),Da=Xn(_a),Ra=Xn(_a);function Rs(t){if(t===_a)throw Error(l(174));return t}function lc(t,n){switch(Fe(Ra,n),Fe(Da,t),Fe(hn,_a),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:lo(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=lo(n,t)}Ke(hn),Fe(hn,n)}function Sr(){Ke(hn),Ke(Da),Ke(Ra)}function qh(t){Rs(Ra.current);var n=Rs(hn.current),a=lo(n,t.type);n!==a&&(Fe(Da,t),Fe(hn,a))}function ic(t){Da.current===t&&(Ke(hn),Ke(Da))}var $e=Xn(0);function Gl(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var oc=[];function cc(){for(var t=0;t<oc.length;t++)oc[t]._workInProgressVersionPrimary=null;oc.length=0}var Wl=C.ReactCurrentDispatcher,uc=C.ReactCurrentBatchConfig,Os=0,qe=null,tt=null,at=null,Xl=!1,Oa=!1,Ma=0,u0=0;function mt(){throw Error(l(321))}function dc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Jt(t[a],n[a]))return!1;return!0}function hc(t,n,a,o,u,m){if(Os=m,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Wl.current=t===null||t.memoizedState===null?p0:f0,t=a(o,u),Oa){m=0;do{if(Oa=!1,Ma=0,25<=m)throw Error(l(301));m+=1,at=tt=null,n.updateQueue=null,Wl.current=g0,t=a(o,u)}while(Oa)}if(Wl.current=Zl,n=tt!==null&&tt.next!==null,Os=0,at=tt=qe=null,Xl=!1,n)throw Error(l(300));return t}function mc(){var t=Ma!==0;return Ma=0,t}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?qe.memoizedState=at=t:at=at.next=t,at}function zt(){if(tt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=at===null?qe.memoizedState:at.next;if(n!==null)at=n,tt=t;else{if(t===null)throw Error(l(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},at===null?qe.memoizedState=at=t:at=at.next=t}return at}function Aa(t,n){return typeof n=="function"?n(t):n}function pc(t){var n=zt(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var o=tt,u=o.baseQueue,m=a.pending;if(m!==null){if(u!==null){var x=u.next;u.next=m.next,m.next=x}o.baseQueue=u=m,a.pending=null}if(u!==null){m=u.next,o=o.baseState;var k=x=null,O=null,V=m;do{var ee=V.lane;if((Os&ee)===ee)O!==null&&(O=O.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),o=V.hasEagerState?V.eagerState:t(o,V.action);else{var ne={lane:ee,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};O===null?(k=O=ne,x=o):O=O.next=ne,qe.lanes|=ee,Ms|=ee}V=V.next}while(V!==null&&V!==m);O===null?x=o:O.next=k,Jt(o,n.memoizedState)||(Tt=!0),n.memoizedState=o,n.baseState=x,n.baseQueue=O,a.lastRenderedState=o}if(t=a.interleaved,t!==null){u=t;do m=u.lane,qe.lanes|=m,Ms|=m,u=u.next;while(u!==t)}else u===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function fc(t){var n=zt(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,m=n.memoizedState;if(u!==null){a.pending=null;var x=u=u.next;do m=t(m,x.action),x=x.next;while(x!==u);Jt(m,n.memoizedState)||(Tt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function Qh(){}function Gh(t,n){var a=qe,o=zt(),u=n(),m=!Jt(o.memoizedState,u);if(m&&(o.memoizedState=u,Tt=!0),o=o.queue,gc(Jh.bind(null,a,o,t),[t]),o.getSnapshot!==n||m||at!==null&&at.memoizedState.tag&1){if(a.flags|=2048,Ia(9,Xh.bind(null,a,o,u,n),void 0,null),lt===null)throw Error(l(349));(Os&30)!==0||Wh(a,n,u)}return u}function Wh(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=qe.updateQueue,n===null?(n={lastEffect:null,stores:null},qe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Xh(t,n,a,o){n.value=a,n.getSnapshot=o,Yh(n)&&Zh(t)}function Jh(t,n,a){return a(function(){Yh(n)&&Zh(t)})}function Yh(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Jt(t,a)}catch{return!0}}function Zh(t){var n=kn(t,1);n!==null&&nn(n,t,1,-1)}function em(t){var n=mn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},n.queue=t,t=t.dispatch=m0.bind(null,qe,t),[n.memoizedState,t]}function Ia(t,n,a,o){return t={tag:t,create:n,destroy:a,deps:o,next:null},n=qe.updateQueue,n===null?(n={lastEffect:null,stores:null},qe.updateQueue=n,n.lastEffect=t.next=t):(a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t)),t}function tm(){return zt().memoizedState}function Jl(t,n,a,o){var u=mn();qe.flags|=t,u.memoizedState=Ia(1|n,a,void 0,o===void 0?null:o)}function Yl(t,n,a,o){var u=zt();o=o===void 0?null:o;var m=void 0;if(tt!==null){var x=tt.memoizedState;if(m=x.destroy,o!==null&&dc(o,x.deps)){u.memoizedState=Ia(n,a,m,o);return}}qe.flags|=t,u.memoizedState=Ia(1|n,a,m,o)}function nm(t,n){return Jl(8390656,8,t,n)}function gc(t,n){return Yl(2048,8,t,n)}function sm(t,n){return Yl(4,2,t,n)}function rm(t,n){return Yl(4,4,t,n)}function am(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lm(t,n,a){return a=a!=null?a.concat([t]):null,Yl(4,4,am.bind(null,n,t),a)}function xc(){}function im(t,n){var a=zt();n=n===void 0?null:n;var o=a.memoizedState;return o!==null&&n!==null&&dc(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function om(t,n){var a=zt();n=n===void 0?null:n;var o=a.memoizedState;return o!==null&&n!==null&&dc(n,o[1])?o[0]:(t=t(),a.memoizedState=[t,n],t)}function cm(t,n,a){return(Os&21)===0?(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=a):(Jt(a,n)||(a=Fd(),qe.lanes|=a,Ms|=a,t.baseState=!0),n)}function d0(t,n){var a=He;He=a!==0&&4>a?a:4,t(!0);var o=uc.transition;uc.transition={};try{t(!1),n()}finally{He=a,uc.transition=o}}function um(){return zt().memoizedState}function h0(t,n,a){var o=rs(t);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},dm(t))hm(n,a);else if(a=Uh(t,n,a,o),a!==null){var u=yt();nn(a,t,o,u),mm(a,n,o)}}function m0(t,n,a){var o=rs(t),u={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(dm(t))hm(n,u);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var x=n.lastRenderedState,k=m(x,a);if(u.hasEagerState=!0,u.eagerState=k,Jt(k,x)){var O=n.interleaved;O===null?(u.next=u,rc(n)):(u.next=O.next,O.next=u),n.interleaved=u;return}}catch{}finally{}a=Uh(t,n,u,o),a!==null&&(u=yt(),nn(a,t,o,u),mm(a,n,o))}}function dm(t){var n=t.alternate;return t===qe||n!==null&&n===qe}function hm(t,n){Oa=Xl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function mm(t,n,a){if((a&4194240)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,vo(t,a)}}var Zl={readContext:Ut,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},p0={readContext:Ut,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:Ut,useEffect:nm,useImperativeHandle:function(t,n,a){return a=a!=null?a.concat([t]):null,Jl(4194308,4,am.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Jl(4194308,4,t,n)},useInsertionEffect:function(t,n){return Jl(4,2,t,n)},useMemo:function(t,n){var a=mn();return n=n===void 0?null:n,t=t(),a.memoizedState=[t,n],t},useReducer:function(t,n,a){var o=mn();return n=a!==void 0?a(n):n,o.memoizedState=o.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},o.queue=t,t=t.dispatch=h0.bind(null,qe,t),[o.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:em,useDebugValue:xc,useDeferredValue:function(t){return mn().memoizedState=t},useTransition:function(){var t=em(!1),n=t[0];return t=d0.bind(null,t[1]),mn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,a){var o=qe,u=mn();if(Ue){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),lt===null)throw Error(l(349));(Os&30)!==0||Wh(o,n,a)}u.memoizedState=a;var m={value:a,getSnapshot:n};return u.queue=m,nm(Jh.bind(null,o,m,t),[t]),o.flags|=2048,Ia(9,Xh.bind(null,o,m,a,n),void 0,null),a},useId:function(){var t=mn(),n=lt.identifierPrefix;if(Ue){var a=Sn,o=Cn;a=(o&~(1<<32-Xt(o)-1)).toString(32)+a,n=":"+n+"R"+a,a=Ma++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=u0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},f0={readContext:Ut,useCallback:im,useContext:Ut,useEffect:gc,useImperativeHandle:lm,useInsertionEffect:sm,useLayoutEffect:rm,useMemo:om,useReducer:pc,useRef:tm,useState:function(){return pc(Aa)},useDebugValue:xc,useDeferredValue:function(t){var n=zt();return cm(n,tt.memoizedState,t)},useTransition:function(){var t=pc(Aa)[0],n=zt().memoizedState;return[t,n]},useMutableSource:Qh,useSyncExternalStore:Gh,useId:um,unstable_isNewReconciler:!1},g0={readContext:Ut,useCallback:im,useContext:Ut,useEffect:gc,useImperativeHandle:lm,useInsertionEffect:sm,useLayoutEffect:rm,useMemo:om,useReducer:fc,useRef:tm,useState:function(){return fc(Aa)},useDebugValue:xc,useDeferredValue:function(t){var n=zt();return tt===null?n.memoizedState=t:cm(n,tt.memoizedState,t)},useTransition:function(){var t=fc(Aa)[0],n=zt().memoizedState;return[t,n]},useMutableSource:Qh,useSyncExternalStore:Gh,useId:um,unstable_isNewReconciler:!1};function Zt(t,n){if(t&&t.defaultProps){n=re({},n),t=t.defaultProps;for(var a in t)n[a]===void 0&&(n[a]=t[a]);return n}return n}function yc(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:re({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ei={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var o=yt(),u=rs(t),m=En(o,u);m.payload=n,a!=null&&(m.callback=a),n=es(t,m,u),n!==null&&(nn(n,t,u,o),ql(n,t,u))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=yt(),u=rs(t),m=En(o,u);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=es(t,m,u),n!==null&&(nn(n,t,u,o),ql(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yt(),o=rs(t),u=En(a,o);u.tag=2,n!=null&&(u.callback=n),n=es(t,u,o),n!==null&&(nn(n,t,o,a),ql(n,t,o))}};function pm(t,n,a,o,u,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):n.prototype&&n.prototype.isPureReactComponent?!wa(a,o)||!wa(u,m):!0}function fm(t,n,a){var o=!1,u=Jn,m=n.contextType;return typeof m=="object"&&m!==null?m=Ut(m):(u=wt(n)?Ps:ht.current,o=n.contextTypes,m=(o=o!=null)?vr(t,u):Jn),n=new n(a,m),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ei,t.stateNode=n,n._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=m),n}function gm(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&ei.enqueueReplaceState(n,n.state,null)}function vc(t,n,a,o){var u=t.stateNode;u.props=a,u.state=t.memoizedState,u.refs={},ac(t);var m=n.contextType;typeof m=="object"&&m!==null?u.context=Ut(m):(m=wt(n)?Ps:ht.current,u.context=vr(t,m)),u.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(yc(t,n,m,a),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&ei.enqueueReplaceState(u,u.state,null),Ql(t,a,u,o),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308)}function kr(t,n){try{var a="",o=n;do a+=X(o),o=o.return;while(o);var u=a}catch(m){u=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:n,stack:u,digest:null}}function Nc(t,n,a){return{value:t,source:null,stack:a??null,digest:n??null}}function bc(t,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var x0=typeof WeakMap=="function"?WeakMap:Map;function xm(t,n,a){a=En(-1,a),a.tag=3,a.payload={element:null};var o=n.value;return a.callback=function(){ii||(ii=!0,Ac=o),bc(t,n)},a}function ym(t,n,a){a=En(-1,a),a.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var u=n.value;a.payload=function(){return o(u)},a.callback=function(){bc(t,n)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){bc(t,n),typeof o!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),a}function vm(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new x0;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(a)||(u.add(a),t=_0.bind(null,t,n,a),n.then(t,t))}function Nm(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function bm(t,n,a,o,u){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=En(-1,1),n.tag=2,es(a,n,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}var y0=C.ReactCurrentOwner,Tt=!1;function xt(t,n,a,o){n.child=t===null?Kh(n,null,a,o):wr(n,t.child,a,o)}function jm(t,n,a,o,u){a=a.render;var m=n.ref;return Cr(n,u),o=hc(t,n,a,o,m,u),a=mc(),t!==null&&!Tt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,Pn(t,n,u)):(Ue&&a&&Wo(n),n.flags|=1,xt(t,n,o,u),n.child)}function wm(t,n,a,o,u){if(t===null){var m=a.type;return typeof m=="function"&&!zc(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=m,Tm(t,n,m,o,u)):(t=mi(a.type,null,o,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,(t.lanes&u)===0){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:wa,a(x,o)&&t.ref===n.ref)return Pn(t,n,u)}return n.flags|=1,t=ls(m,o),t.ref=n.ref,t.return=n,n.child=t}function Tm(t,n,a,o,u){if(t!==null){var m=t.memoizedProps;if(wa(m,o)&&t.ref===n.ref)if(Tt=!1,n.pendingProps=o=m,(t.lanes&u)!==0)(t.flags&131072)!==0&&(Tt=!0);else return n.lanes=t.lanes,Pn(t,n,u)}return jc(t,n,a,o,u)}function Cm(t,n,a){var o=n.pendingProps,u=o.children,m=t!==null?t.memoizedState:null;if(o.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Pr,It),It|=a;else{if((a&1073741824)===0)return t=m!==null?m.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Fe(Pr,It),It|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=m!==null?m.baseLanes:a,Fe(Pr,It),It|=o}else m!==null?(o=m.baseLanes|a,n.memoizedState=null):o=a,Fe(Pr,It),It|=o;return xt(t,n,u,a),n.child}function Sm(t,n){var a=n.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function jc(t,n,a,o,u){var m=wt(a)?Ps:ht.current;return m=vr(n,m),Cr(n,u),a=hc(t,n,a,o,m,u),o=mc(),t!==null&&!Tt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u,Pn(t,n,u)):(Ue&&o&&Wo(n),n.flags|=1,xt(t,n,a,u),n.child)}function km(t,n,a,o,u){if(wt(a)){var m=!0;Hl(n)}else m=!1;if(Cr(n,u),n.stateNode===null)ni(t,n),fm(n,a,o),vc(n,a,o,u),o=!0;else if(t===null){var x=n.stateNode,k=n.memoizedProps;x.props=k;var O=x.context,V=a.contextType;typeof V=="object"&&V!==null?V=Ut(V):(V=wt(a)?Ps:ht.current,V=vr(n,V));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof x.getSnapshotBeforeUpdate=="function";ne||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==o||O!==V)&&gm(n,x,o,V),Zn=!1;var Z=n.memoizedState;x.state=Z,Ql(n,o,x,u),O=n.memoizedState,k!==o||Z!==O||jt.current||Zn?(typeof ee=="function"&&(yc(n,a,ee,o),O=n.memoizedState),(k=Zn||pm(n,a,k,o,Z,O,V))?(ne||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=O),x.props=o,x.state=O,x.context=V,o=k):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{x=n.stateNode,zh(t,n),k=n.memoizedProps,V=n.type===n.elementType?k:Zt(n.type,k),x.props=V,ne=n.pendingProps,Z=x.context,O=a.contextType,typeof O=="object"&&O!==null?O=Ut(O):(O=wt(a)?Ps:ht.current,O=vr(n,O));var ue=a.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==ne||Z!==O)&&gm(n,x,o,O),Zn=!1,Z=n.memoizedState,x.state=Z,Ql(n,o,x,u);var ge=n.memoizedState;k!==ne||Z!==ge||jt.current||Zn?(typeof ue=="function"&&(yc(n,a,ue,o),ge=n.memoizedState),(V=Zn||pm(n,a,V,o,Z,ge,O)||!1)?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(o,ge,O),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(o,ge,O)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===t.memoizedProps&&Z===t.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&Z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),x.props=o,x.state=ge,x.context=O,o=V):(typeof x.componentDidUpdate!="function"||k===t.memoizedProps&&Z===t.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&Z===t.memoizedState||(n.flags|=1024),o=!1)}return wc(t,n,a,o,m,u)}function wc(t,n,a,o,u,m){Sm(t,n);var x=(n.flags&128)!==0;if(!o&&!x)return u&&Dh(n,a,!1),Pn(t,n,m);o=n.stateNode,y0.current=n;var k=x&&typeof a.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,t!==null&&x?(n.child=wr(n,t.child,null,m),n.child=wr(n,null,k,m)):xt(t,n,k,m),n.memoizedState=o.state,u&&Dh(n,a,!0),n.child}function Em(t){var n=t.stateNode;n.pendingContext?Lh(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Lh(t,n.context,!1),lc(t,n.containerInfo)}function Pm(t,n,a,o,u){return jr(),Zo(u),n.flags|=256,xt(t,n,a,o),n.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Cc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lm(t,n,a){var o=n.pendingProps,u=$e.current,m=!1,x=(n.flags&128)!==0,k;if((k=x)||(k=t!==null&&t.memoizedState===null?!1:(u&2)!==0),k?(m=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(u|=1),Fe($e,u&1),t===null)return Yo(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(x=o.children,t=o.fallback,m?(o=n.mode,m=n.child,x={mode:"hidden",children:x},(o&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=pi(x,o,0,null),t=Fs(t,o,a,null),m.return=n,t.return=n,m.sibling=t,n.child=m,n.child.memoizedState=Cc(a),n.memoizedState=Tc,t):Sc(n,x));if(u=t.memoizedState,u!==null&&(k=u.dehydrated,k!==null))return v0(t,n,x,o,k,u,a);if(m){m=o.fallback,x=n.mode,u=t.child,k=u.sibling;var O={mode:"hidden",children:o.children};return(x&1)===0&&n.child!==u?(o=n.child,o.childLanes=0,o.pendingProps=O,n.deletions=null):(o=ls(u,O),o.subtreeFlags=u.subtreeFlags&14680064),k!==null?m=ls(k,m):(m=Fs(m,x,a,null),m.flags|=2),m.return=n,o.return=n,o.sibling=m,n.child=o,o=m,m=n.child,x=t.child.memoizedState,x=x===null?Cc(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=t.childLanes&~a,n.memoizedState=Tc,o}return m=t.child,t=m.sibling,o=ls(m,{mode:"visible",children:o.children}),(n.mode&1)===0&&(o.lanes=a),o.return=n,o.sibling=null,t!==null&&(a=n.deletions,a===null?(n.deletions=[t],n.flags|=16):a.push(t)),n.child=o,n.memoizedState=null,o}function Sc(t,n){return n=pi({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function ti(t,n,a,o){return o!==null&&Zo(o),wr(n,t.child,null,a),t=Sc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function v0(t,n,a,o,u,m,x){if(a)return n.flags&256?(n.flags&=-257,o=Nc(Error(l(422))),ti(t,n,x,o)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(m=o.fallback,u=n.mode,o=pi({mode:"visible",children:o.children},u,0,null),m=Fs(m,u,x,null),m.flags|=2,o.return=n,m.return=n,o.sibling=m,n.child=o,(n.mode&1)!==0&&wr(n,t.child,null,x),n.child.memoizedState=Cc(x),n.memoizedState=Tc,m);if((n.mode&1)===0)return ti(t,n,x,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var k=o.dgst;return o=k,m=Error(l(419)),o=Nc(m,o,void 0),ti(t,n,x,o)}if(k=(x&t.childLanes)!==0,Tt||k){if(o=lt,o!==null){switch(x&-x){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|x))!==0?0:u,u!==0&&u!==m.retryLane&&(m.retryLane=u,kn(t,u),nn(o,t,u,-1))}return Uc(),o=Nc(Error(l(421))),ti(t,n,x,o)}return u.data==="$?"?(n.flags|=128,n.child=t.child,n=D0.bind(null,t),u._reactRetry=n,null):(t=m.treeContext,At=Wn(u.nextSibling),Mt=n,Ue=!0,Yt=null,t!==null&&(Bt[Kt++]=Cn,Bt[Kt++]=Sn,Bt[Kt++]=Ls,Cn=t.id,Sn=t.overflow,Ls=n),n=Sc(n,o.children),n.flags|=4096,n)}function _m(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),sc(t.return,n,a)}function kc(t,n,a,o,u){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=a,m.tailMode=u)}function Dm(t,n,a){var o=n.pendingProps,u=o.revealOrder,m=o.tail;if(xt(t,n,o.children,a),o=$e.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_m(t,a,n);else if(t.tag===19)_m(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Fe($e,o),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&Gl(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),kc(n,!1,u,a,m);break;case"backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Gl(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}kc(n,!0,a,null,m);break;case"together":kc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ni(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Pn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ms|=n.lanes,(a&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,a=ls(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ls(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function N0(t,n,a){switch(n.tag){case 3:Em(n),jr();break;case 5:qh(n);break;case 1:wt(n.type)&&Hl(n);break;case 4:lc(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,u=n.memoizedProps.value;Fe(Vl,o._currentValue),o._currentValue=u;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Fe($e,$e.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?Lm(t,n,a):(Fe($e,$e.current&1),t=Pn(t,n,a),t!==null?t.sibling:null);Fe($e,$e.current&1);break;case 19:if(o=(a&n.childLanes)!==0,(t.flags&128)!==0){if(o)return Dm(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Fe($e,$e.current),o)break;return null;case 22:case 23:return n.lanes=0,Cm(t,n,a)}return Pn(t,n,a)}var Rm,Ec,Om,Mm;Rm=function(t,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ec=function(){},Om=function(t,n,a,o){var u=t.memoizedProps;if(u!==o){t=n.stateNode,Rs(hn.current);var m=null;switch(a){case"input":u=Pe(t,u),o=Pe(t,o),m=[];break;case"select":u=re({},u,{value:void 0}),o=re({},o,{value:void 0}),m=[];break;case"textarea":u=ao(t,u),o=ao(t,o),m=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Ml)}io(a,o);var x;a=null;for(V in u)if(!o.hasOwnProperty(V)&&u.hasOwnProperty(V)&&u[V]!=null)if(V==="style"){var k=u[V];for(x in k)k.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(c.hasOwnProperty(V)?m||(m=[]):(m=m||[]).push(V,null));for(V in o){var O=o[V];if(k=u!=null?u[V]:void 0,o.hasOwnProperty(V)&&O!==k&&(O!=null||k!=null))if(V==="style")if(k){for(x in k)!k.hasOwnProperty(x)||O&&O.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in O)O.hasOwnProperty(x)&&k[x]!==O[x]&&(a||(a={}),a[x]=O[x])}else a||(m||(m=[]),m.push(V,a)),a=O;else V==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(m=m||[]).push(V,O)):V==="children"?typeof O!="string"&&typeof O!="number"||(m=m||[]).push(V,""+O):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(c.hasOwnProperty(V)?(O!=null&&V==="onScroll"&&Be("scroll",t),m||k===O||(m=[])):(m=m||[]).push(V,O))}a&&(m=m||[]).push("style",a);var V=m;(n.updateQueue=V)&&(n.flags|=4)}},Mm=function(t,n,a,o){a!==o&&(n.flags|=4)};function Ha(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function b0(t,n,a){var o=n.pendingProps;switch(Xo(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return wt(n.type)&&Il(),pt(n),null;case 3:return o=n.stateNode,Sr(),Ke(jt),Ke(ht),cc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Ul(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yt!==null&&(Fc(Yt),Yt=null))),Ec(t,n),pt(n),null;case 5:ic(n);var u=Rs(Ra.current);if(a=n.type,t!==null&&n.stateNode!=null)Om(t,n,a,o,u),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(l(166));return pt(n),null}if(t=Rs(hn.current),Ul(n)){o=n.stateNode,a=n.type;var m=n.memoizedProps;switch(o[dn]=n,o[Ea]=m,t=(n.mode&1)!==0,a){case"dialog":Be("cancel",o),Be("close",o);break;case"iframe":case"object":case"embed":Be("load",o);break;case"video":case"audio":for(u=0;u<Ca.length;u++)Be(Ca[u],o);break;case"source":Be("error",o);break;case"img":case"image":case"link":Be("error",o),Be("load",o);break;case"details":Be("toggle",o);break;case"input":cn(o,m),Be("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!m.multiple},Be("invalid",o);break;case"textarea":yd(o,m),Be("invalid",o)}io(a,m),u=null;for(var x in m)if(m.hasOwnProperty(x)){var k=m[x];x==="children"?typeof k=="string"?o.textContent!==k&&(m.suppressHydrationWarning!==!0&&Ol(o.textContent,k,t),u=["children",k]):typeof k=="number"&&o.textContent!==""+k&&(m.suppressHydrationWarning!==!0&&Ol(o.textContent,k,t),u=["children",""+k]):c.hasOwnProperty(x)&&k!=null&&x==="onScroll"&&Be("scroll",o)}switch(a){case"input":Un(o),xd(o,m,!0);break;case"textarea":Un(o),Nd(o);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(o.onclick=Ml)}o=u,n.updateQueue=o,o!==null&&(n.flags|=4)}else{x=u.nodeType===9?u:u.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bd(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=x.createElement(a,{is:o.is}):(t=x.createElement(a),a==="select"&&(x=t,o.multiple?x.multiple=!0:o.size&&(x.size=o.size))):t=x.createElementNS(t,a),t[dn]=n,t[Ea]=o,Rm(t,n,!1,!1),n.stateNode=t;e:{switch(x=oo(a,o),a){case"dialog":Be("cancel",t),Be("close",t),u=o;break;case"iframe":case"object":case"embed":Be("load",t),u=o;break;case"video":case"audio":for(u=0;u<Ca.length;u++)Be(Ca[u],t);u=o;break;case"source":Be("error",t),u=o;break;case"img":case"image":case"link":Be("error",t),Be("load",t),u=o;break;case"details":Be("toggle",t),u=o;break;case"input":cn(t,o),u=Pe(t,o),Be("invalid",t);break;case"option":u=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},u=re({},o,{value:void 0}),Be("invalid",t);break;case"textarea":yd(t,o),u=ao(t,o),Be("invalid",t);break;default:u=o}io(a,u),k=u;for(m in k)if(k.hasOwnProperty(m)){var O=k[m];m==="style"?Td(t,O):m==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&jd(t,O)):m==="children"?typeof O=="string"?(a!=="textarea"||O!=="")&&la(t,O):typeof O=="number"&&la(t,""+O):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(c.hasOwnProperty(m)?O!=null&&m==="onScroll"&&Be("scroll",t):O!=null&&P(t,m,O,x))}switch(a){case"input":Un(t),xd(t,o,!1);break;case"textarea":Un(t),Nd(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Se(o.value));break;case"select":t.multiple=!!o.multiple,m=o.value,m!=null?ir(t,!!o.multiple,m,!1):o.defaultValue!=null&&ir(t,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(t.onclick=Ml)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return pt(n),null;case 6:if(t&&n.stateNode!=null)Mm(t,n,t.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(a=Rs(Ra.current),Rs(hn.current),Ul(n)){if(o=n.stateNode,a=n.memoizedProps,o[dn]=n,(m=o.nodeValue!==a)&&(t=Mt,t!==null))switch(t.tag){case 3:Ol(o.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ol(o.nodeValue,a,(t.mode&1)!==0)}m&&(n.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[dn]=n,n.stateNode=o}return pt(n),null;case 13:if(Ke($e),o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&At!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Hh(),jr(),n.flags|=98560,m=!1;else if(m=Ul(n),o!==null&&o.dehydrated!==null){if(t===null){if(!m)throw Error(l(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[dn]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),m=!1}else Yt!==null&&(Fc(Yt),Yt=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||($e.current&1)!==0?nt===0&&(nt=3):Uc())),n.updateQueue!==null&&(n.flags|=4),pt(n),null);case 4:return Sr(),Ec(t,n),t===null&&Sa(n.stateNode.containerInfo),pt(n),null;case 10:return nc(n.type._context),pt(n),null;case 17:return wt(n.type)&&Il(),pt(n),null;case 19:if(Ke($e),m=n.memoizedState,m===null)return pt(n),null;if(o=(n.flags&128)!==0,x=m.rendering,x===null)if(o)Ha(m,!1);else{if(nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(x=Gl(t),x!==null){for(n.flags|=128,Ha(m,!1),o=x.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=a,a=n.child;a!==null;)m=a,t=o,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,t=x.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Fe($e,$e.current&1|2),n.child}t=t.sibling}m.tail!==null&&Je()>Lr&&(n.flags|=128,o=!0,Ha(m,!1),n.lanes=4194304)}else{if(!o)if(t=Gl(x),t!==null){if(n.flags|=128,o=!0,a=t.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Ha(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ue)return pt(n),null}else 2*Je()-m.renderingStartTime>Lr&&a!==1073741824&&(n.flags|=128,o=!0,Ha(m,!1),n.lanes=4194304);m.isBackwards?(x.sibling=n.child,n.child=x):(a=m.last,a!==null?a.sibling=x:n.child=x,m.last=x)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=Je(),n.sibling=null,a=$e.current,Fe($e,o?a&1|2:a&1),n):(pt(n),null);case 22:case 23:return Kc(),o=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(n.flags|=8192),o&&(n.mode&1)!==0?(It&1073741824)!==0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),null;case 24:return null;case 25:return null}throw Error(l(156,n.tag))}function j0(t,n){switch(Xo(n),n.tag){case 1:return wt(n.type)&&Il(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Sr(),Ke(jt),Ke(ht),cc(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return ic(n),null;case 13:if(Ke($e),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ke($e),null;case 4:return Sr(),null;case 10:return nc(n.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var si=!1,ft=!1,w0=typeof WeakSet=="function"?WeakSet:Set,he=null;function Er(t,n){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){Ge(t,n,o)}else a.current=null}function Pc(t,n,a){try{a()}catch(o){Ge(t,n,o)}}var Am=!1;function T0(t,n){if(Ko=wl,t=ph(),Ro(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,k=-1,O=-1,V=0,ee=0,ne=t,Z=null;t:for(;;){for(var ue;ne!==a||u!==0&&ne.nodeType!==3||(k=x+u),ne!==m||o!==0&&ne.nodeType!==3||(O=x+o),ne.nodeType===3&&(x+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)Z=ne,ne=ue;for(;;){if(ne===t)break t;if(Z===a&&++V===u&&(k=x),Z===m&&++ee===o&&(O=x),(ue=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ue}a=k===-1||O===-1?null:{start:k,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uo={focusedElem:t,selectionRange:a},wl=!1,he=n;he!==null;)if(n=he,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,he=t;else for(;he!==null;){n=he;try{var ge=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,Ye=ge.memoizedState,B=n.stateNode,I=B.getSnapshotBeforeUpdate(n.elementType===n.type?ye:Zt(n.type,ye),Ye);B.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var z=n.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(ae){Ge(n,n.return,ae)}if(t=n.sibling,t!==null){t.return=n.return,he=t;break}he=n.return}return ge=Am,Am=!1,ge}function Fa(t,n,a){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&t)===t){var m=u.destroy;u.destroy=void 0,m!==void 0&&Pc(n,a,m)}u=u.next}while(u!==o)}}function ri(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var o=a.create;a.destroy=o()}a=a.next}while(a!==n)}}function Lc(t){var n=t.ref;if(n!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof n=="function"?n(t):n.current=t}}function Im(t){var n=t.alternate;n!==null&&(t.alternate=null,Im(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[dn],delete n[Ea],delete n[qo],delete n[l0],delete n[i0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hm(t){return t.tag===5||t.tag===3||t.tag===4}function Fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _c(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ml));else if(o!==4&&(t=t.child,t!==null))for(_c(t,n,a),t=t.sibling;t!==null;)_c(t,n,a),t=t.sibling}function Dc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Dc(t,n,a),t=t.sibling;t!==null;)Dc(t,n,a),t=t.sibling}var ut=null,en=!1;function ts(t,n,a){for(a=a.child;a!==null;)Bm(t,n,a),a=a.sibling}function Bm(t,n,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(xl,a)}catch{}switch(a.tag){case 5:ft||Er(a,n);case 6:var o=ut,u=en;ut=null,ts(t,n,a),ut=o,en=u,ut!==null&&(en?(t=ut,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):ut.removeChild(a.stateNode));break;case 18:ut!==null&&(en?(t=ut,a=a.stateNode,t.nodeType===8?$o(t.parentNode,a):t.nodeType===1&&$o(t,a),xa(t)):$o(ut,a.stateNode));break;case 4:o=ut,u=en,ut=a.stateNode.containerInfo,en=!0,ts(t,n,a),ut=o,en=u;break;case 0:case 11:case 14:case 15:if(!ft&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var m=u,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Pc(a,n,x),u=u.next}while(u!==o)}ts(t,n,a);break;case 1:if(!ft&&(Er(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(k){Ge(a,n,k)}ts(t,n,a);break;case 21:ts(t,n,a);break;case 22:a.mode&1?(ft=(o=ft)||a.memoizedState!==null,ts(t,n,a),ft=o):ts(t,n,a);break;default:ts(t,n,a)}}function Km(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new w0),n.forEach(function(o){var u=R0.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}}function tn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];try{var m=t,x=n,k=x;e:for(;k!==null;){switch(k.tag){case 5:ut=k.stateNode,en=!1;break e;case 3:ut=k.stateNode.containerInfo,en=!0;break e;case 4:ut=k.stateNode.containerInfo,en=!0;break e}k=k.return}if(ut===null)throw Error(l(160));Bm(m,x,u),ut=null,en=!1;var O=u.alternate;O!==null&&(O.return=null),u.return=null}catch(V){Ge(u,n,V)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Um(n,t),n=n.sibling}function Um(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(n,t),pn(t),o&4){try{Fa(3,t,t.return),ri(3,t)}catch(ye){Ge(t,t.return,ye)}try{Fa(5,t,t.return)}catch(ye){Ge(t,t.return,ye)}}break;case 1:tn(n,t),pn(t),o&512&&a!==null&&Er(a,a.return);break;case 5:if(tn(n,t),pn(t),o&512&&a!==null&&Er(a,a.return),t.flags&32){var u=t.stateNode;try{la(u,"")}catch(ye){Ge(t,t.return,ye)}}if(o&4&&(u=t.stateNode,u!=null)){var m=t.memoizedProps,x=a!==null?a.memoizedProps:m,k=t.type,O=t.updateQueue;if(t.updateQueue=null,O!==null)try{k==="input"&&m.type==="radio"&&m.name!=null&&jn(u,m),oo(k,x);var V=oo(k,m);for(x=0;x<O.length;x+=2){var ee=O[x],ne=O[x+1];ee==="style"?Td(u,ne):ee==="dangerouslySetInnerHTML"?jd(u,ne):ee==="children"?la(u,ne):P(u,ee,ne,V)}switch(k){case"input":lr(u,m);break;case"textarea":vd(u,m);break;case"select":var Z=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!m.multiple;var ue=m.value;ue!=null?ir(u,!!m.multiple,ue,!1):Z!==!!m.multiple&&(m.defaultValue!=null?ir(u,!!m.multiple,m.defaultValue,!0):ir(u,!!m.multiple,m.multiple?[]:"",!1))}u[Ea]=m}catch(ye){Ge(t,t.return,ye)}}break;case 6:if(tn(n,t),pn(t),o&4){if(t.stateNode===null)throw Error(l(162));u=t.stateNode,m=t.memoizedProps;try{u.nodeValue=m}catch(ye){Ge(t,t.return,ye)}}break;case 3:if(tn(n,t),pn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(ye){Ge(t,t.return,ye)}break;case 4:tn(n,t),pn(t);break;case 13:tn(n,t),pn(t),u=t.child,u.flags&8192&&(m=u.memoizedState!==null,u.stateNode.isHidden=m,!m||u.alternate!==null&&u.alternate.memoizedState!==null||(Mc=Je())),o&4&&Km(t);break;case 22:if(ee=a!==null&&a.memoizedState!==null,t.mode&1?(ft=(V=ft)||ee,tn(n,t),ft=V):tn(n,t),pn(t),o&8192){if(V=t.memoizedState!==null,(t.stateNode.isHidden=V)&&!ee&&(t.mode&1)!==0)for(he=t,ee=t.child;ee!==null;){for(ne=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Fa(4,Z,Z.return);break;case 1:Er(Z,Z.return);var ge=Z.stateNode;if(typeof ge.componentWillUnmount=="function"){o=Z,a=Z.return;try{n=o,ge.props=n.memoizedProps,ge.state=n.memoizedState,ge.componentWillUnmount()}catch(ye){Ge(o,a,ye)}}break;case 5:Er(Z,Z.return);break;case 22:if(Z.memoizedState!==null){$m(ne);continue}}ue!==null?(ue.return=Z,he=ue):$m(ne)}ee=ee.sibling}e:for(ee=null,ne=t;;){if(ne.tag===5){if(ee===null){ee=ne;try{u=ne.stateNode,V?(m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(k=ne.stateNode,O=ne.memoizedProps.style,x=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=wd("display",x))}catch(ye){Ge(t,t.return,ye)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=V?"":ne.memoizedProps}catch(ye){Ge(t,t.return,ye)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===t)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===t)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===t)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:tn(n,t),pn(t),o&4&&Km(t);break;case 21:break;default:tn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{e:{for(var a=t.return;a!==null;){if(Hm(a)){var o=a;break e}a=a.return}throw Error(l(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(la(u,""),o.flags&=-33);var m=Fm(t);Dc(t,m,u);break;case 3:case 4:var x=o.stateNode.containerInfo,k=Fm(t);_c(t,k,x);break;default:throw Error(l(161))}}catch(O){Ge(t,t.return,O)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function C0(t,n,a){he=t,zm(t)}function zm(t,n,a){for(var o=(t.mode&1)!==0;he!==null;){var u=he,m=u.child;if(u.tag===22&&o){var x=u.memoizedState!==null||si;if(!x){var k=u.alternate,O=k!==null&&k.memoizedState!==null||ft;k=si;var V=ft;if(si=x,(ft=O)&&!V)for(he=u;he!==null;)x=he,O=x.child,x.tag===22&&x.memoizedState!==null?qm(u):O!==null?(O.return=x,he=O):qm(u);for(;m!==null;)he=m,zm(m),m=m.sibling;he=u,si=k,ft=V}Vm(t)}else(u.subtreeFlags&8772)!==0&&m!==null?(m.return=u,he=m):Vm(t)}}function Vm(t){for(;he!==null;){var n=he;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ft||ri(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!ft)if(a===null)o.componentDidMount();else{var u=n.elementType===n.type?a.memoizedProps:Zt(n.type,a.memoizedProps);o.componentDidUpdate(u,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&$h(n,m,o);break;case 3:var x=n.updateQueue;if(x!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}$h(n,x,a)}break;case 5:var k=n.stateNode;if(a===null&&n.flags&4){a=k;var O=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&a.focus();break;case"img":O.src&&(a.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var V=n.alternate;if(V!==null){var ee=V.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&xa(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}ft||n.flags&512&&Lc(n)}catch(Z){Ge(n,n.return,Z)}}if(n===t){he=null;break}if(a=n.sibling,a!==null){a.return=n.return,he=a;break}he=n.return}}function $m(t){for(;he!==null;){var n=he;if(n===t){he=null;break}var a=n.sibling;if(a!==null){a.return=n.return,he=a;break}he=n.return}}function qm(t){for(;he!==null;){var n=he;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{ri(4,n)}catch(O){Ge(n,a,O)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var u=n.return;try{o.componentDidMount()}catch(O){Ge(n,u,O)}}var m=n.return;try{Lc(n)}catch(O){Ge(n,m,O)}break;case 5:var x=n.return;try{Lc(n)}catch(O){Ge(n,x,O)}}}catch(O){Ge(n,n.return,O)}if(n===t){he=null;break}var k=n.sibling;if(k!==null){k.return=n.return,he=k;break}he=n.return}}var S0=Math.ceil,ai=C.ReactCurrentDispatcher,Rc=C.ReactCurrentOwner,Vt=C.ReactCurrentBatchConfig,De=0,lt=null,et=null,dt=0,It=0,Pr=Xn(0),nt=0,Ba=null,Ms=0,li=0,Oc=0,Ka=null,Ct=null,Mc=0,Lr=1/0,Ln=null,ii=!1,Ac=null,ns=null,oi=!1,ss=null,ci=0,Ua=0,Ic=null,ui=-1,di=0;function yt(){return(De&6)!==0?Je():ui!==-1?ui:ui=Je()}function rs(t){return(t.mode&1)===0?1:(De&2)!==0&&dt!==0?dt&-dt:c0.transition!==null?(di===0&&(di=Fd()),di):(t=He,t!==0||(t=window.event,t=t===void 0?16:Gd(t.type)),t)}function nn(t,n,a,o){if(50<Ua)throw Ua=0,Ic=null,Error(l(185));ha(t,a,o),((De&2)===0||t!==lt)&&(t===lt&&((De&2)===0&&(li|=a),nt===4&&as(t,dt)),St(t,o),a===1&&De===0&&(n.mode&1)===0&&(Lr=Je()+500,Fl&&Yn()))}function St(t,n){var a=t.callbackNode;cx(t,n);var o=Nl(t,t===lt?dt:0);if(o===0)a!==null&&Ad(a),t.callbackNode=null,t.callbackPriority=0;else if(n=o&-o,t.callbackPriority!==n){if(a!=null&&Ad(a),n===1)t.tag===0?o0(Gm.bind(null,t)):Rh(Gm.bind(null,t)),r0(function(){(De&6)===0&&Yn()}),a=null;else{switch(Bd(o)){case 1:a=go;break;case 4:a=Id;break;case 16:a=gl;break;case 536870912:a=Hd;break;default:a=gl}a=np(a,Qm.bind(null,t))}t.callbackPriority=n,t.callbackNode=a}}function Qm(t,n){if(ui=-1,di=0,(De&6)!==0)throw Error(l(327));var a=t.callbackNode;if(_r()&&t.callbackNode!==a)return null;var o=Nl(t,t===lt?dt:0);if(o===0)return null;if((o&30)!==0||(o&t.expiredLanes)!==0||n)n=hi(t,o);else{n=o;var u=De;De|=2;var m=Xm();(lt!==t||dt!==n)&&(Ln=null,Lr=Je()+500,Is(t,n));do try{P0();break}catch(k){Wm(t,k)}while(!0);tc(),ai.current=m,De=u,et!==null?n=0:(lt=null,dt=0,n=nt)}if(n!==0){if(n===2&&(u=xo(t),u!==0&&(o=u,n=Hc(t,u))),n===1)throw a=Ba,Is(t,0),as(t,o),St(t,Je()),a;if(n===6)as(t,o);else{if(u=t.current.alternate,(o&30)===0&&!k0(u)&&(n=hi(t,o),n===2&&(m=xo(t),m!==0&&(o=m,n=Hc(t,m))),n===1))throw a=Ba,Is(t,0),as(t,o),St(t,Je()),a;switch(t.finishedWork=u,t.finishedLanes=o,n){case 0:case 1:throw Error(l(345));case 2:Hs(t,Ct,Ln);break;case 3:if(as(t,o),(o&130023424)===o&&(n=Mc+500-Je(),10<n)){if(Nl(t,0)!==0)break;if(u=t.suspendedLanes,(u&o)!==o){yt(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=Vo(Hs.bind(null,t,Ct,Ln),n);break}Hs(t,Ct,Ln);break;case 4:if(as(t,o),(o&4194240)===o)break;for(n=t.eventTimes,u=-1;0<o;){var x=31-Xt(o);m=1<<x,x=n[x],x>u&&(u=x),o&=~m}if(o=u,o=Je()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*S0(o/1960))-o,10<o){t.timeoutHandle=Vo(Hs.bind(null,t,Ct,Ln),o);break}Hs(t,Ct,Ln);break;case 5:Hs(t,Ct,Ln);break;default:throw Error(l(329))}}}return St(t,Je()),t.callbackNode===a?Qm.bind(null,t):null}function Hc(t,n){var a=Ka;return t.current.memoizedState.isDehydrated&&(Is(t,n).flags|=256),t=hi(t,n),t!==2&&(n=Ct,Ct=a,n!==null&&Fc(n)),t}function Fc(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function k0(t){for(var n=t;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var u=a[o],m=u.getSnapshot;u=u.value;try{if(!Jt(m(),u))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function as(t,n){for(n&=~Oc,n&=~li,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var a=31-Xt(n),o=1<<a;t[a]=-1,n&=~o}}function Gm(t){if((De&6)!==0)throw Error(l(327));_r();var n=Nl(t,0);if((n&1)===0)return St(t,Je()),null;var a=hi(t,n);if(t.tag!==0&&a===2){var o=xo(t);o!==0&&(n=o,a=Hc(t,o))}if(a===1)throw a=Ba,Is(t,0),as(t,n),St(t,Je()),a;if(a===6)throw Error(l(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Hs(t,Ct,Ln),St(t,Je()),null}function Bc(t,n){var a=De;De|=1;try{return t(n)}finally{De=a,De===0&&(Lr=Je()+500,Fl&&Yn())}}function As(t){ss!==null&&ss.tag===0&&(De&6)===0&&_r();var n=De;De|=1;var a=Vt.transition,o=He;try{if(Vt.transition=null,He=1,t)return t()}finally{He=o,Vt.transition=a,De=n,(De&6)===0&&Yn()}}function Kc(){It=Pr.current,Ke(Pr)}function Is(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,s0(a)),et!==null)for(a=et.return;a!==null;){var o=a;switch(Xo(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Il();break;case 3:Sr(),Ke(jt),Ke(ht),cc();break;case 5:ic(o);break;case 4:Sr();break;case 13:Ke($e);break;case 19:Ke($e);break;case 10:nc(o.type._context);break;case 22:case 23:Kc()}a=a.return}if(lt=t,et=t=ls(t.current,null),dt=It=n,nt=0,Ba=null,Oc=li=Ms=0,Ct=Ka=null,Ds!==null){for(n=0;n<Ds.length;n++)if(a=Ds[n],o=a.interleaved,o!==null){a.interleaved=null;var u=o.next,m=a.pending;if(m!==null){var x=m.next;m.next=u,o.next=x}a.pending=o}Ds=null}return t}function Wm(t,n){do{var a=et;try{if(tc(),Wl.current=Zl,Xl){for(var o=qe.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Xl=!1}if(Os=0,at=tt=qe=null,Oa=!1,Ma=0,Rc.current=null,a===null||a.return===null){nt=1,Ba=n,et=null;break}e:{var m=t,x=a.return,k=a,O=n;if(n=dt,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var V=O,ee=k,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=Nm(x);if(ue!==null){ue.flags&=-257,bm(ue,x,k,m,n),ue.mode&1&&vm(m,V,n),n=ue,O=V;var ge=n.updateQueue;if(ge===null){var ye=new Set;ye.add(O),n.updateQueue=ye}else ge.add(O);break e}else{if((n&1)===0){vm(m,V,n),Uc();break e}O=Error(l(426))}}else if(Ue&&k.mode&1){var Ye=Nm(x);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),bm(Ye,x,k,m,n),Zo(kr(O,k));break e}}m=O=kr(O,k),nt!==4&&(nt=2),Ka===null?Ka=[m]:Ka.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var B=xm(m,O,n);Vh(m,B);break e;case 1:k=O;var I=m.type,z=m.stateNode;if((m.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ns===null||!ns.has(z)))){m.flags|=65536,n&=-n,m.lanes|=n;var ae=ym(m,k,n);Vh(m,ae);break e}}m=m.return}while(m!==null)}Ym(a)}catch(ve){n=ve,et===a&&a!==null&&(et=a=a.return);continue}break}while(!0)}function Xm(){var t=ai.current;return ai.current=Zl,t===null?Zl:t}function Uc(){(nt===0||nt===3||nt===2)&&(nt=4),lt===null||(Ms&268435455)===0&&(li&268435455)===0||as(lt,dt)}function hi(t,n){var a=De;De|=2;var o=Xm();(lt!==t||dt!==n)&&(Ln=null,Is(t,n));do try{E0();break}catch(u){Wm(t,u)}while(!0);if(tc(),De=a,ai.current=o,et!==null)throw Error(l(261));return lt=null,dt=0,nt}function E0(){for(;et!==null;)Jm(et)}function P0(){for(;et!==null&&!ex();)Jm(et)}function Jm(t){var n=tp(t.alternate,t,It);t.memoizedProps=t.pendingProps,n===null?Ym(t):et=n,Rc.current=null}function Ym(t){var n=t;do{var a=n.alternate;if(t=n.return,(n.flags&32768)===0){if(a=b0(a,n,It),a!==null){et=a;return}}else{if(a=j0(a,n),a!==null){a.flags&=32767,et=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,et=null;return}}if(n=n.sibling,n!==null){et=n;return}et=n=t}while(n!==null);nt===0&&(nt=5)}function Hs(t,n,a){var o=He,u=Vt.transition;try{Vt.transition=null,He=1,L0(t,n,a,o)}finally{Vt.transition=u,He=o}return null}function L0(t,n,a,o){do _r();while(ss!==null);if((De&6)!==0)throw Error(l(327));a=t.finishedWork;var u=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(l(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(ux(t,m),t===lt&&(et=lt=null,dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||oi||(oi=!0,np(gl,function(){return _r(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Vt.transition,Vt.transition=null;var x=He;He=1;var k=De;De|=4,Rc.current=null,T0(t,a),Um(a,t),Xx(Uo),wl=!!Ko,Uo=Ko=null,t.current=a,C0(a),tx(),De=k,He=x,Vt.transition=m}else t.current=a;if(oi&&(oi=!1,ss=t,ci=u),m=t.pendingLanes,m===0&&(ns=null),rx(a.stateNode),St(t,Je()),n!==null)for(o=t.onRecoverableError,a=0;a<n.length;a++)u=n[a],o(u.value,{componentStack:u.stack,digest:u.digest});if(ii)throw ii=!1,t=Ac,Ac=null,t;return(ci&1)!==0&&t.tag!==0&&_r(),m=t.pendingLanes,(m&1)!==0?t===Ic?Ua++:(Ua=0,Ic=t):Ua=0,Yn(),null}function _r(){if(ss!==null){var t=Bd(ci),n=Vt.transition,a=He;try{if(Vt.transition=null,He=16>t?16:t,ss===null)var o=!1;else{if(t=ss,ss=null,ci=0,(De&6)!==0)throw Error(l(331));var u=De;for(De|=4,he=t.current;he!==null;){var m=he,x=m.child;if((he.flags&16)!==0){var k=m.deletions;if(k!==null){for(var O=0;O<k.length;O++){var V=k[O];for(he=V;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Fa(8,ee,m)}var ne=ee.child;if(ne!==null)ne.return=ee,he=ne;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(Im(ee),ee===V){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var ge=m.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var Ye=ye.sibling;ye.sibling=null,ye=Ye}while(ye!==null)}}he=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,he=x;else e:for(;he!==null;){if(m=he,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Fa(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,he=B;break e}he=m.return}}var I=t.current;for(he=I;he!==null;){x=he;var z=x.child;if((x.subtreeFlags&2064)!==0&&z!==null)z.return=x,he=z;else e:for(x=I;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:ri(9,k)}}catch(ve){Ge(k,k.return,ve)}if(k===x){he=null;break e}var ae=k.sibling;if(ae!==null){ae.return=k.return,he=ae;break e}he=k.return}}if(De=u,Yn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(xl,t)}catch{}o=!0}return o}finally{He=a,Vt.transition=n}}return!1}function Zm(t,n,a){n=kr(a,n),n=xm(t,n,1),t=es(t,n,1),n=yt(),t!==null&&(ha(t,1,n),St(t,n))}function Ge(t,n,a){if(t.tag===3)Zm(t,t,a);else for(;n!==null;){if(n.tag===3){Zm(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ns===null||!ns.has(o))){t=kr(a,t),t=ym(n,t,1),n=es(n,t,1),t=yt(),n!==null&&(ha(n,1,t),St(n,t));break}}n=n.return}}function _0(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),n=yt(),t.pingedLanes|=t.suspendedLanes&a,lt===t&&(dt&a)===a&&(nt===4||nt===3&&(dt&130023424)===dt&&500>Je()-Mc?Is(t,0):Oc|=a),St(t,n)}function ep(t,n){n===0&&((t.mode&1)===0?n=1:(n=vl,vl<<=1,(vl&130023424)===0&&(vl=4194304)));var a=yt();t=kn(t,n),t!==null&&(ha(t,n,a),St(t,a))}function D0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ep(t,a)}function R0(t,n){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(l(314))}o!==null&&o.delete(n),ep(t,a)}var tp;tp=function(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps||jt.current)Tt=!0;else{if((t.lanes&a)===0&&(n.flags&128)===0)return Tt=!1,N0(t,n,a);Tt=(t.flags&131072)!==0}else Tt=!1,Ue&&(n.flags&1048576)!==0&&Oh(n,Kl,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;ni(t,n),t=n.pendingProps;var u=vr(n,ht.current);Cr(n,a),u=hc(null,n,o,t,u,a);var m=mc();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,wt(o)?(m=!0,Hl(n)):m=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ac(n),u.updater=ei,n.stateNode=u,u._reactInternals=n,vc(n,o,t,a),n=wc(null,n,o,!0,m,a)):(n.tag=0,Ue&&m&&Wo(n),xt(null,n,u,a),n=n.child),n;case 16:o=n.elementType;e:{switch(ni(t,n),t=n.pendingProps,u=o._init,o=u(o._payload),n.type=o,u=n.tag=M0(o),t=Zt(o,t),u){case 0:n=jc(null,n,o,t,a);break e;case 1:n=km(null,n,o,t,a);break e;case 11:n=jm(null,n,o,t,a);break e;case 14:n=wm(null,n,o,Zt(o.type,t),a);break e}throw Error(l(306,o,""))}return n;case 0:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:Zt(o,u),jc(t,n,o,u,a);case 1:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:Zt(o,u),km(t,n,o,u,a);case 3:e:{if(Em(n),t===null)throw Error(l(387));o=n.pendingProps,m=n.memoizedState,u=m.element,zh(t,n),Ql(n,o,null,a);var x=n.memoizedState;if(o=x.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){u=kr(Error(l(423)),n),n=Pm(t,n,o,a,u);break e}else if(o!==u){u=kr(Error(l(424)),n),n=Pm(t,n,o,a,u);break e}else for(At=Wn(n.stateNode.containerInfo.firstChild),Mt=n,Ue=!0,Yt=null,a=Kh(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(jr(),o===u){n=Pn(t,n,a);break e}xt(t,n,o,a)}n=n.child}return n;case 5:return qh(n),t===null&&Yo(n),o=n.type,u=n.pendingProps,m=t!==null?t.memoizedProps:null,x=u.children,zo(o,u)?x=null:m!==null&&zo(o,m)&&(n.flags|=32),Sm(t,n),xt(t,n,x,a),n.child;case 6:return t===null&&Yo(n),null;case 13:return Lm(t,n,a);case 4:return lc(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=wr(n,null,o,a):xt(t,n,o,a),n.child;case 11:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:Zt(o,u),jm(t,n,o,u,a);case 7:return xt(t,n,n.pendingProps,a),n.child;case 8:return xt(t,n,n.pendingProps.children,a),n.child;case 12:return xt(t,n,n.pendingProps.children,a),n.child;case 10:e:{if(o=n.type._context,u=n.pendingProps,m=n.memoizedProps,x=u.value,Fe(Vl,o._currentValue),o._currentValue=x,m!==null)if(Jt(m.value,x)){if(m.children===u.children&&!jt.current){n=Pn(t,n,a);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var k=m.dependencies;if(k!==null){x=m.child;for(var O=k.firstContext;O!==null;){if(O.context===o){if(m.tag===1){O=En(-1,a&-a),O.tag=2;var V=m.updateQueue;if(V!==null){V=V.shared;var ee=V.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),V.pending=O}}m.lanes|=a,O=m.alternate,O!==null&&(O.lanes|=a),sc(m.return,a,n),k.lanes|=a;break}O=O.next}}else if(m.tag===10)x=m.type===n.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(l(341));x.lanes|=a,k=x.alternate,k!==null&&(k.lanes|=a),sc(x,a,n),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===n){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}xt(t,n,u.children,a),n=n.child}return n;case 9:return u=n.type,o=n.pendingProps.children,Cr(n,a),u=Ut(u),o=o(u),n.flags|=1,xt(t,n,o,a),n.child;case 14:return o=n.type,u=Zt(o,n.pendingProps),u=Zt(o.type,u),wm(t,n,o,u,a);case 15:return Tm(t,n,n.type,n.pendingProps,a);case 17:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:Zt(o,u),ni(t,n),n.tag=1,wt(o)?(t=!0,Hl(n)):t=!1,Cr(n,a),fm(n,o,u),vc(n,o,u,a),wc(null,n,o,!0,t,a);case 19:return Dm(t,n,a);case 22:return Cm(t,n,a)}throw Error(l(156,n.tag))};function np(t,n){return Md(t,n)}function O0(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,n,a,o){return new O0(t,n,a,o)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M0(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pe)return 11;if(t===$)return 14}return 2}function ls(t,n){var a=t.alternate;return a===null?(a=$t(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function mi(t,n,a,o,u,m){var x=2;if(o=t,typeof t=="function")zc(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case M:return Fs(a.children,u,m,n);case F:x=8,u|=8;break;case se:return t=$t(12,a,n,u|2),t.elementType=se,t.lanes=m,t;case J:return t=$t(13,a,n,u),t.elementType=J,t.lanes=m,t;case de:return t=$t(19,a,n,u),t.elementType=de,t.lanes=m,t;case K:return pi(a,u,m,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:x=10;break e;case Y:x=9;break e;case pe:x=11;break e;case $:x=14;break e;case oe:x=16,o=null;break e}throw Error(l(130,t==null?t:typeof t,""))}return n=$t(x,a,n,u),n.elementType=t,n.type=o,n.lanes=m,n}function Fs(t,n,a,o){return t=$t(7,t,o,n),t.lanes=a,t}function pi(t,n,a,o){return t=$t(22,t,o,n),t.elementType=K,t.lanes=a,t.stateNode={isHidden:!1},t}function Vc(t,n,a){return t=$t(6,t,null,n),t.lanes=a,t}function $c(t,n,a){return n=$t(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function A0(t,n,a,o,u){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function qc(t,n,a,o,u,m,x,k,O){return t=new A0(t,n,a,k,O),n===1?(n=1,m===!0&&(n|=8)):n=0,m=$t(3,null,null,n),t.current=m,m.stateNode=t,m.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(m),t}function I0(t,n,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:o==null?null:""+o,children:t,containerInfo:n,implementation:a}}function sp(t){if(!t)return Jn;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(l(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(wt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(l(171))}if(t.tag===1){var a=t.type;if(wt(a))return _h(t,a,n)}return n}function rp(t,n,a,o,u,m,x,k,O){return t=qc(a,o,!0,t,u,m,x,k,O),t.context=sp(null),a=t.current,o=yt(),u=rs(a),m=En(o,u),m.callback=n??null,es(a,m,u),t.current.lanes=u,ha(t,u,o),St(t,o),t}function fi(t,n,a,o){var u=n.current,m=yt(),x=rs(u);return a=sp(a),n.context===null?n.context=a:n.pendingContext=a,n=En(m,x),n.payload={element:t},o=o===void 0?null:o,o!==null&&(n.callback=o),t=es(u,n,x),t!==null&&(nn(t,u,x,m),ql(t,u,x)),x}function gi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ap(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Qc(t,n){ap(t,n),(t=t.alternate)&&ap(t,n)}function H0(){return null}var lp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gc(t){this._internalRoot=t}xi.prototype.render=Gc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));fi(t,n,null,null)},xi.prototype.unmount=Gc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;As(function(){fi(null,t,null,null)}),n[wn]=null}};function xi(t){this._internalRoot=t}xi.prototype.unstable_scheduleHydration=function(t){if(t){var n=zd();t={blockedOn:null,target:t,priority:n};for(var a=0;a<qn.length&&n!==0&&n<qn[a].priority;a++);qn.splice(a,0,t),a===0&&qd(t)}};function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ip(){}function F0(t,n,a,o,u){if(u){if(typeof o=="function"){var m=o;o=function(){var V=gi(x);m.call(V)}}var x=rp(n,o,t,0,null,!1,!1,"",ip);return t._reactRootContainer=x,t[wn]=x.current,Sa(t.nodeType===8?t.parentNode:t),As(),x}for(;u=t.lastChild;)t.removeChild(u);if(typeof o=="function"){var k=o;o=function(){var V=gi(O);k.call(V)}}var O=qc(t,0,!1,null,null,!1,!1,"",ip);return t._reactRootContainer=O,t[wn]=O.current,Sa(t.nodeType===8?t.parentNode:t),As(function(){fi(n,O,a,o)}),O}function vi(t,n,a,o,u){var m=a._reactRootContainer;if(m){var x=m;if(typeof u=="function"){var k=u;u=function(){var O=gi(x);k.call(O)}}fi(n,x,t,u)}else x=F0(a,n,t,u,o);return gi(x)}Kd=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var a=da(n.pendingLanes);a!==0&&(vo(n,a|1),St(n,Je()),(De&6)===0&&(Lr=Je()+500,Yn()))}break;case 13:As(function(){var o=kn(t,1);if(o!==null){var u=yt();nn(o,t,1,u)}}),Qc(t,1)}},No=function(t){if(t.tag===13){var n=kn(t,134217728);if(n!==null){var a=yt();nn(n,t,134217728,a)}Qc(t,134217728)}},Ud=function(t){if(t.tag===13){var n=rs(t),a=kn(t,n);if(a!==null){var o=yt();nn(a,t,n,o)}Qc(t,n)}},zd=function(){return He},Vd=function(t,n){var a=He;try{return He=t,n()}finally{He=a}},ho=function(t,n,a){switch(n){case"input":if(lr(t,a),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var u=Al(o);if(!u)throw Error(l(90));ar(o),lr(o,u)}}}break;case"textarea":vd(t,a);break;case"select":n=a.value,n!=null&&ir(t,!!a.multiple,n,!1)}},Ed=Bc,Pd=As;var B0={usingClientEntryPoint:!1,Events:[Pa,xr,Al,Sd,kd,Bc]},za={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K0={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rd(t),t===null?null:t.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||H0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ni.isDisabled&&Ni.supportsFiber)try{xl=Ni.inject(K0),un=Ni}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0,kt.createPortal=function(t,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(n))throw Error(l(200));return I0(t,n,null,a)},kt.createRoot=function(t,n){if(!Wc(t))throw Error(l(299));var a=!1,o="",u=lp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=qc(t,1,!1,null,null,a,!1,o,u),t[wn]=n.current,Sa(t.nodeType===8?t.parentNode:t),new Gc(n)},kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=Rd(n),t=t===null?null:t.stateNode,t},kt.flushSync=function(t){return As(t)},kt.hydrate=function(t,n,a){if(!yi(n))throw Error(l(200));return vi(null,t,n,!0,a)},kt.hydrateRoot=function(t,n,a){if(!Wc(t))throw Error(l(405));var o=a!=null&&a.hydratedSources||null,u=!1,m="",x=lp;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),n=rp(n,null,t,1,a??null,u,!1,m,x),t[wn]=n.current,Sa(t),o)for(t=0;t<o.length;t++)a=o[t],u=a._getVersion,u=u(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,u]:n.mutableSourceEagerHydrationData.push(a,u);return new xi(n)},kt.render=function(t,n,a){if(!yi(n))throw Error(l(200));return vi(null,t,n,!1,a)},kt.unmountComponentAtNode=function(t){if(!yi(t))throw Error(l(40));return t._reactRootContainer?(As(function(){vi(null,null,t,!1,function(){t._reactRootContainer=null,t[wn]=null})}),!0):!1},kt.unstable_batchedUpdates=Bc,kt.unstable_renderSubtreeIntoContainer=function(t,n,a,o){if(!yi(a))throw Error(l(200));if(t==null||t._reactInternals===void 0)throw Error(l(38));return vi(t,n,a,!1,o)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var gp;function Lf(){if(gp)return Zc.exports;gp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Zc.exports=Y0(),Zc.exports}var xp;function Z0(){if(xp)return ji;xp=1;var s=Lf();return ji.createRoot=s.createRoot,ji.hydrateRoot=s.hydrateRoot,ji}var ey=Z0(),ea=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ty={setTimeout:(s,r)=>setTimeout(s,r),clearTimeout:s=>clearTimeout(s),setInterval:(s,r)=>setInterval(s,r),clearInterval:s=>clearInterval(s)},us,zu,vf,ny=(vf=class{constructor(){Ne(this,us,ty);Ne(this,zu,!1)}setTimeoutProvider(s){ce(this,us,s)}setTimeout(s,r){return L(this,us).setTimeout(s,r)}clearTimeout(s){L(this,us).clearTimeout(s)}setInterval(s,r){return L(this,us).setInterval(s,r)}clearInterval(s){L(this,us).clearInterval(s)}},us=new WeakMap,zu=new WeakMap,vf),Ks=new ny;function sy(s){setTimeout(s,0)}var Zs=typeof window>"u"||"Deno"in globalThis;function bt(){}function ry(s,r){return typeof s=="function"?s(r):s}function xu(s){return typeof s=="number"&&s>=0&&s!==1/0}function _f(s,r){return Math.max(s+(r||0)-Date.now(),0)}function Ns(s,r){return typeof s=="function"?s(r):s}function Qt(s,r){return typeof s=="function"?s(r):s}function yp(s,r){const{type:l="all",exact:i,fetchStatus:c,predicate:d,queryKey:h,stale:p}=s;if(h){if(i){if(r.queryHash!==$u(h,r.options))return!1}else if(!Za(r.queryKey,h))return!1}if(l!=="all"){const f=r.isActive();if(l==="active"&&!f||l==="inactive"&&f)return!1}return!(typeof p=="boolean"&&r.isStale()!==p||c&&c!==r.state.fetchStatus||d&&!d(r))}function vp(s,r){const{exact:l,status:i,predicate:c,mutationKey:d}=s;if(d){if(!r.options.mutationKey)return!1;if(l){if(er(r.options.mutationKey)!==er(d))return!1}else if(!Za(r.options.mutationKey,d))return!1}return!(i&&r.state.status!==i||c&&!c(r))}function $u(s,r){return((r==null?void 0:r.queryKeyHashFn)||er)(s)}function er(s){return JSON.stringify(s,(r,l)=>yu(l)?Object.keys(l).sort().reduce((i,c)=>(i[c]=l[c],i),{}):l)}function Za(s,r){return s===r?!0:typeof s!=typeof r?!1:s&&r&&typeof s=="object"&&typeof r=="object"?Object.keys(r).every(l=>Za(s[l],r[l])):!1}var ay=Object.prototype.hasOwnProperty;function Df(s,r){if(s===r)return s;const l=Np(s)&&Np(r);if(!l&&!(yu(s)&&yu(r)))return r;const c=(l?s:Object.keys(s)).length,d=l?r:Object.keys(r),h=d.length,p=l?new Array(h):{};let f=0;for(let v=0;v<h;v++){const N=l?v:d[v],y=s[N],j=r[N];if(y===j){p[N]=y,(l?v<c:ay.call(s,N))&&f++;continue}if(y===null||j===null||typeof y!="object"||typeof j!="object"){p[N]=j;continue}const S=Df(y,j);p[N]=S,S===y&&f++}return c===h&&f===c?s:p}function Oi(s,r){if(!r||Object.keys(s).length!==Object.keys(r).length)return!1;for(const l in s)if(s[l]!==r[l])return!1;return!0}function Np(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function yu(s){if(!bp(s))return!1;const r=s.constructor;if(r===void 0)return!0;const l=r.prototype;return!(!bp(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function bp(s){return Object.prototype.toString.call(s)==="[object Object]"}function ly(s){return new Promise(r=>{Ks.setTimeout(r,s)})}function vu(s,r,l){return typeof l.structuralSharing=="function"?l.structuralSharing(s,r):l.structuralSharing!==!1?Df(s,r):r}function iy(s,r,l=0){const i=[...s,r];return l&&i.length>l?i.slice(1):i}function oy(s,r,l=0){const i=[r,...s];return l&&i.length>l?i.slice(0,-1):i}var qu=Symbol();function Rf(s,r){return!s.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!s.queryFn||s.queryFn===qu?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function Qu(s,r){return typeof s=="function"?s(...r):!!s}function cy(s,r,l){let i=!1,c;return Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(c??(c=r()),i||(i=!0,c.aborted?l():c.addEventListener("abort",l,{once:!0})),c)}),s}var zs,ds,Hr,Nf,uy=(Nf=class extends ea{constructor(){super();Ne(this,zs);Ne(this,ds);Ne(this,Hr);ce(this,Hr,r=>{if(!Zs&&window.addEventListener){const l=()=>r();return window.addEventListener("visibilitychange",l,!1),()=>{window.removeEventListener("visibilitychange",l)}}})}onSubscribe(){L(this,ds)||this.setEventListener(L(this,Hr))}onUnsubscribe(){var r;this.hasListeners()||((r=L(this,ds))==null||r.call(this),ce(this,ds,void 0))}setEventListener(r){var l;ce(this,Hr,r),(l=L(this,ds))==null||l.call(this),ce(this,ds,r(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(r){L(this,zs)!==r&&(ce(this,zs,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(l=>{l(r)})}isFocused(){var r;return typeof L(this,zs)=="boolean"?L(this,zs):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},zs=new WeakMap,ds=new WeakMap,Hr=new WeakMap,Nf),Gu=new uy;function Nu(){let s,r;const l=new Promise((c,d)=>{s=c,r=d});l.status="pending",l.catch(()=>{});function i(c){Object.assign(l,c),delete l.resolve,delete l.reject}return l.resolve=c=>{i({status:"fulfilled",value:c}),s(c)},l.reject=c=>{i({status:"rejected",reason:c}),r(c)},l}var dy=sy;function hy(){let s=[],r=0,l=p=>{p()},i=p=>{p()},c=dy;const d=p=>{r?s.push(p):c(()=>{l(p)})},h=()=>{const p=s;s=[],p.length&&c(()=>{i(()=>{p.forEach(f=>{l(f)})})})};return{batch:p=>{let f;r++;try{f=p()}finally{r--,r||h()}return f},batchCalls:p=>(...f)=>{d(()=>{p(...f)})},schedule:d,setNotifyFunction:p=>{l=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{c=p}}}var st=hy(),Fr,hs,Br,bf,my=(bf=class extends ea{constructor(){super();Ne(this,Fr,!0);Ne(this,hs);Ne(this,Br);ce(this,Br,r=>{if(!Zs&&window.addEventListener){const l=()=>r(!0),i=()=>r(!1);return window.addEventListener("online",l,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",i)}}})}onSubscribe(){L(this,hs)||this.setEventListener(L(this,Br))}onUnsubscribe(){var r;this.hasListeners()||((r=L(this,hs))==null||r.call(this),ce(this,hs,void 0))}setEventListener(r){var l;ce(this,Br,r),(l=L(this,hs))==null||l.call(this),ce(this,hs,r(this.setOnline.bind(this)))}setOnline(r){L(this,Fr)!==r&&(ce(this,Fr,r),this.listeners.forEach(i=>{i(r)}))}isOnline(){return L(this,Fr)}},Fr=new WeakMap,hs=new WeakMap,Br=new WeakMap,bf),Mi=new my;function py(s){return Math.min(1e3*2**s,3e4)}function Of(s){return(s??"online")==="online"?Mi.isOnline():!0}var bu=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Mf(s){let r=!1,l=0,i;const c=Nu(),d=()=>c.status!=="pending",h=D=>{var E;if(!d()){const T=new bu(D);j(T),(E=s.onCancel)==null||E.call(s,T)}},p=()=>{r=!0},f=()=>{r=!1},v=()=>Gu.isFocused()&&(s.networkMode==="always"||Mi.isOnline())&&s.canRun(),N=()=>Of(s.networkMode)&&s.canRun(),y=D=>{d()||(i==null||i(),c.resolve(D))},j=D=>{d()||(i==null||i(),c.reject(D))},S=()=>new Promise(D=>{var E;i=T=>{(d()||v())&&D(T)},(E=s.onPause)==null||E.call(s)}).then(()=>{var D;i=void 0,d()||(D=s.onContinue)==null||D.call(s)}),w=()=>{if(d())return;let D;const E=l===0?s.initialPromise:void 0;try{D=E??s.fn()}catch(T){D=Promise.reject(T)}Promise.resolve(D).then(y).catch(T=>{var W;if(d())return;const _=s.retry??(Zs?0:3),P=s.retryDelay??py,C=typeof P=="function"?P(l,T):P,H=_===!0||typeof _=="number"&&l<_||typeof _=="function"&&_(l,T);if(r||!H){j(T);return}l++,(W=s.onFail)==null||W.call(s,l,T),ly(C).then(()=>v()?void 0:S()).then(()=>{r?j(T):w()})})};return{promise:c,status:()=>c.status,cancel:h,continue:()=>(i==null||i(),c),cancelRetry:p,continueRetry:f,canStart:N,start:()=>(N()?w():S().then(w),c)}}var Vs,jf,Af=(jf=class{constructor(){Ne(this,Vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xu(this.gcTime)&&ce(this,Vs,Ks.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Zs?1/0:300*1e3))}clearGcTimeout(){L(this,Vs)&&(Ks.clearTimeout(L(this,Vs)),ce(this,Vs,void 0))}},Vs=new WeakMap,jf),$s,Kr,qt,qs,ot,sl,Qs,sn,Rn,wf,fy=(wf=class extends Af{constructor(r){super();Ne(this,sn);Ne(this,$s);Ne(this,Kr);Ne(this,qt);Ne(this,qs);Ne(this,ot);Ne(this,sl);Ne(this,Qs);ce(this,Qs,!1),ce(this,sl,r.defaultOptions),this.setOptions(r.options),this.observers=[],ce(this,qs,r.client),ce(this,qt,L(this,qs).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,ce(this,$s,wp(this.options)),this.state=r.state??L(this,$s),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=L(this,ot))==null?void 0:r.promise}setOptions(r){if(this.options={...L(this,sl),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const l=wp(this.options);l.data!==void 0&&(this.setState(jp(l.data,l.dataUpdatedAt)),ce(this,$s,l))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,qt).remove(this)}setData(r,l){const i=vu(this.state.data,r,this.options);return ke(this,sn,Rn).call(this,{data:i,type:"success",dataUpdatedAt:l==null?void 0:l.updatedAt,manual:l==null?void 0:l.manual}),i}setState(r,l){ke(this,sn,Rn).call(this,{type:"setState",state:r,setStateOptions:l})}cancel(r){var i,c;const l=(i=L(this,ot))==null?void 0:i.promise;return(c=L(this,ot))==null||c.cancel(r),l?l.then(bt).catch(bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,$s))}isActive(){return this.observers.some(r=>Qt(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Ns(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!_f(this.state.dataUpdatedAt,r)}onFocus(){var l;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(l=L(this,ot))==null||l.continue()}onOnline(){var l;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(l=L(this,ot))==null||l.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),L(this,qt).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(l=>l!==r),this.observers.length||(L(this,ot)&&(L(this,Qs)?L(this,ot).cancel({revert:!0}):L(this,ot).cancelRetry()),this.scheduleGc()),L(this,qt).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,sn,Rn).call(this,{type:"invalidate"})}async fetch(r,l){var f,v,N,y,j,S,w,D,E,T,_,P;if(this.state.fetchStatus!=="idle"&&((f=L(this,ot))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(l!=null&&l.cancelRefetch))this.cancel({silent:!0});else if(L(this,ot))return L(this,ot).continueRetry(),L(this,ot).promise}if(r&&this.setOptions(r),!this.options.queryFn){const C=this.observers.find(H=>H.options.queryFn);C&&this.setOptions(C.options)}const i=new AbortController,c=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(ce(this,Qs,!0),i.signal)})},d=()=>{const C=Rf(this.options,l),W=(()=>{const M={client:L(this,qs),queryKey:this.queryKey,meta:this.meta};return c(M),M})();return ce(this,Qs,!1),this.options.persister?this.options.persister(C,W,this):C(W)},p=(()=>{const C={fetchOptions:l,options:this.options,queryKey:this.queryKey,client:L(this,qs),state:this.state,fetchFn:d};return c(C),C})();(v=this.options.behavior)==null||v.onFetch(p,this),ce(this,Kr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((N=p.fetchOptions)==null?void 0:N.meta))&&ke(this,sn,Rn).call(this,{type:"fetch",meta:(y=p.fetchOptions)==null?void 0:y.meta}),ce(this,ot,Mf({initialPromise:l==null?void 0:l.initialPromise,fn:p.fetchFn,onCancel:C=>{C instanceof bu&&C.revert&&this.setState({...L(this,Kr),fetchStatus:"idle"}),i.abort()},onFail:(C,H)=>{ke(this,sn,Rn).call(this,{type:"failed",failureCount:C,error:H})},onPause:()=>{ke(this,sn,Rn).call(this,{type:"pause"})},onContinue:()=>{ke(this,sn,Rn).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const C=await L(this,ot).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(S=(j=L(this,qt).config).onSuccess)==null||S.call(j,C,this),(D=(w=L(this,qt).config).onSettled)==null||D.call(w,C,this.state.error,this),C}catch(C){if(C instanceof bu){if(C.silent)return L(this,ot).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw ke(this,sn,Rn).call(this,{type:"error",error:C}),(T=(E=L(this,qt).config).onError)==null||T.call(E,C,this),(P=(_=L(this,qt).config).onSettled)==null||P.call(_,this.state.data,C,this),C}finally{this.scheduleGc()}}},$s=new WeakMap,Kr=new WeakMap,qt=new WeakMap,qs=new WeakMap,ot=new WeakMap,sl=new WeakMap,Qs=new WeakMap,sn=new WeakSet,Rn=function(r){const l=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...If(i.data,this.options),fetchMeta:r.meta??null};case"success":const c={...i,...jp(r.data,r.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,Kr,r.manual?c:void 0),c;case"error":const d=r.error;return{...i,error:d,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=l(this.state),st.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),L(this,qt).notify({query:this,type:"updated",action:r})})},wf);function If(s,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Of(r.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function jp(s,r){return{data:s,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function wp(s){const r=typeof s.initialData=="function"?s.initialData():s.initialData,l=r!==void 0,i=l?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:l?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var Et,Le,rl,vt,Gs,Ur,Mn,ms,al,zr,Vr,Ws,Xs,ps,$r,Ie,Ga,ju,wu,Tu,Cu,Su,ku,Eu,Hf,Tf,gy=(Tf=class extends ea{constructor(r,l){super();Ne(this,Ie);Ne(this,Et);Ne(this,Le);Ne(this,rl);Ne(this,vt);Ne(this,Gs);Ne(this,Ur);Ne(this,Mn);Ne(this,ms);Ne(this,al);Ne(this,zr);Ne(this,Vr);Ne(this,Ws);Ne(this,Xs);Ne(this,ps);Ne(this,$r,new Set);this.options=l,ce(this,Et,r),ce(this,ms,null),ce(this,Mn,Nu()),this.bindMethods(),this.setOptions(l)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Le).addObserver(this),Tp(L(this,Le),this.options)?ke(this,Ie,Ga).call(this):this.updateResult(),ke(this,Ie,Cu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pu(L(this,Le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pu(L(this,Le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,Ie,Su).call(this),ke(this,Ie,ku).call(this),L(this,Le).removeObserver(this)}setOptions(r){const l=this.options,i=L(this,Le);if(this.options=L(this,Et).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qt(this.options.enabled,L(this,Le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,Ie,Eu).call(this),L(this,Le).setOptions(this.options),l._defaulted&&!Oi(this.options,l)&&L(this,Et).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Le),observer:this});const c=this.hasListeners();c&&Cp(L(this,Le),i,this.options,l)&&ke(this,Ie,Ga).call(this),this.updateResult(),c&&(L(this,Le)!==i||Qt(this.options.enabled,L(this,Le))!==Qt(l.enabled,L(this,Le))||Ns(this.options.staleTime,L(this,Le))!==Ns(l.staleTime,L(this,Le)))&&ke(this,Ie,ju).call(this);const d=ke(this,Ie,wu).call(this);c&&(L(this,Le)!==i||Qt(this.options.enabled,L(this,Le))!==Qt(l.enabled,L(this,Le))||d!==L(this,ps))&&ke(this,Ie,Tu).call(this,d)}getOptimisticResult(r){const l=L(this,Et).getQueryCache().build(L(this,Et),r),i=this.createResult(l,r);return yy(this,i)&&(ce(this,vt,i),ce(this,Ur,this.options),ce(this,Gs,L(this,Le).state)),i}getCurrentResult(){return L(this,vt)}trackResult(r,l){return new Proxy(r,{get:(i,c)=>(this.trackProp(c),l==null||l(c),c==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&L(this,Mn).status==="pending"&&L(this,Mn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,c))})}trackProp(r){L(this,$r).add(r)}getCurrentQuery(){return L(this,Le)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const l=L(this,Et).defaultQueryOptions(r),i=L(this,Et).getQueryCache().build(L(this,Et),l);return i.fetch().then(()=>this.createResult(i,l))}fetch(r){return ke(this,Ie,Ga).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,vt)))}createResult(r,l){var se;const i=L(this,Le),c=this.options,d=L(this,vt),h=L(this,Gs),p=L(this,Ur),v=r!==i?r.state:L(this,rl),{state:N}=r;let y={...N},j=!1,S;if(l._optimisticResults){const U=this.hasListeners(),Y=!U&&Tp(r,l),pe=U&&Cp(r,i,l,c);(Y||pe)&&(y={...y,...If(N.data,r.options)}),l._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:w,errorUpdatedAt:D,status:E}=y;S=y.data;let T=!1;if(l.placeholderData!==void 0&&S===void 0&&E==="pending"){let U;d!=null&&d.isPlaceholderData&&l.placeholderData===(p==null?void 0:p.placeholderData)?(U=d.data,T=!0):U=typeof l.placeholderData=="function"?l.placeholderData((se=L(this,Vr))==null?void 0:se.state.data,L(this,Vr)):l.placeholderData,U!==void 0&&(E="success",S=vu(d==null?void 0:d.data,U,l),j=!0)}if(l.select&&S!==void 0&&!T)if(d&&S===(h==null?void 0:h.data)&&l.select===L(this,al))S=L(this,zr);else try{ce(this,al,l.select),S=l.select(S),S=vu(d==null?void 0:d.data,S,l),ce(this,zr,S),ce(this,ms,null)}catch(U){ce(this,ms,U)}L(this,ms)&&(w=L(this,ms),S=L(this,zr),D=Date.now(),E="error");const _=y.fetchStatus==="fetching",P=E==="pending",C=E==="error",H=P&&_,W=S!==void 0,F={status:E,fetchStatus:y.fetchStatus,isPending:P,isSuccess:E==="success",isError:C,isInitialLoading:H,isLoading:H,data:S,dataUpdatedAt:y.dataUpdatedAt,error:w,errorUpdatedAt:D,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>v.dataUpdateCount||y.errorUpdateCount>v.errorUpdateCount,isFetching:_,isRefetching:_&&!P,isLoadingError:C&&!W,isPaused:y.fetchStatus==="paused",isPlaceholderData:j,isRefetchError:C&&W,isStale:Wu(r,l),refetch:this.refetch,promise:L(this,Mn),isEnabled:Qt(l.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const U=J=>{F.status==="error"?J.reject(F.error):F.data!==void 0&&J.resolve(F.data)},Y=()=>{const J=ce(this,Mn,F.promise=Nu());U(J)},pe=L(this,Mn);switch(pe.status){case"pending":r.queryHash===i.queryHash&&U(pe);break;case"fulfilled":(F.status==="error"||F.data!==pe.value)&&Y();break;case"rejected":(F.status!=="error"||F.error!==pe.reason)&&Y();break}}return F}updateResult(){const r=L(this,vt),l=this.createResult(L(this,Le),this.options);if(ce(this,Gs,L(this,Le).state),ce(this,Ur,this.options),L(this,Gs).data!==void 0&&ce(this,Vr,L(this,Le)),Oi(l,r))return;ce(this,vt,l);const i=()=>{if(!r)return!0;const{notifyOnChangeProps:c}=this.options,d=typeof c=="function"?c():c;if(d==="all"||!d&&!L(this,$r).size)return!0;const h=new Set(d??L(this,$r));return this.options.throwOnError&&h.add("error"),Object.keys(L(this,vt)).some(p=>{const f=p;return L(this,vt)[f]!==r[f]&&h.has(f)})};ke(this,Ie,Hf).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,Ie,Cu).call(this)}},Et=new WeakMap,Le=new WeakMap,rl=new WeakMap,vt=new WeakMap,Gs=new WeakMap,Ur=new WeakMap,Mn=new WeakMap,ms=new WeakMap,al=new WeakMap,zr=new WeakMap,Vr=new WeakMap,Ws=new WeakMap,Xs=new WeakMap,ps=new WeakMap,$r=new WeakMap,Ie=new WeakSet,Ga=function(r){ke(this,Ie,Eu).call(this);let l=L(this,Le).fetch(this.options,r);return r!=null&&r.throwOnError||(l=l.catch(bt)),l},ju=function(){ke(this,Ie,Su).call(this);const r=Ns(this.options.staleTime,L(this,Le));if(Zs||L(this,vt).isStale||!xu(r))return;const i=_f(L(this,vt).dataUpdatedAt,r)+1;ce(this,Ws,Ks.setTimeout(()=>{L(this,vt).isStale||this.updateResult()},i))},wu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Le)):this.options.refetchInterval)??!1},Tu=function(r){ke(this,Ie,ku).call(this),ce(this,ps,r),!(Zs||Qt(this.options.enabled,L(this,Le))===!1||!xu(L(this,ps))||L(this,ps)===0)&&ce(this,Xs,Ks.setInterval(()=>{(this.options.refetchIntervalInBackground||Gu.isFocused())&&ke(this,Ie,Ga).call(this)},L(this,ps)))},Cu=function(){ke(this,Ie,ju).call(this),ke(this,Ie,Tu).call(this,ke(this,Ie,wu).call(this))},Su=function(){L(this,Ws)&&(Ks.clearTimeout(L(this,Ws)),ce(this,Ws,void 0))},ku=function(){L(this,Xs)&&(Ks.clearInterval(L(this,Xs)),ce(this,Xs,void 0))},Eu=function(){const r=L(this,Et).getQueryCache().build(L(this,Et),this.options);if(r===L(this,Le))return;const l=L(this,Le);ce(this,Le,r),ce(this,rl,r.state),this.hasListeners()&&(l==null||l.removeObserver(this),r.addObserver(this))},Hf=function(r){st.batch(()=>{r.listeners&&this.listeners.forEach(l=>{l(L(this,vt))}),L(this,Et).getQueryCache().notify({query:L(this,Le),type:"observerResultsUpdated"})})},Tf);function xy(s,r){return Qt(r.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&r.retryOnMount===!1)}function Tp(s,r){return xy(s,r)||s.state.data!==void 0&&Pu(s,r,r.refetchOnMount)}function Pu(s,r,l){if(Qt(r.enabled,s)!==!1&&Ns(r.staleTime,s)!=="static"){const i=typeof l=="function"?l(s):l;return i==="always"||i!==!1&&Wu(s,r)}return!1}function Cp(s,r,l,i){return(s!==r||Qt(i.enabled,s)===!1)&&(!l.suspense||s.state.status!=="error")&&Wu(s,l)}function Wu(s,r){return Qt(r.enabled,s)!==!1&&s.isStaleByTime(Ns(r.staleTime,s))}function yy(s,r){return!Oi(s.getCurrentResult(),r)}function Sp(s){return{onFetch:(r,l)=>{var N,y,j,S,w;const i=r.options,c=(j=(y=(N=r.fetchOptions)==null?void 0:N.meta)==null?void 0:y.fetchMore)==null?void 0:j.direction,d=((S=r.state.data)==null?void 0:S.pages)||[],h=((w=r.state.data)==null?void 0:w.pageParams)||[];let p={pages:[],pageParams:[]},f=0;const v=async()=>{let D=!1;const E=P=>{cy(P,()=>r.signal,()=>D=!0)},T=Rf(r.options,r.fetchOptions),_=async(P,C,H)=>{if(D)return Promise.reject();if(C==null&&P.pages.length)return Promise.resolve(P);const M=(()=>{const Y={client:r.client,queryKey:r.queryKey,pageParam:C,direction:H?"backward":"forward",meta:r.options.meta};return E(Y),Y})(),F=await T(M),{maxPages:se}=r.options,U=H?oy:iy;return{pages:U(P.pages,F,se),pageParams:U(P.pageParams,C,se)}};if(c&&d.length){const P=c==="backward",C=P?vy:kp,H={pages:d,pageParams:h},W=C(i,H);p=await _(H,W,P)}else{const P=s??d.length;do{const C=f===0?h[0]??i.initialPageParam:kp(i,p);if(f>0&&C==null)break;p=await _(p,C),f++}while(f<P)}return p};r.options.persister?r.fetchFn=()=>{var D,E;return(E=(D=r.options).persister)==null?void 0:E.call(D,v,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},l)}:r.fetchFn=v}}}function kp(s,{pages:r,pageParams:l}){const i=r.length-1;return r.length>0?s.getNextPageParam(r[i],r,l[i],l):void 0}function vy(s,{pages:r,pageParams:l}){var i;return r.length>0?(i=s.getPreviousPageParam)==null?void 0:i.call(s,r[0],r,l[0],l):void 0}var ll,gn,Nt,Js,xn,os,Cf,Ny=(Cf=class extends Af{constructor(r){super();Ne(this,xn);Ne(this,ll);Ne(this,gn);Ne(this,Nt);Ne(this,Js);ce(this,ll,r.client),this.mutationId=r.mutationId,ce(this,Nt,r.mutationCache),ce(this,gn,[]),this.state=r.state||Ff(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){L(this,gn).includes(r)||(L(this,gn).push(r),this.clearGcTimeout(),L(this,Nt).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){ce(this,gn,L(this,gn).filter(l=>l!==r)),this.scheduleGc(),L(this,Nt).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){L(this,gn).length||(this.state.status==="pending"?this.scheduleGc():L(this,Nt).remove(this))}continue(){var r;return((r=L(this,Js))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var h,p,f,v,N,y,j,S,w,D,E,T,_,P,C,H,W,M,F,se;const l=()=>{ke(this,xn,os).call(this,{type:"continue"})},i={client:L(this,ll),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,Js,Mf({fn:()=>this.options.mutationFn?this.options.mutationFn(r,i):Promise.reject(new Error("No mutationFn found")),onFail:(U,Y)=>{ke(this,xn,os).call(this,{type:"failed",failureCount:U,error:Y})},onPause:()=>{ke(this,xn,os).call(this,{type:"pause"})},onContinue:l,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,Nt).canRun(this)}));const c=this.state.status==="pending",d=!L(this,Js).canStart();try{if(c)l();else{ke(this,xn,os).call(this,{type:"pending",variables:r,isPaused:d}),await((p=(h=L(this,Nt).config).onMutate)==null?void 0:p.call(h,r,this,i));const Y=await((v=(f=this.options).onMutate)==null?void 0:v.call(f,r,i));Y!==this.state.context&&ke(this,xn,os).call(this,{type:"pending",context:Y,variables:r,isPaused:d})}const U=await L(this,Js).start();return await((y=(N=L(this,Nt).config).onSuccess)==null?void 0:y.call(N,U,r,this.state.context,this,i)),await((S=(j=this.options).onSuccess)==null?void 0:S.call(j,U,r,this.state.context,i)),await((D=(w=L(this,Nt).config).onSettled)==null?void 0:D.call(w,U,null,this.state.variables,this.state.context,this,i)),await((T=(E=this.options).onSettled)==null?void 0:T.call(E,U,null,r,this.state.context,i)),ke(this,xn,os).call(this,{type:"success",data:U}),U}catch(U){try{await((P=(_=L(this,Nt).config).onError)==null?void 0:P.call(_,U,r,this.state.context,this,i))}catch(Y){Promise.reject(Y)}try{await((H=(C=this.options).onError)==null?void 0:H.call(C,U,r,this.state.context,i))}catch(Y){Promise.reject(Y)}try{await((M=(W=L(this,Nt).config).onSettled)==null?void 0:M.call(W,void 0,U,this.state.variables,this.state.context,this,i))}catch(Y){Promise.reject(Y)}try{await((se=(F=this.options).onSettled)==null?void 0:se.call(F,void 0,U,r,this.state.context,i))}catch(Y){Promise.reject(Y)}throw ke(this,xn,os).call(this,{type:"error",error:U}),U}finally{L(this,Nt).runNext(this)}}},ll=new WeakMap,gn=new WeakMap,Nt=new WeakMap,Js=new WeakMap,xn=new WeakSet,os=function(r){const l=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=l(this.state),st.batch(()=>{L(this,gn).forEach(i=>{i.onMutationUpdate(r)}),L(this,Nt).notify({mutation:this,type:"updated",action:r})})},Cf);function Ff(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var An,rn,il,Sf,by=(Sf=class extends ea{constructor(r={}){super();Ne(this,An);Ne(this,rn);Ne(this,il);this.config=r,ce(this,An,new Set),ce(this,rn,new Map),ce(this,il,0)}build(r,l,i){const c=new Ny({client:r,mutationCache:this,mutationId:++bi(this,il)._,options:r.defaultMutationOptions(l),state:i});return this.add(c),c}add(r){L(this,An).add(r);const l=wi(r);if(typeof l=="string"){const i=L(this,rn).get(l);i?i.push(r):L(this,rn).set(l,[r])}this.notify({type:"added",mutation:r})}remove(r){if(L(this,An).delete(r)){const l=wi(r);if(typeof l=="string"){const i=L(this,rn).get(l);if(i)if(i.length>1){const c=i.indexOf(r);c!==-1&&i.splice(c,1)}else i[0]===r&&L(this,rn).delete(l)}}this.notify({type:"removed",mutation:r})}canRun(r){const l=wi(r);if(typeof l=="string"){const i=L(this,rn).get(l),c=i==null?void 0:i.find(d=>d.state.status==="pending");return!c||c===r}else return!0}runNext(r){var i;const l=wi(r);if(typeof l=="string"){const c=(i=L(this,rn).get(l))==null?void 0:i.find(d=>d!==r&&d.state.isPaused);return(c==null?void 0:c.continue())??Promise.resolve()}else return Promise.resolve()}clear(){st.batch(()=>{L(this,An).forEach(r=>{this.notify({type:"removed",mutation:r})}),L(this,An).clear(),L(this,rn).clear()})}getAll(){return Array.from(L(this,An))}find(r){const l={exact:!0,...r};return this.getAll().find(i=>vp(l,i))}findAll(r={}){return this.getAll().filter(l=>vp(r,l))}notify(r){st.batch(()=>{this.listeners.forEach(l=>{l(r)})})}resumePausedMutations(){const r=this.getAll().filter(l=>l.state.isPaused);return st.batch(()=>Promise.all(r.map(l=>l.continue().catch(bt))))}},An=new WeakMap,rn=new WeakMap,il=new WeakMap,Sf);function wi(s){var r;return(r=s.options.scope)==null?void 0:r.id}var In,fs,Pt,Hn,Bn,Ei,Lu,kf,jy=(kf=class extends ea{constructor(l,i){super();Ne(this,Bn);Ne(this,In);Ne(this,fs);Ne(this,Pt);Ne(this,Hn);ce(this,In,l),this.setOptions(i),this.bindMethods(),ke(this,Bn,Ei).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(l){var c;const i=this.options;this.options=L(this,In).defaultMutationOptions(l),Oi(this.options,i)||L(this,In).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Pt),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&er(i.mutationKey)!==er(this.options.mutationKey)?this.reset():((c=L(this,Pt))==null?void 0:c.state.status)==="pending"&&L(this,Pt).setOptions(this.options)}onUnsubscribe(){var l;this.hasListeners()||(l=L(this,Pt))==null||l.removeObserver(this)}onMutationUpdate(l){ke(this,Bn,Ei).call(this),ke(this,Bn,Lu).call(this,l)}getCurrentResult(){return L(this,fs)}reset(){var l;(l=L(this,Pt))==null||l.removeObserver(this),ce(this,Pt,void 0),ke(this,Bn,Ei).call(this),ke(this,Bn,Lu).call(this)}mutate(l,i){var c;return ce(this,Hn,i),(c=L(this,Pt))==null||c.removeObserver(this),ce(this,Pt,L(this,In).getMutationCache().build(L(this,In),this.options)),L(this,Pt).addObserver(this),L(this,Pt).execute(l)}},In=new WeakMap,fs=new WeakMap,Pt=new WeakMap,Hn=new WeakMap,Bn=new WeakSet,Ei=function(){var i;const l=((i=L(this,Pt))==null?void 0:i.state)??Ff();ce(this,fs,{...l,isPending:l.status==="pending",isSuccess:l.status==="success",isError:l.status==="error",isIdle:l.status==="idle",mutate:this.mutate,reset:this.reset})},Lu=function(l){st.batch(()=>{var i,c,d,h,p,f,v,N;if(L(this,Hn)&&this.hasListeners()){const y=L(this,fs).variables,j=L(this,fs).context,S={client:L(this,In),meta:this.options.meta,mutationKey:this.options.mutationKey};if((l==null?void 0:l.type)==="success"){try{(c=(i=L(this,Hn)).onSuccess)==null||c.call(i,l.data,y,j,S)}catch(w){Promise.reject(w)}try{(h=(d=L(this,Hn)).onSettled)==null||h.call(d,l.data,null,y,j,S)}catch(w){Promise.reject(w)}}else if((l==null?void 0:l.type)==="error"){try{(f=(p=L(this,Hn)).onError)==null||f.call(p,l.error,y,j,S)}catch(w){Promise.reject(w)}try{(N=(v=L(this,Hn)).onSettled)==null||N.call(v,void 0,l.error,y,j,S)}catch(w){Promise.reject(w)}}}this.listeners.forEach(y=>{y(L(this,fs))})})},kf),yn,Ef,wy=(Ef=class extends ea{constructor(r={}){super();Ne(this,yn);this.config=r,ce(this,yn,new Map)}build(r,l,i){const c=l.queryKey,d=l.queryHash??$u(c,l);let h=this.get(d);return h||(h=new fy({client:r,queryKey:c,queryHash:d,options:r.defaultQueryOptions(l),state:i,defaultOptions:r.getQueryDefaults(c)}),this.add(h)),h}add(r){L(this,yn).has(r.queryHash)||(L(this,yn).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const l=L(this,yn).get(r.queryHash);l&&(r.destroy(),l===r&&L(this,yn).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){st.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return L(this,yn).get(r)}getAll(){return[...L(this,yn).values()]}find(r){const l={exact:!0,...r};return this.getAll().find(i=>yp(l,i))}findAll(r={}){const l=this.getAll();return Object.keys(r).length>0?l.filter(i=>yp(r,i)):l}notify(r){st.batch(()=>{this.listeners.forEach(l=>{l(r)})})}onFocus(){st.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){st.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},yn=new WeakMap,Ef),We,gs,xs,qr,Qr,ys,Gr,Wr,Pf,Ty=(Pf=class{constructor(s={}){Ne(this,We);Ne(this,gs);Ne(this,xs);Ne(this,qr);Ne(this,Qr);Ne(this,ys);Ne(this,Gr);Ne(this,Wr);ce(this,We,s.queryCache||new wy),ce(this,gs,s.mutationCache||new by),ce(this,xs,s.defaultOptions||{}),ce(this,qr,new Map),ce(this,Qr,new Map),ce(this,ys,0)}mount(){bi(this,ys)._++,L(this,ys)===1&&(ce(this,Gr,Gu.subscribe(async s=>{s&&(await this.resumePausedMutations(),L(this,We).onFocus())})),ce(this,Wr,Mi.subscribe(async s=>{s&&(await this.resumePausedMutations(),L(this,We).onOnline())})))}unmount(){var s,r;bi(this,ys)._--,L(this,ys)===0&&((s=L(this,Gr))==null||s.call(this),ce(this,Gr,void 0),(r=L(this,Wr))==null||r.call(this),ce(this,Wr,void 0))}isFetching(s){return L(this,We).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return L(this,gs).findAll({...s,status:"pending"}).length}getQueryData(s){var l;const r=this.defaultQueryOptions({queryKey:s});return(l=L(this,We).get(r.queryHash))==null?void 0:l.state.data}ensureQueryData(s){const r=this.defaultQueryOptions(s),l=L(this,We).build(this,r),i=l.state.data;return i===void 0?this.fetchQuery(s):(s.revalidateIfStale&&l.isStaleByTime(Ns(r.staleTime,l))&&this.prefetchQuery(r),Promise.resolve(i))}getQueriesData(s){return L(this,We).findAll(s).map(({queryKey:r,state:l})=>{const i=l.data;return[r,i]})}setQueryData(s,r,l){const i=this.defaultQueryOptions({queryKey:s}),c=L(this,We).get(i.queryHash),d=c==null?void 0:c.state.data,h=ry(r,d);if(h!==void 0)return L(this,We).build(this,i).setData(h,{...l,manual:!0})}setQueriesData(s,r,l){return st.batch(()=>L(this,We).findAll(s).map(({queryKey:i})=>[i,this.setQueryData(i,r,l)]))}getQueryState(s){var l;const r=this.defaultQueryOptions({queryKey:s});return(l=L(this,We).get(r.queryHash))==null?void 0:l.state}removeQueries(s){const r=L(this,We);st.batch(()=>{r.findAll(s).forEach(l=>{r.remove(l)})})}resetQueries(s,r){const l=L(this,We);return st.batch(()=>(l.findAll(s).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...s},r)))}cancelQueries(s,r={}){const l={revert:!0,...r},i=st.batch(()=>L(this,We).findAll(s).map(c=>c.cancel(l)));return Promise.all(i).then(bt).catch(bt)}invalidateQueries(s,r={}){return st.batch(()=>(L(this,We).findAll(s).forEach(l=>{l.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},r)))}refetchQueries(s,r={}){const l={...r,cancelRefetch:r.cancelRefetch??!0},i=st.batch(()=>L(this,We).findAll(s).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,l);return l.throwOnError||(d=d.catch(bt)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(i).then(bt)}fetchQuery(s){const r=this.defaultQueryOptions(s);r.retry===void 0&&(r.retry=!1);const l=L(this,We).build(this,r);return l.isStaleByTime(Ns(r.staleTime,l))?l.fetch(r):Promise.resolve(l.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(bt).catch(bt)}fetchInfiniteQuery(s){return s.behavior=Sp(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(bt).catch(bt)}ensureInfiniteQueryData(s){return s.behavior=Sp(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Mi.isOnline()?L(this,gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,We)}getMutationCache(){return L(this,gs)}getDefaultOptions(){return L(this,xs)}setDefaultOptions(s){ce(this,xs,s)}setQueryDefaults(s,r){L(this,qr).set(er(s),{queryKey:s,defaultOptions:r})}getQueryDefaults(s){const r=[...L(this,qr).values()],l={};return r.forEach(i=>{Za(s,i.queryKey)&&Object.assign(l,i.defaultOptions)}),l}setMutationDefaults(s,r){L(this,Qr).set(er(s),{mutationKey:s,defaultOptions:r})}getMutationDefaults(s){const r=[...L(this,Qr).values()],l={};return r.forEach(i=>{Za(s,i.mutationKey)&&Object.assign(l,i.defaultOptions)}),l}defaultQueryOptions(s){if(s._defaulted)return s;const r={...L(this,xs).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return r.queryHash||(r.queryHash=$u(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===qu&&(r.enabled=!1),r}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...L(this,xs).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){L(this,We).clear(),L(this,gs).clear()}},We=new WeakMap,gs=new WeakMap,xs=new WeakMap,qr=new WeakMap,Qr=new WeakMap,ys=new WeakMap,Gr=new WeakMap,Wr=new WeakMap,Pf),Bf=b.createContext(void 0),Nn=s=>{const r=b.useContext(Bf);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Cy=({client:s,children:r})=>(b.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(Bf.Provider,{value:s,children:r})),Kf=b.createContext(!1),Sy=()=>b.useContext(Kf);Kf.Provider;function ky(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Ey=b.createContext(ky()),Py=()=>b.useContext(Ey),Ly=(s,r,l)=>{const i=l!=null&&l.state.error&&typeof s.throwOnError=="function"?Qu(s.throwOnError,[l.state.error,l]):s.throwOnError;(s.suspense||s.experimental_prefetchInRender||i)&&(r.isReset()||(s.retryOnMount=!1))},_y=s=>{b.useEffect(()=>{s.clearReset()},[s])},Dy=({result:s,errorResetBoundary:r,throwOnError:l,query:i,suspense:c})=>s.isError&&!r.isReset()&&!s.isFetching&&i&&(c&&s.data===void 0||Qu(l,[s.error,i])),Ry=s=>{if(s.suspense){const l=c=>c==="static"?c:Math.max(c??1e3,1e3),i=s.staleTime;s.staleTime=typeof i=="function"?(...c)=>l(i(...c)):l(i),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},Oy=(s,r)=>s.isLoading&&s.isFetching&&!r,My=(s,r)=>(s==null?void 0:s.suspense)&&r.isPending,Ep=(s,r,l)=>r.fetchOptimistic(s).catch(()=>{l.clearReset()});function Ay(s,r,l){var j,S,w,D;const i=Sy(),c=Py(),d=Nn(),h=d.defaultQueryOptions(s);(S=(j=d.getDefaultOptions().queries)==null?void 0:j._experimental_beforeQuery)==null||S.call(j,h);const p=d.getQueryCache().get(h.queryHash);h._optimisticResults=i?"isRestoring":"optimistic",Ry(h),Ly(h,c,p),_y(c);const f=!d.getQueryCache().get(h.queryHash),[v]=b.useState(()=>new r(d,h)),N=v.getOptimisticResult(h),y=!i&&s.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(E=>{const T=y?v.subscribe(st.batchCalls(E)):bt;return v.updateResult(),T},[v,y]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),b.useEffect(()=>{v.setOptions(h)},[h,v]),My(h,N))throw Ep(h,v,c);if(Dy({result:N,errorResetBoundary:c,throwOnError:h.throwOnError,query:p,suspense:h.suspense}))throw N.error;if((D=(w=d.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||D.call(w,h,N),h.experimental_prefetchInRender&&!Zs&&Oy(N,i)){const E=f?Ep(h,v,c):p==null?void 0:p.promise;E==null||E.catch(bt).finally(()=>{v.updateResult()})}return h.notifyOnChangeProps?N:v.trackResult(N)}function Xe(s,r){return Ay(s,gy)}function Ae(s,r){const l=Nn(),[i]=b.useState(()=>new jy(l,s));b.useEffect(()=>{i.setOptions(s)},[i,s]);const c=b.useSyncExternalStore(b.useCallback(h=>i.subscribe(st.batchCalls(h)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=b.useCallback((h,p)=>{i.mutate(h,p).catch(bt)},[i]);if(c.error&&Qu(i.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:d,mutateAsync:c.mutate}}Lf();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i])}return s},el.apply(this,arguments)}var vs;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(vs||(vs={}));const Pp="popstate";function Iy(s){s===void 0&&(s={});function r(i,c){let{pathname:d,search:h,hash:p}=i.location;return _u("",{pathname:d,search:h,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(i,c){return typeof c=="string"?c:Ai(c)}return Fy(r,l,null,s)}function Ze(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Xu(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Hy(){return Math.random().toString(36).substr(2,8)}function Lp(s,r){return{usr:s.state,key:s.key,idx:r}}function _u(s,r,l,i){return l===void 0&&(l=null),el({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?ta(r):r,{state:l,key:r&&r.key||i||Hy()})}function Ai(s){let{pathname:r="/",search:l="",hash:i=""}=s;return l&&l!=="?"&&(r+=l.charAt(0)==="?"?l:"?"+l),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function ta(s){let r={};if(s){let l=s.indexOf("#");l>=0&&(r.hash=s.substr(l),s=s.substr(0,l));let i=s.indexOf("?");i>=0&&(r.search=s.substr(i),s=s.substr(0,i)),s&&(r.pathname=s)}return r}function Fy(s,r,l,i){i===void 0&&(i={});let{window:c=document.defaultView,v5Compat:d=!1}=i,h=c.history,p=vs.Pop,f=null,v=N();v==null&&(v=0,h.replaceState(el({},h.state,{idx:v}),""));function N(){return(h.state||{idx:null}).idx}function y(){p=vs.Pop;let E=N(),T=E==null?null:E-v;v=E,f&&f({action:p,location:D.location,delta:T})}function j(E,T){p=vs.Push;let _=_u(D.location,E,T);v=N()+1;let P=Lp(_,v),C=D.createHref(_);try{h.pushState(P,"",C)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;c.location.assign(C)}d&&f&&f({action:p,location:D.location,delta:1})}function S(E,T){p=vs.Replace;let _=_u(D.location,E,T);v=N();let P=Lp(_,v),C=D.createHref(_);h.replaceState(P,"",C),d&&f&&f({action:p,location:D.location,delta:0})}function w(E){let T=c.location.origin!=="null"?c.location.origin:c.location.href,_=typeof E=="string"?E:Ai(E);return _=_.replace(/ $/,"%20"),Ze(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let D={get action(){return p},get location(){return s(c,h)},listen(E){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(Pp,y),f=E,()=>{c.removeEventListener(Pp,y),f=null}},createHref(E){return r(c,E)},createURL:w,encodeLocation(E){let T=w(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:j,replace:S,go(E){return h.go(E)}};return D}var _p;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(_p||(_p={}));function By(s,r,l){return l===void 0&&(l="/"),Ky(s,r,l)}function Ky(s,r,l,i){let c=typeof r=="string"?ta(r):r,d=Ju(c.pathname||"/",l);if(d==null)return null;let h=Uf(s);Uy(h);let p=null;for(let f=0;p==null&&f<h.length;++f){let v=ev(d);p=Jy(h[f],v)}return p}function Uf(s,r,l,i){r===void 0&&(r=[]),l===void 0&&(l=[]),i===void 0&&(i="");let c=(d,h,p)=>{let f={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};f.relativePath.startsWith("/")&&(Ze(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let v=bs([i,f.relativePath]),N=l.concat(f);d.children&&d.children.length>0&&(Ze(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Uf(d.children,r,N,v)),!(d.path==null&&!d.index)&&r.push({path:v,score:Wy(v,d.index),routesMeta:N})};return s.forEach((d,h)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,h);else for(let f of zf(d.path))c(d,h,f)}),r}function zf(s){let r=s.split("/");if(r.length===0)return[];let[l,...i]=r,c=l.endsWith("?"),d=l.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let h=zf(i.join("/")),p=[];return p.push(...h.map(f=>f===""?d:[d,f].join("/"))),c&&p.push(...h),p.map(f=>s.startsWith("/")&&f===""?"/":f)}function Uy(s){s.sort((r,l)=>r.score!==l.score?l.score-r.score:Xy(r.routesMeta.map(i=>i.childrenIndex),l.routesMeta.map(i=>i.childrenIndex)))}const zy=/^:[\w-]+$/,Vy=3,$y=2,qy=1,Qy=10,Gy=-2,Dp=s=>s==="*";function Wy(s,r){let l=s.split("/"),i=l.length;return l.some(Dp)&&(i+=Gy),r&&(i+=$y),l.filter(c=>!Dp(c)).reduce((c,d)=>c+(zy.test(d)?Vy:d===""?qy:Qy),i)}function Xy(s,r){return s.length===r.length&&s.slice(0,-1).every((i,c)=>i===r[c])?s[s.length-1]-r[r.length-1]:0}function Jy(s,r,l){let{routesMeta:i}=s,c={},d="/",h=[];for(let p=0;p<i.length;++p){let f=i[p],v=p===i.length-1,N=d==="/"?r:r.slice(d.length)||"/",y=Yy({path:f.relativePath,caseSensitive:f.caseSensitive,end:v},N),j=f.route;if(!y)return null;Object.assign(c,y.params),h.push({params:c,pathname:bs([d,y.pathname]),pathnameBase:av(bs([d,y.pathnameBase])),route:j}),y.pathnameBase!=="/"&&(d=bs([d,y.pathnameBase]))}return h}function Yy(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,i]=Zy(s.path,s.caseSensitive,s.end),c=r.match(l);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:i.reduce((v,N,y)=>{let{paramName:j,isOptional:S}=N;if(j==="*"){let D=p[y]||"";h=d.slice(0,d.length-D.length).replace(/(.)\/+$/,"$1")}const w=p[y];return S&&!w?v[j]=void 0:v[j]=(w||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:h,pattern:s}}function Zy(s,r,l){r===void 0&&(r=!1),l===void 0&&(l=!0),Xu(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let i=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,f)=>(i.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),i]}function ev(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Xu(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function Ju(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let l=r.endsWith("/")?r.length-1:r.length,i=s.charAt(l);return i&&i!=="/"?null:s.slice(l)||"/"}const tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nv=s=>tv.test(s);function sv(s,r){r===void 0&&(r="/");let{pathname:l,search:i="",hash:c=""}=typeof s=="string"?ta(s):s,d;if(l)if(nv(l))d=l;else{if(l.includes("//")){let h=l;l=l.replace(/\/\/+/g,"/"),Xu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+l))}l.startsWith("/")?d=Rp(l.substring(1),"/"):d=Rp(l,r)}else d=r;return{pathname:d,search:lv(i),hash:iv(c)}}function Rp(s,r){let l=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function nu(s,r,l,i){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rv(s){return s.filter((r,l)=>l===0||r.route.path&&r.route.path.length>0)}function Yu(s,r){let l=rv(s);return r?l.map((i,c)=>c===l.length-1?i.pathname:i.pathnameBase):l.map(i=>i.pathnameBase)}function Zu(s,r,l,i){i===void 0&&(i=!1);let c;typeof s=="string"?c=ta(s):(c=el({},s),Ze(!c.pathname||!c.pathname.includes("?"),nu("?","pathname","search",c)),Ze(!c.pathname||!c.pathname.includes("#"),nu("#","pathname","hash",c)),Ze(!c.search||!c.search.includes("#"),nu("#","search","hash",c)));let d=s===""||c.pathname==="",h=d?"/":c.pathname,p;if(h==null)p=l;else{let y=r.length-1;if(!i&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),y-=1;c.pathname=j.join("/")}p=y>=0?r[y]:"/"}let f=sv(c,p),v=h&&h!=="/"&&h.endsWith("/"),N=(d||h===".")&&l.endsWith("/");return!f.pathname.endsWith("/")&&(v||N)&&(f.pathname+="/"),f}const bs=s=>s.join("/").replace(/\/\/+/g,"/"),av=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),lv=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,iv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ov(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Vf=["post","put","patch","delete"];new Set(Vf);const cv=["get",...Vf];new Set(cv);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i])}return s},tl.apply(this,arguments)}const ed=b.createContext(null),uv=b.createContext(null),Ts=b.createContext(null),$i=b.createContext(null),bn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),$f=b.createContext(null);function dv(s,r){let{relative:l}=r===void 0?{}:r;na()||Ze(!1);let{basename:i,navigator:c}=b.useContext(Ts),{hash:d,pathname:h,search:p}=Qf(s,{relative:l}),f=h;return i!=="/"&&(f=h==="/"?i:bs([i,h])),c.createHref({pathname:f,search:p,hash:d})}function na(){return b.useContext($i)!=null}function rr(){return na()||Ze(!1),b.useContext($i).location}function qf(s){b.useContext(Ts).static||b.useLayoutEffect(s)}function Cs(){let{isDataRoute:s}=b.useContext(bn);return s?Sv():hv()}function hv(){na()||Ze(!1);let s=b.useContext(ed),{basename:r,future:l,navigator:i}=b.useContext(Ts),{matches:c}=b.useContext(bn),{pathname:d}=rr(),h=JSON.stringify(Yu(c,l.v7_relativeSplatPath)),p=b.useRef(!1);return qf(()=>{p.current=!0}),b.useCallback(function(v,N){if(N===void 0&&(N={}),!p.current)return;if(typeof v=="number"){i.go(v);return}let y=Zu(v,JSON.parse(h),d,N.relative==="path");s==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:bs([r,y.pathname])),(N.replace?i.replace:i.push)(y,N.state,N)},[r,i,h,d,s])}const mv=b.createContext(null);function pv(s){let r=b.useContext(bn).outlet;return r&&b.createElement(mv.Provider,{value:s},r)}function td(){let{matches:s}=b.useContext(bn),r=s[s.length-1];return r?r.params:{}}function Qf(s,r){let{relative:l}=r===void 0?{}:r,{future:i}=b.useContext(Ts),{matches:c}=b.useContext(bn),{pathname:d}=rr(),h=JSON.stringify(Yu(c,i.v7_relativeSplatPath));return b.useMemo(()=>Zu(s,JSON.parse(h),d,l==="path"),[s,h,d,l])}function fv(s,r){return gv(s,r)}function gv(s,r,l,i){na()||Ze(!1);let{navigator:c}=b.useContext(Ts),{matches:d}=b.useContext(bn),h=d[d.length-1],p=h?h.params:{};h&&h.pathname;let f=h?h.pathnameBase:"/";h&&h.route;let v=rr(),N;if(r){var y;let E=typeof r=="string"?ta(r):r;f==="/"||(y=E.pathname)!=null&&y.startsWith(f)||Ze(!1),N=E}else N=v;let j=N.pathname||"/",S=j;if(f!=="/"){let E=f.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=By(s,{pathname:S}),D=bv(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:bs([f,c.encodeLocation?c.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:bs([f,c.encodeLocation?c.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),d,l,i);return r&&D?b.createElement($i.Provider,{value:{location:tl({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:vs.Pop}},D):D}function xv(){let s=Cv(),r=ov(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},r),l?b.createElement("pre",{style:c},l):null,null)}const yv=b.createElement(xv,null);class vv extends b.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,l){return l.location!==r.location||l.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:l.error,location:l.location,revalidation:r.revalidation||l.revalidation}}componentDidCatch(r,l){console.error("React Router caught the following error during render",r,l)}render(){return this.state.error!==void 0?b.createElement(bn.Provider,{value:this.props.routeContext},b.createElement($f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nv(s){let{routeContext:r,match:l,children:i}=s,c=b.useContext(ed);return c&&c.static&&c.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=l.route.id),b.createElement(bn.Provider,{value:r},i)}function bv(s,r,l,i){var c;if(r===void 0&&(r=[]),l===void 0&&(l=null),i===void 0&&(i=null),s==null){var d;if(!l)return null;if(l.errors)s=l.matches;else if((d=i)!=null&&d.v7_partialHydration&&r.length===0&&!l.initialized&&l.matches.length>0)s=l.matches;else return null}let h=s,p=(c=l)==null?void 0:c.errors;if(p!=null){let N=h.findIndex(y=>y.route.id&&(p==null?void 0:p[y.route.id])!==void 0);N>=0||Ze(!1),h=h.slice(0,Math.min(h.length,N+1))}let f=!1,v=-1;if(l&&i&&i.v7_partialHydration)for(let N=0;N<h.length;N++){let y=h[N];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=N),y.route.id){let{loaderData:j,errors:S}=l,w=y.route.loader&&j[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||w){f=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((N,y,j)=>{let S,w=!1,D=null,E=null;l&&(S=p&&y.route.id?p[y.route.id]:void 0,D=y.route.errorElement||yv,f&&(v<0&&j===0?(kv("route-fallback"),w=!0,E=null):v===j&&(w=!0,E=y.route.hydrateFallbackElement||null)));let T=r.concat(h.slice(0,j+1)),_=()=>{let P;return S?P=D:w?P=E:y.route.Component?P=b.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=N,b.createElement(Nv,{match:y,routeContext:{outlet:N,matches:T,isDataRoute:l!=null},children:P})};return l&&(y.route.ErrorBoundary||y.route.errorElement||j===0)?b.createElement(vv,{location:l.location,revalidation:l.revalidation,component:D,error:S,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var Gf=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Gf||{}),Wf=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Wf||{});function jv(s){let r=b.useContext(ed);return r||Ze(!1),r}function wv(s){let r=b.useContext(uv);return r||Ze(!1),r}function Tv(s){let r=b.useContext(bn);return r||Ze(!1),r}function Xf(s){let r=Tv(),l=r.matches[r.matches.length-1];return l.route.id||Ze(!1),l.route.id}function Cv(){var s;let r=b.useContext($f),l=wv(),i=Xf();return r!==void 0?r:(s=l.errors)==null?void 0:s[i]}function Sv(){let{router:s}=jv(Gf.UseNavigateStable),r=Xf(Wf.UseNavigateStable),l=b.useRef(!1);return qf(()=>{l.current=!0}),b.useCallback(function(c,d){d===void 0&&(d={}),l.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,tl({fromRouteId:r},d)))},[s,r])}const Op={};function kv(s,r,l){Op[s]||(Op[s]=!0)}function Ev(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Pv(s){let{to:r,replace:l,state:i,relative:c}=s;na()||Ze(!1);let{future:d,static:h}=b.useContext(Ts),{matches:p}=b.useContext(bn),{pathname:f}=rr(),v=Cs(),N=Zu(r,Yu(p,d.v7_relativeSplatPath),f,c==="path"),y=JSON.stringify(N);return b.useEffect(()=>v(JSON.parse(y),{replace:l,state:i,relative:c}),[v,y,c,l,i]),null}function Lv(s){return pv(s.context)}function Qe(s){Ze(!1)}function _v(s){let{basename:r="/",children:l=null,location:i,navigationType:c=vs.Pop,navigator:d,static:h=!1,future:p}=s;na()&&Ze(!1);let f=r.replace(/^\/*/,"/"),v=b.useMemo(()=>({basename:f,navigator:d,static:h,future:tl({v7_relativeSplatPath:!1},p)}),[f,p,d,h]);typeof i=="string"&&(i=ta(i));let{pathname:N="/",search:y="",hash:j="",state:S=null,key:w="default"}=i,D=b.useMemo(()=>{let E=Ju(N,f);return E==null?null:{location:{pathname:E,search:y,hash:j,state:S,key:w},navigationType:c}},[f,N,y,j,S,w,c]);return D==null?null:b.createElement(Ts.Provider,{value:v},b.createElement($i.Provider,{children:l,value:D}))}function Dv(s){let{children:r,location:l}=s;return fv(Du(r),l)}new Promise(()=>{});function Du(s,r){r===void 0&&(r=[]);let l=[];return b.Children.forEach(s,(i,c)=>{if(!b.isValidElement(i))return;let d=[...r,c];if(i.type===b.Fragment){l.push.apply(l,Du(i.props.children,d));return}i.type!==Qe&&Ze(!1),!i.props.index||!i.props.children||Ze(!1);let h={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Du(i.props.children,d)),l.push(h)}),l}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i])}return s},Ru.apply(this,arguments)}function Rv(s,r){if(s==null)return{};var l={},i=Object.keys(s),c,d;for(d=0;d<i.length;d++)c=i[d],!(r.indexOf(c)>=0)&&(l[c]=s[c]);return l}function Ov(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Mv(s,r){return s.button===0&&(!r||r==="_self")&&!Ov(s)}function Ou(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((r,l)=>{let i=s[l];return r.concat(Array.isArray(i)?i.map(c=>[l,c]):[[l,i]])},[]))}function Av(s,r){let l=Ou(s);return r&&r.forEach((i,c)=>{l.has(c)||r.getAll(c).forEach(d=>{l.append(c,d)})}),l}const Iv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hv="6";try{window.__reactRouterVersion=Hv}catch{}const Fv="startTransition",Mp=W0[Fv];function Bv(s){let{basename:r,children:l,future:i,window:c}=s,d=b.useRef();d.current==null&&(d.current=Iy({window:c,v5Compat:!0}));let h=d.current,[p,f]=b.useState({action:h.action,location:h.location}),{v7_startTransition:v}=i||{},N=b.useCallback(y=>{v&&Mp?Mp(()=>f(y)):f(y)},[f,v]);return b.useLayoutEffect(()=>h.listen(N),[h,N]),b.useEffect(()=>Ev(i),[i]),b.createElement(_v,{basename:r,children:l,location:p.location,navigationType:p.action,navigator:h,future:i})}const Kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=b.forwardRef(function(r,l){let{onClick:i,relative:c,reloadDocument:d,replace:h,state:p,target:f,to:v,preventScrollReset:N,viewTransition:y}=r,j=Rv(r,Iv),{basename:S}=b.useContext(Ts),w,D=!1;if(typeof v=="string"&&Uv.test(v)&&(w=v,Kv))try{let P=new URL(window.location.href),C=v.startsWith("//")?new URL(P.protocol+v):new URL(v),H=Ju(C.pathname,S);C.origin===P.origin&&H!=null?v=H+C.search+C.hash:D=!0}catch{}let E=dv(v,{relative:c}),T=zv(v,{replace:h,state:p,target:f,preventScrollReset:N,relative:c,viewTransition:y});function _(P){i&&i(P),P.defaultPrevented||T(P)}return b.createElement("a",Ru({},j,{href:w||E,onClick:D||d?i:_,ref:l,target:f}))});var Ap;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Ap||(Ap={}));var Ip;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Ip||(Ip={}));function zv(s,r){let{target:l,replace:i,state:c,preventScrollReset:d,relative:h,viewTransition:p}=r===void 0?{}:r,f=Cs(),v=rr(),N=Qf(s,{relative:h});return b.useCallback(y=>{if(Mv(y,l)){y.preventDefault();let j=i!==void 0?i:Ai(v)===Ai(N);f(s,{replace:j,state:c,preventScrollReset:d,relative:h,viewTransition:p})}},[v,f,N,i,c,l,s,d,h,p])}function Vv(s){let r=b.useRef(Ou(s)),l=b.useRef(!1),i=rr(),c=b.useMemo(()=>Av(i.search,l.current?null:r.current),[i.search]),d=Cs(),h=b.useCallback((p,f)=>{const v=Ou(typeof p=="function"?p(c):p);l.current=!0,d("?"+v,f)},[d,c]);return[c,h]}let $v={data:""},qv=s=>{if(typeof window=="object"){let r=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return r.nonce=window.__nonce__,r.parentNode||(s||document.head).appendChild(r),r.firstChild}return s||$v},Qv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Gv=/\/\*[^]*?\*\/|  +/g,Hp=/\n+/g,cs=(s,r)=>{let l="",i="",c="";for(let d in s){let h=s[d];d[0]=="@"?d[1]=="i"?l=d+" "+h+";":i+=d[1]=="f"?cs(h,d):d+"{"+cs(h,d[1]=="k"?"":r)+"}":typeof h=="object"?i+=cs(h,r?r.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,p):p?p+" "+f:f)):d):h!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=cs.p?cs.p(d,h):d+":"+h+";")}return l+(r&&c?r+"{"+c+"}":c)+i},_n={},Jf=s=>{if(typeof s=="object"){let r="";for(let l in s)r+=l+Jf(s[l]);return r}return s},Wv=(s,r,l,i,c)=>{let d=Jf(s),h=_n[d]||(_n[d]=(f=>{let v=0,N=11;for(;v<f.length;)N=101*N+f.charCodeAt(v++)>>>0;return"go"+N})(d));if(!_n[h]){let f=d!==s?s:(v=>{let N,y,j=[{}];for(;N=Qv.exec(v.replace(Gv,""));)N[4]?j.shift():N[3]?(y=N[3].replace(Hp," ").trim(),j.unshift(j[0][y]=j[0][y]||{})):j[0][N[1]]=N[2].replace(Hp," ").trim();return j[0]})(s);_n[h]=cs(c?{["@keyframes "+h]:f}:f,l?"":"."+h)}let p=l&&_n.g?_n.g:null;return l&&(_n.g=_n[h]),((f,v,N,y)=>{y?v.data=v.data.replace(y,f):v.data.indexOf(f)===-1&&(v.data=N?f+v.data:v.data+f)})(_n[h],r,i,p),h},Xv=(s,r,l)=>s.reduce((i,c,d)=>{let h=r[d];if(h&&h.call){let p=h(l),f=p&&p.props&&p.props.className||/^go/.test(p)&&p;h=f?"."+f:p&&typeof p=="object"?p.props?"":cs(p,""):p===!1?"":p}return i+c+(h??"")},"");function qi(s){let r=this||{},l=s.call?s(r.p):s;return Wv(l.unshift?l.raw?Xv(l,[].slice.call(arguments,1),r.p):l.reduce((i,c)=>Object.assign(i,c&&c.call?c(r.p):c),{}):l,qv(r.target),r.g,r.o,r.k)}let Yf,Mu,Au;qi.bind({g:1});let Kn=qi.bind({k:1});function Jv(s,r,l,i){cs.p=r,Yf=s,Mu=l,Au=i}function Ss(s,r){let l=this||{};return function(){let i=arguments;function c(d,h){let p=Object.assign({},d),f=p.className||c.className;l.p=Object.assign({theme:Mu&&Mu()},p),l.o=/ *go\d+/.test(f),p.className=qi.apply(l,i)+(f?" "+f:"");let v=s;return s[0]&&(v=p.as||s,delete p.as),Au&&v[0]&&Au(p),Yf(v,p)}return c}}var Yv=s=>typeof s=="function",Ii=(s,r)=>Yv(s)?s(r):s,Zv=(()=>{let s=0;return()=>(++s).toString()})(),Zf=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");s=!r||r.matches}return s}})(),eN=20,nd="default",eg=(s,r)=>{let{toastLimit:l}=s.settings;switch(r.type){case 0:return{...s,toasts:[r.toast,...s.toasts].slice(0,l)};case 1:return{...s,toasts:s.toasts.map(h=>h.id===r.toast.id?{...h,...r.toast}:h)};case 2:let{toast:i}=r;return eg(s,{type:s.toasts.find(h=>h.id===i.id)?1:0,toast:i});case 3:let{toastId:c}=r;return{...s,toasts:s.toasts.map(h=>h.id===c||c===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return r.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(h=>h.id!==r.toastId)};case 5:return{...s,pausedAt:r.time};case 6:let d=r.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+d}))}}},Pi=[],tg={toasts:[],pausedAt:void 0,settings:{toastLimit:eN}},vn={},ng=(s,r=nd)=>{vn[r]=eg(vn[r]||tg,s),Pi.forEach(([l,i])=>{l===r&&i(vn[r])})},sg=s=>Object.keys(vn).forEach(r=>ng(s,r)),tN=s=>Object.keys(vn).find(r=>vn[r].toasts.some(l=>l.id===s)),Qi=(s=nd)=>r=>{ng(r,s)},nN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sN=(s={},r=nd)=>{let[l,i]=b.useState(vn[r]||tg),c=b.useRef(vn[r]);b.useEffect(()=>(c.current!==vn[r]&&i(vn[r]),Pi.push([r,i]),()=>{let h=Pi.findIndex(([p])=>p===r);h>-1&&Pi.splice(h,1)}),[r]);let d=l.toasts.map(h=>{var p,f,v;return{...s,...s[h.type],...h,removeDelay:h.removeDelay||((p=s[h.type])==null?void 0:p.removeDelay)||(s==null?void 0:s.removeDelay),duration:h.duration||((f=s[h.type])==null?void 0:f.duration)||(s==null?void 0:s.duration)||nN[h.type],style:{...s.style,...(v=s[h.type])==null?void 0:v.style,...h.style}}});return{...l,toasts:d}},rN=(s,r="blank",l)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...l,id:(l==null?void 0:l.id)||Zv()}),ol=s=>(r,l)=>{let i=rN(r,s,l);return Qi(i.toasterId||tN(i.id))({type:2,toast:i}),i.id},rt=(s,r)=>ol("blank")(s,r);rt.error=ol("error");rt.success=ol("success");rt.loading=ol("loading");rt.custom=ol("custom");rt.dismiss=(s,r)=>{let l={type:3,toastId:s};r?Qi(r)(l):sg(l)};rt.dismissAll=s=>rt.dismiss(void 0,s);rt.remove=(s,r)=>{let l={type:4,toastId:s};r?Qi(r)(l):sg(l)};rt.removeAll=s=>rt.remove(void 0,s);rt.promise=(s,r,l)=>{let i=rt.loading(r.loading,{...l,...l==null?void 0:l.loading});return typeof s=="function"&&(s=s()),s.then(c=>{let d=r.success?Ii(r.success,c):void 0;return d?rt.success(d,{id:i,...l,...l==null?void 0:l.success}):rt.dismiss(i),c}).catch(c=>{let d=r.error?Ii(r.error,c):void 0;d?rt.error(d,{id:i,...l,...l==null?void 0:l.error}):rt.dismiss(i)}),s};var aN=1e3,lN=(s,r="default")=>{let{toasts:l,pausedAt:i}=sN(s,r),c=b.useRef(new Map).current,d=b.useCallback((y,j=aN)=>{if(c.has(y))return;let S=setTimeout(()=>{c.delete(y),h({type:4,toastId:y})},j);c.set(y,S)},[]);b.useEffect(()=>{if(i)return;let y=Date.now(),j=l.map(S=>{if(S.duration===1/0)return;let w=(S.duration||0)+S.pauseDuration-(y-S.createdAt);if(w<0){S.visible&&rt.dismiss(S.id);return}return setTimeout(()=>rt.dismiss(S.id,r),w)});return()=>{j.forEach(S=>S&&clearTimeout(S))}},[l,i,r]);let h=b.useCallback(Qi(r),[r]),p=b.useCallback(()=>{h({type:5,time:Date.now()})},[h]),f=b.useCallback((y,j)=>{h({type:1,toast:{id:y,height:j}})},[h]),v=b.useCallback(()=>{i&&h({type:6,time:Date.now()})},[i,h]),N=b.useCallback((y,j)=>{let{reverseOrder:S=!1,gutter:w=8,defaultPosition:D}=j||{},E=l.filter(P=>(P.position||D)===(y.position||D)&&P.height),T=E.findIndex(P=>P.id===y.id),_=E.filter((P,C)=>C<T&&P.visible).length;return E.filter(P=>P.visible).slice(...S?[_+1]:[0,_]).reduce((P,C)=>P+(C.height||0)+w,0)},[l]);return b.useEffect(()=>{l.forEach(y=>{if(y.dismissed)d(y.id,y.removeDelay);else{let j=c.get(y.id);j&&(clearTimeout(j),c.delete(y.id))}})},[l,d]),{toasts:l,handlers:{updateHeight:f,startPause:p,endPause:v,calculateOffset:N}}},iN=Kn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oN=Kn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cN=Kn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,uN=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,dN=Kn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hN=Ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${dN} 1s linear infinite;
`,mN=Kn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pN=Kn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fN=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gN=Ss("div")`
  position: absolute;
`,xN=Ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yN=Kn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vN=Ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NN=({toast:s})=>{let{icon:r,type:l,iconTheme:i}=s;return r!==void 0?typeof r=="string"?b.createElement(vN,null,r):r:l==="blank"?null:b.createElement(xN,null,b.createElement(hN,{...i}),l!=="loading"&&b.createElement(gN,null,l==="error"?b.createElement(uN,{...i}):b.createElement(fN,{...i})))},bN=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jN=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,wN="0%{opacity:0;} 100%{opacity:1;}",TN="0%{opacity:1;} 100%{opacity:0;}",CN=Ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,SN=Ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kN=(s,r)=>{let l=s.includes("top")?1:-1,[i,c]=Zf()?[wN,TN]:[bN(l),jN(l)];return{animation:r?`${Kn(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Kn(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},EN=b.memo(({toast:s,position:r,style:l,children:i})=>{let c=s.height?kN(s.position||r||"top-center",s.visible):{opacity:0},d=b.createElement(NN,{toast:s}),h=b.createElement(SN,{...s.ariaProps},Ii(s.message,s));return b.createElement(CN,{className:s.className,style:{...c,...l,...s.style}},typeof i=="function"?i({icon:d,message:h}):b.createElement(b.Fragment,null,d,h))});Jv(b.createElement);var PN=({id:s,className:r,style:l,onHeightUpdate:i,children:c})=>{let d=b.useCallback(h=>{if(h){let p=()=>{let f=h.getBoundingClientRect().height;i(s,f)};p(),new MutationObserver(p).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[s,i]);return b.createElement("div",{ref:d,className:r,style:l},c)},LN=(s,r)=>{let l=s.includes("top"),i=l?{top:0}:{bottom:0},c=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Zf()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(l?1:-1)}px)`,...i,...c}},_N=qi`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ti=16,DN=({reverseOrder:s,position:r="top-center",toastOptions:l,gutter:i,children:c,toasterId:d,containerStyle:h,containerClassName:p})=>{let{toasts:f,handlers:v}=lN(l,d);return b.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:Ti,left:Ti,right:Ti,bottom:Ti,pointerEvents:"none",...h},className:p,onMouseEnter:v.startPause,onMouseLeave:v.endPause},f.map(N=>{let y=N.position||r,j=v.calculateOffset(N,{reverseOrder:s,gutter:i,defaultPosition:r}),S=LN(y,j);return b.createElement(PN,{id:N.id,key:N.id,onHeightUpdate:v.updateHeight,className:N.visible?_N:"",style:S},N.type==="custom"?Ii(N.message,N):c?c(N):b.createElement(EN,{toast:N,position:y}))}))},ie=rt;/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(s,r)=>{const l=b.forwardRef(({color:i="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:h,className:p="",children:f,...v},N)=>b.createElement("svg",{ref:N,...RN,width:c,height:c,stroke:i,strokeWidth:h?Number(d)*24/Number(c):d,className:["lucide",`lucide-${ON(s)}`,p].join(" "),...v},[...r.map(([y,j])=>b.createElement(y,j)),...Array.isArray(f)?f:[f]]));return l.displayName=`${s}`,l};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=be("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=be("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=be("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=be("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=be("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=be("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=be("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=be("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=be("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=be("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=be("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=be("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function dg(s,r){return function(){return s.apply(r,arguments)}}const{toString:nb}=Object.prototype,{getPrototypeOf:cd}=Object,{iterator:Yi,toStringTag:hg}=Symbol,Zi=(s=>r=>{const l=nb.call(r);return s[l]||(s[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),on=s=>(s=s.toLowerCase(),r=>Zi(r)===s),eo=s=>r=>typeof r===s,{isArray:sa}=Array,Zr=eo("undefined");function cl(s){return s!==null&&!Zr(s)&&s.constructor!==null&&!Zr(s.constructor)&&_t(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const mg=on("ArrayBuffer");function sb(s){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(s):r=s&&s.buffer&&mg(s.buffer),r}const rb=eo("string"),_t=eo("function"),pg=eo("number"),ul=s=>s!==null&&typeof s=="object",ab=s=>s===!0||s===!1,Li=s=>{if(Zi(s)!=="object")return!1;const r=cd(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(hg in s)&&!(Yi in s)},lb=s=>{if(!ul(s)||cl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},ib=on("Date"),ob=on("File"),cb=on("Blob"),ub=on("FileList"),db=s=>ul(s)&&_t(s.pipe),hb=s=>{let r;return s&&(typeof FormData=="function"&&s instanceof FormData||_t(s.append)&&((r=Zi(s))==="formdata"||r==="object"&&_t(s.toString)&&s.toString()==="[object FormData]"))},mb=on("URLSearchParams"),[pb,fb,gb,xb]=["ReadableStream","Request","Response","Headers"].map(on),yb=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dl(s,r,{allOwnKeys:l=!1}={}){if(s===null||typeof s>"u")return;let i,c;if(typeof s!="object"&&(s=[s]),sa(s))for(i=0,c=s.length;i<c;i++)r.call(null,s[i],i,s);else{if(cl(s))return;const d=l?Object.getOwnPropertyNames(s):Object.keys(s),h=d.length;let p;for(i=0;i<h;i++)p=d[i],r.call(null,s[p],p,s)}}function fg(s,r){if(cl(s))return null;r=r.toLowerCase();const l=Object.keys(s);let i=l.length,c;for(;i-- >0;)if(c=l[i],r===c.toLowerCase())return c;return null}const Us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gg=s=>!Zr(s)&&s!==Us;function Iu(){const{caseless:s,skipUndefined:r}=gg(this)&&this||{},l={},i=(c,d)=>{const h=s&&fg(l,d)||d;Li(l[h])&&Li(c)?l[h]=Iu(l[h],c):Li(c)?l[h]=Iu({},c):sa(c)?l[h]=c.slice():(!r||!Zr(c))&&(l[h]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&dl(arguments[c],i);return l}const vb=(s,r,l,{allOwnKeys:i}={})=>(dl(r,(c,d)=>{l&&_t(c)?s[d]=dg(c,l):s[d]=c},{allOwnKeys:i}),s),Nb=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),bb=(s,r,l,i)=>{s.prototype=Object.create(r.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:r.prototype}),l&&Object.assign(s.prototype,l)},jb=(s,r,l,i)=>{let c,d,h;const p={};if(r=r||{},s==null)return r;do{for(c=Object.getOwnPropertyNames(s),d=c.length;d-- >0;)h=c[d],(!i||i(h,s,r))&&!p[h]&&(r[h]=s[h],p[h]=!0);s=l!==!1&&cd(s)}while(s&&(!l||l(s,r))&&s!==Object.prototype);return r},wb=(s,r,l)=>{s=String(s),(l===void 0||l>s.length)&&(l=s.length),l-=r.length;const i=s.indexOf(r,l);return i!==-1&&i===l},Tb=s=>{if(!s)return null;if(sa(s))return s;let r=s.length;if(!pg(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=s[r];return l},Cb=(s=>r=>s&&r instanceof s)(typeof Uint8Array<"u"&&cd(Uint8Array)),Sb=(s,r)=>{const i=(s&&s[Yi]).call(s);let c;for(;(c=i.next())&&!c.done;){const d=c.value;r.call(s,d[0],d[1])}},kb=(s,r)=>{let l;const i=[];for(;(l=s.exec(r))!==null;)i.push(l);return i},Eb=on("HTMLFormElement"),Pb=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,i,c){return i.toUpperCase()+c}),Up=(({hasOwnProperty:s})=>(r,l)=>s.call(r,l))(Object.prototype),Lb=on("RegExp"),xg=(s,r)=>{const l=Object.getOwnPropertyDescriptors(s),i={};dl(l,(c,d)=>{let h;(h=r(c,d,s))!==!1&&(i[d]=h||c)}),Object.defineProperties(s,i)},_b=s=>{xg(s,(r,l)=>{if(_t(s)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const i=s[l];if(_t(i)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Db=(s,r)=>{const l={},i=c=>{c.forEach(d=>{l[d]=!0})};return sa(s)?i(s):i(String(s).split(r)),l},Rb=()=>{},Ob=(s,r)=>s!=null&&Number.isFinite(s=+s)?s:r;function Mb(s){return!!(s&&_t(s.append)&&s[hg]==="FormData"&&s[Yi])}const Ab=s=>{const r=new Array(10),l=(i,c)=>{if(ul(i)){if(r.indexOf(i)>=0)return;if(cl(i))return i;if(!("toJSON"in i)){r[c]=i;const d=sa(i)?[]:{};return dl(i,(h,p)=>{const f=l(h,c+1);!Zr(f)&&(d[p]=f)}),r[c]=void 0,d}}return i};return l(s,0)},Ib=on("AsyncFunction"),Hb=s=>s&&(ul(s)||_t(s))&&_t(s.then)&&_t(s.catch),yg=((s,r)=>s?setImmediate:r?((l,i)=>(Us.addEventListener("message",({source:c,data:d})=>{c===Us&&d===l&&i.length&&i.shift()()},!1),c=>{i.push(c),Us.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",_t(Us.postMessage)),Fb=typeof queueMicrotask<"u"?queueMicrotask.bind(Us):typeof process<"u"&&process.nextTick||yg,Bb=s=>s!=null&&_t(s[Yi]),q={isArray:sa,isArrayBuffer:mg,isBuffer:cl,isFormData:hb,isArrayBufferView:sb,isString:rb,isNumber:pg,isBoolean:ab,isObject:ul,isPlainObject:Li,isEmptyObject:lb,isReadableStream:pb,isRequest:fb,isResponse:gb,isHeaders:xb,isUndefined:Zr,isDate:ib,isFile:ob,isBlob:cb,isRegExp:Lb,isFunction:_t,isStream:db,isURLSearchParams:mb,isTypedArray:Cb,isFileList:ub,forEach:dl,merge:Iu,extend:vb,trim:yb,stripBOM:Nb,inherits:bb,toFlatObject:jb,kindOf:Zi,kindOfTest:on,endsWith:wb,toArray:Tb,forEachEntry:Sb,matchAll:kb,isHTMLForm:Eb,hasOwnProperty:Up,hasOwnProp:Up,reduceDescriptors:xg,freezeMethods:_b,toObjectSet:Db,toCamelCase:Pb,noop:Rb,toFiniteNumber:Ob,findKey:fg,global:Us,isContextDefined:gg,isSpecCompliantForm:Mb,toJSONObject:Ab,isAsyncFn:Ib,isThenable:Hb,setImmediate:yg,asap:Fb,isIterable:Bb};function Ce(s,r,l,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}q.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const vg=Ce.prototype,Ng={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Ng[s]={value:s}});Object.defineProperties(Ce,Ng);Object.defineProperty(vg,"isAxiosError",{value:!0});Ce.from=(s,r,l,i,c,d)=>{const h=Object.create(vg);q.toFlatObject(s,h,function(N){return N!==Error.prototype},v=>v!=="isAxiosError");const p=s&&s.message?s.message:"Error",f=r==null&&s?s.code:r;return Ce.call(h,p,f,l,i,c),s&&h.cause==null&&Object.defineProperty(h,"cause",{value:s,configurable:!0}),h.name=s&&s.name||"Error",d&&Object.assign(h,d),h};const Kb=null;function Hu(s){return q.isPlainObject(s)||q.isArray(s)}function bg(s){return q.endsWith(s,"[]")?s.slice(0,-2):s}function zp(s,r,l){return s?s.concat(r).map(function(c,d){return c=bg(c),!l&&d?"["+c+"]":c}).join(l?".":""):r}function Ub(s){return q.isArray(s)&&!s.some(Hu)}const zb=q.toFlatObject(q,{},null,function(r){return/^is[A-Z]/.test(r)});function to(s,r,l){if(!q.isObject(s))throw new TypeError("target must be an object");r=r||new FormData,l=q.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,E){return!q.isUndefined(E[D])});const i=l.metaTokens,c=l.visitor||N,d=l.dots,h=l.indexes,f=(l.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(r);if(!q.isFunction(c))throw new TypeError("visitor must be a function");function v(w){if(w===null)return"";if(q.isDate(w))return w.toISOString();if(q.isBoolean(w))return w.toString();if(!f&&q.isBlob(w))throw new Ce("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(w)||q.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function N(w,D,E){let T=w;if(w&&!E&&typeof w=="object"){if(q.endsWith(D,"{}"))D=i?D:D.slice(0,-2),w=JSON.stringify(w);else if(q.isArray(w)&&Ub(w)||(q.isFileList(w)||q.endsWith(D,"[]"))&&(T=q.toArray(w)))return D=bg(D),T.forEach(function(P,C){!(q.isUndefined(P)||P===null)&&r.append(h===!0?zp([D],C,d):h===null?D:D+"[]",v(P))}),!1}return Hu(w)?!0:(r.append(zp(E,D,d),v(w)),!1)}const y=[],j=Object.assign(zb,{defaultVisitor:N,convertValue:v,isVisitable:Hu});function S(w,D){if(!q.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+D.join("."));y.push(w),q.forEach(w,function(T,_){(!(q.isUndefined(T)||T===null)&&c.call(r,T,q.isString(_)?_.trim():_,D,j))===!0&&S(T,D?D.concat(_):[_])}),y.pop()}}if(!q.isObject(s))throw new TypeError("data must be an object");return S(s),r}function Vp(s){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return r[i]})}function ud(s,r){this._pairs=[],s&&to(s,this,r)}const jg=ud.prototype;jg.append=function(r,l){this._pairs.push([r,l])};jg.toString=function(r){const l=r?function(i){return r.call(this,i,Vp)}:Vp;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function Vb(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wg(s,r,l){if(!r)return s;const i=l&&l.encode||Vb;q.isFunction(l)&&(l={serialize:l});const c=l&&l.serialize;let d;if(c?d=c(r,l):d=q.isURLSearchParams(r)?r.toString():new ud(r,l).toString(i),d){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+d}return s}class $p{constructor(){this.handlers=[]}use(r,l,i){return this.handlers.push({fulfilled:r,rejected:l,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){q.forEach(this.handlers,function(i){i!==null&&r(i)})}}const Tg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$b=typeof URLSearchParams<"u"?URLSearchParams:ud,qb=typeof FormData<"u"?FormData:null,Qb=typeof Blob<"u"?Blob:null,Gb={isBrowser:!0,classes:{URLSearchParams:$b,FormData:qb,Blob:Qb},protocols:["http","https","file","blob","url","data"]},dd=typeof window<"u"&&typeof document<"u",Fu=typeof navigator=="object"&&navigator||void 0,Wb=dd&&(!Fu||["ReactNative","NativeScript","NS"].indexOf(Fu.product)<0),Xb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jb=dd&&window.location.href||"http://localhost",Yb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dd,hasStandardBrowserEnv:Wb,hasStandardBrowserWebWorkerEnv:Xb,navigator:Fu,origin:Jb},Symbol.toStringTag,{value:"Module"})),gt={...Yb,...Gb};function Zb(s,r){return to(s,new gt.classes.URLSearchParams,{visitor:function(l,i,c,d){return gt.isNode&&q.isBuffer(l)?(this.append(i,l.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...r})}function ej(s){return q.matchAll(/\w+|\[(\w*)]/g,s).map(r=>r[0]==="[]"?"":r[1]||r[0])}function tj(s){const r={},l=Object.keys(s);let i;const c=l.length;let d;for(i=0;i<c;i++)d=l[i],r[d]=s[d];return r}function Cg(s){function r(l,i,c,d){let h=l[d++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),f=d>=l.length;return h=!h&&q.isArray(c)?c.length:h,f?(q.hasOwnProp(c,h)?c[h]=[c[h],i]:c[h]=i,!p):((!c[h]||!q.isObject(c[h]))&&(c[h]=[]),r(l,i,c[h],d)&&q.isArray(c[h])&&(c[h]=tj(c[h])),!p)}if(q.isFormData(s)&&q.isFunction(s.entries)){const l={};return q.forEachEntry(s,(i,c)=>{r(ej(i),c,l,0)}),l}return null}function nj(s,r,l){if(q.isString(s))try{return(r||JSON.parse)(s),q.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(l||JSON.stringify)(s)}const hl={transitional:Tg,adapter:["xhr","http","fetch"],transformRequest:[function(r,l){const i=l.getContentType()||"",c=i.indexOf("application/json")>-1,d=q.isObject(r);if(d&&q.isHTMLForm(r)&&(r=new FormData(r)),q.isFormData(r))return c?JSON.stringify(Cg(r)):r;if(q.isArrayBuffer(r)||q.isBuffer(r)||q.isStream(r)||q.isFile(r)||q.isBlob(r)||q.isReadableStream(r))return r;if(q.isArrayBufferView(r))return r.buffer;if(q.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let p;if(d){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Zb(r,this.formSerializer).toString();if((p=q.isFileList(r))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return to(p?{"files[]":r}:r,f&&new f,this.formSerializer)}}return d||c?(l.setContentType("application/json",!1),nj(r)):r}],transformResponse:[function(r){const l=this.transitional||hl.transitional,i=l&&l.forcedJSONParsing,c=this.responseType==="json";if(q.isResponse(r)||q.isReadableStream(r))return r;if(r&&q.isString(r)&&(i&&!this.responseType||c)){const h=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(r,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?Ce.from(p,Ce.ERR_BAD_RESPONSE,this,null,this.response):p}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gt.classes.FormData,Blob:gt.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],s=>{hl.headers[s]={}});const sj=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rj=s=>{const r={};let l,i,c;return s&&s.split(`
`).forEach(function(h){c=h.indexOf(":"),l=h.substring(0,c).trim().toLowerCase(),i=h.substring(c+1).trim(),!(!l||r[l]&&sj[l])&&(l==="set-cookie"?r[l]?r[l].push(i):r[l]=[i]:r[l]=r[l]?r[l]+", "+i:i)}),r},qp=Symbol("internals");function $a(s){return s&&String(s).trim().toLowerCase()}function _i(s){return s===!1||s==null?s:q.isArray(s)?s.map(_i):String(s)}function aj(s){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=l.exec(s);)r[i[1]]=i[2];return r}const lj=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function su(s,r,l,i,c){if(q.isFunction(i))return i.call(this,r,l);if(c&&(r=l),!!q.isString(r)){if(q.isString(i))return r.indexOf(i)!==-1;if(q.isRegExp(i))return i.test(r)}}function ij(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,i)=>l.toUpperCase()+i)}function oj(s,r){const l=q.toCamelCase(" "+r);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+l,{value:function(c,d,h){return this[i].call(this,r,c,d,h)},configurable:!0})})}let Dt=class{constructor(r){r&&this.set(r)}set(r,l,i){const c=this;function d(p,f,v){const N=$a(f);if(!N)throw new Error("header name must be a non-empty string");const y=q.findKey(c,N);(!y||c[y]===void 0||v===!0||v===void 0&&c[y]!==!1)&&(c[y||f]=_i(p))}const h=(p,f)=>q.forEach(p,(v,N)=>d(v,N,f));if(q.isPlainObject(r)||r instanceof this.constructor)h(r,l);else if(q.isString(r)&&(r=r.trim())&&!lj(r))h(rj(r),l);else if(q.isObject(r)&&q.isIterable(r)){let p={},f,v;for(const N of r){if(!q.isArray(N))throw TypeError("Object iterator must return a key-value pair");p[v=N[0]]=(f=p[v])?q.isArray(f)?[...f,N[1]]:[f,N[1]]:N[1]}h(p,l)}else r!=null&&d(l,r,i);return this}get(r,l){if(r=$a(r),r){const i=q.findKey(this,r);if(i){const c=this[i];if(!l)return c;if(l===!0)return aj(c);if(q.isFunction(l))return l.call(this,c,i);if(q.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=$a(r),r){const i=q.findKey(this,r);return!!(i&&this[i]!==void 0&&(!l||su(this,this[i],i,l)))}return!1}delete(r,l){const i=this;let c=!1;function d(h){if(h=$a(h),h){const p=q.findKey(i,h);p&&(!l||su(i,i[p],p,l))&&(delete i[p],c=!0)}}return q.isArray(r)?r.forEach(d):d(r),c}clear(r){const l=Object.keys(this);let i=l.length,c=!1;for(;i--;){const d=l[i];(!r||su(this,this[d],d,r,!0))&&(delete this[d],c=!0)}return c}normalize(r){const l=this,i={};return q.forEach(this,(c,d)=>{const h=q.findKey(i,d);if(h){l[h]=_i(c),delete l[d];return}const p=r?ij(d):String(d).trim();p!==d&&delete l[d],l[p]=_i(c),i[p]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return q.forEach(this,(i,c)=>{i!=null&&i!==!1&&(l[c]=r&&q.isArray(i)?i.join(", "):i)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const i=new this(r);return l.forEach(c=>i.set(c)),i}static accessor(r){const i=(this[qp]=this[qp]={accessors:{}}).accessors,c=this.prototype;function d(h){const p=$a(h);i[p]||(oj(c,h),i[p]=!0)}return q.isArray(r)?r.forEach(d):d(r),this}};Dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(Dt.prototype,({value:s},r)=>{let l=r[0].toUpperCase()+r.slice(1);return{get:()=>s,set(i){this[l]=i}}});q.freezeMethods(Dt);function ru(s,r){const l=this||hl,i=r||l,c=Dt.from(i.headers);let d=i.data;return q.forEach(s,function(p){d=p.call(l,d,c.normalize(),r?r.status:void 0)}),c.normalize(),d}function Sg(s){return!!(s&&s.__CANCEL__)}function ra(s,r,l){Ce.call(this,s??"canceled",Ce.ERR_CANCELED,r,l),this.name="CanceledError"}q.inherits(ra,Ce,{__CANCEL__:!0});function kg(s,r,l){const i=l.config.validateStatus;!l.status||!i||i(l.status)?s(l):r(new Ce("Request failed with status code "+l.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function cj(s){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return r&&r[1]||""}function uj(s,r){s=s||10;const l=new Array(s),i=new Array(s);let c=0,d=0,h;return r=r!==void 0?r:1e3,function(f){const v=Date.now(),N=i[d];h||(h=v),l[c]=f,i[c]=v;let y=d,j=0;for(;y!==c;)j+=l[y++],y=y%s;if(c=(c+1)%s,c===d&&(d=(d+1)%s),v-h<r)return;const S=N&&v-N;return S?Math.round(j*1e3/S):void 0}}function dj(s,r){let l=0,i=1e3/r,c,d;const h=(v,N=Date.now())=>{l=N,c=null,d&&(clearTimeout(d),d=null),s(...v)};return[(...v)=>{const N=Date.now(),y=N-l;y>=i?h(v,N):(c=v,d||(d=setTimeout(()=>{d=null,h(c)},i-y)))},()=>c&&h(c)]}const Ui=(s,r,l=3)=>{let i=0;const c=uj(50,250);return dj(d=>{const h=d.loaded,p=d.lengthComputable?d.total:void 0,f=h-i,v=c(f),N=h<=p;i=h;const y={loaded:h,total:p,progress:p?h/p:void 0,bytes:f,rate:v||void 0,estimated:v&&p&&N?(p-h)/v:void 0,event:d,lengthComputable:p!=null,[r?"download":"upload"]:!0};s(y)},l)},Qp=(s,r)=>{const l=s!=null;return[i=>r[0]({lengthComputable:l,total:s,loaded:i}),r[1]]},Gp=s=>(...r)=>q.asap(()=>s(...r)),hj=gt.hasStandardBrowserEnv?((s,r)=>l=>(l=new URL(l,gt.origin),s.protocol===l.protocol&&s.host===l.host&&(r||s.port===l.port)))(new URL(gt.origin),gt.navigator&&/(msie|trident)/i.test(gt.navigator.userAgent)):()=>!0,mj=gt.hasStandardBrowserEnv?{write(s,r,l,i,c,d,h){if(typeof document>"u")return;const p=[`${s}=${encodeURIComponent(r)}`];q.isNumber(l)&&p.push(`expires=${new Date(l).toUTCString()}`),q.isString(i)&&p.push(`path=${i}`),q.isString(c)&&p.push(`domain=${c}`),d===!0&&p.push("secure"),q.isString(h)&&p.push(`SameSite=${h}`),document.cookie=p.join("; ")},read(s){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pj(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function fj(s,r){return r?s.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):s}function Eg(s,r,l){let i=!pj(r);return s&&(i||l==!1)?fj(s,r):r}const Wp=s=>s instanceof Dt?{...s}:s;function sr(s,r){r=r||{};const l={};function i(v,N,y,j){return q.isPlainObject(v)&&q.isPlainObject(N)?q.merge.call({caseless:j},v,N):q.isPlainObject(N)?q.merge({},N):q.isArray(N)?N.slice():N}function c(v,N,y,j){if(q.isUndefined(N)){if(!q.isUndefined(v))return i(void 0,v,y,j)}else return i(v,N,y,j)}function d(v,N){if(!q.isUndefined(N))return i(void 0,N)}function h(v,N){if(q.isUndefined(N)){if(!q.isUndefined(v))return i(void 0,v)}else return i(void 0,N)}function p(v,N,y){if(y in r)return i(v,N);if(y in s)return i(void 0,v)}const f={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(v,N,y)=>c(Wp(v),Wp(N),y,!0)};return q.forEach(Object.keys({...s,...r}),function(N){const y=f[N]||c,j=y(s[N],r[N],N);q.isUndefined(j)&&y!==p||(l[N]=j)}),l}const Pg=s=>{const r=sr({},s);let{data:l,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:d,headers:h,auth:p}=r;if(r.headers=h=Dt.from(h),r.url=wg(Eg(r.baseURL,r.url,r.allowAbsoluteUrls),s.params,s.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),q.isFormData(l)){if(gt.hasStandardBrowserEnv||gt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(q.isFunction(l.getHeaders)){const f=l.getHeaders(),v=["content-type","content-length"];Object.entries(f).forEach(([N,y])=>{v.includes(N.toLowerCase())&&h.set(N,y)})}}if(gt.hasStandardBrowserEnv&&(i&&q.isFunction(i)&&(i=i(r)),i||i!==!1&&hj(r.url))){const f=c&&d&&mj.read(d);f&&h.set(c,f)}return r},gj=typeof XMLHttpRequest<"u",xj=gj&&function(s){return new Promise(function(l,i){const c=Pg(s);let d=c.data;const h=Dt.from(c.headers).normalize();let{responseType:p,onUploadProgress:f,onDownloadProgress:v}=c,N,y,j,S,w;function D(){S&&S(),w&&w(),c.cancelToken&&c.cancelToken.unsubscribe(N),c.signal&&c.signal.removeEventListener("abort",N)}let E=new XMLHttpRequest;E.open(c.method.toUpperCase(),c.url,!0),E.timeout=c.timeout;function T(){if(!E)return;const P=Dt.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),H={data:!p||p==="text"||p==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:P,config:s,request:E};kg(function(M){l(M),D()},function(M){i(M),D()},H),E=null}"onloadend"in E?E.onloadend=T:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(T)},E.onabort=function(){E&&(i(new Ce("Request aborted",Ce.ECONNABORTED,s,E)),E=null)},E.onerror=function(C){const H=C&&C.message?C.message:"Network Error",W=new Ce(H,Ce.ERR_NETWORK,s,E);W.event=C||null,i(W),E=null},E.ontimeout=function(){let C=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const H=c.transitional||Tg;c.timeoutErrorMessage&&(C=c.timeoutErrorMessage),i(new Ce(C,H.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,s,E)),E=null},d===void 0&&h.setContentType(null),"setRequestHeader"in E&&q.forEach(h.toJSON(),function(C,H){E.setRequestHeader(H,C)}),q.isUndefined(c.withCredentials)||(E.withCredentials=!!c.withCredentials),p&&p!=="json"&&(E.responseType=c.responseType),v&&([j,w]=Ui(v,!0),E.addEventListener("progress",j)),f&&E.upload&&([y,S]=Ui(f),E.upload.addEventListener("progress",y),E.upload.addEventListener("loadend",S)),(c.cancelToken||c.signal)&&(N=P=>{E&&(i(!P||P.type?new ra(null,s,E):P),E.abort(),E=null)},c.cancelToken&&c.cancelToken.subscribe(N),c.signal&&(c.signal.aborted?N():c.signal.addEventListener("abort",N)));const _=cj(c.url);if(_&&gt.protocols.indexOf(_)===-1){i(new Ce("Unsupported protocol "+_+":",Ce.ERR_BAD_REQUEST,s));return}E.send(d||null)})},yj=(s,r)=>{const{length:l}=s=s?s.filter(Boolean):[];if(r||l){let i=new AbortController,c;const d=function(v){if(!c){c=!0,p();const N=v instanceof Error?v:this.reason;i.abort(N instanceof Ce?N:new ra(N instanceof Error?N.message:N))}};let h=r&&setTimeout(()=>{h=null,d(new Ce(`timeout ${r} of ms exceeded`,Ce.ETIMEDOUT))},r);const p=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(v=>{v.unsubscribe?v.unsubscribe(d):v.removeEventListener("abort",d)}),s=null)};s.forEach(v=>v.addEventListener("abort",d));const{signal:f}=i;return f.unsubscribe=()=>q.asap(p),f}},vj=function*(s,r){let l=s.byteLength;if(l<r){yield s;return}let i=0,c;for(;i<l;)c=i+r,yield s.slice(i,c),i=c},Nj=async function*(s,r){for await(const l of bj(s))yield*vj(l,r)},bj=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const r=s.getReader();try{for(;;){const{done:l,value:i}=await r.read();if(l)break;yield i}}finally{await r.cancel()}},Xp=(s,r,l,i)=>{const c=Nj(s,r);let d=0,h,p=f=>{h||(h=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:v,value:N}=await c.next();if(v){p(),f.close();return}let y=N.byteLength;if(l){let j=d+=y;l(j)}f.enqueue(new Uint8Array(N))}catch(v){throw p(v),v}},cancel(f){return p(f),c.return()}},{highWaterMark:2})},Jp=64*1024,{isFunction:Ci}=q,jj=(({Request:s,Response:r})=>({Request:s,Response:r}))(q.global),{ReadableStream:Yp,TextEncoder:Zp}=q.global,ef=(s,...r)=>{try{return!!s(...r)}catch{return!1}},wj=s=>{s=q.merge.call({skipUndefined:!0},jj,s);const{fetch:r,Request:l,Response:i}=s,c=r?Ci(r):typeof fetch=="function",d=Ci(l),h=Ci(i);if(!c)return!1;const p=c&&Ci(Yp),f=c&&(typeof Zp=="function"?(w=>D=>w.encode(D))(new Zp):async w=>new Uint8Array(await new l(w).arrayBuffer())),v=d&&p&&ef(()=>{let w=!1;const D=new l(gt.origin,{body:new Yp,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!D}),N=h&&p&&ef(()=>q.isReadableStream(new i("").body)),y={stream:N&&(w=>w.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!y[w]&&(y[w]=(D,E)=>{let T=D&&D[w];if(T)return T.call(D);throw new Ce(`Response type '${w}' is not supported`,Ce.ERR_NOT_SUPPORT,E)})});const j=async w=>{if(w==null)return 0;if(q.isBlob(w))return w.size;if(q.isSpecCompliantForm(w))return(await new l(gt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(q.isArrayBufferView(w)||q.isArrayBuffer(w))return w.byteLength;if(q.isURLSearchParams(w)&&(w=w+""),q.isString(w))return(await f(w)).byteLength},S=async(w,D)=>{const E=q.toFiniteNumber(w.getContentLength());return E??j(D)};return async w=>{let{url:D,method:E,data:T,signal:_,cancelToken:P,timeout:C,onDownloadProgress:H,onUploadProgress:W,responseType:M,headers:F,withCredentials:se="same-origin",fetchOptions:U}=Pg(w),Y=r||fetch;M=M?(M+"").toLowerCase():"text";let pe=yj([_,P&&P.toAbortSignal()],C),J=null;const de=pe&&pe.unsubscribe&&(()=>{pe.unsubscribe()});let $;try{if(W&&v&&E!=="get"&&E!=="head"&&($=await S(F,T))!==0){let R=new l(D,{method:"POST",body:T,duplex:"half"}),g;if(q.isFormData(T)&&(g=R.headers.get("content-type"))&&F.setContentType(g),R.body){const[Q,A]=Qp($,Ui(Gp(W)));T=Xp(R.body,Jp,Q,A)}}q.isString(se)||(se=se?"include":"omit");const oe=d&&"credentials"in l.prototype,K={...U,signal:pe,method:E.toUpperCase(),headers:F.normalize().toJSON(),body:T,duplex:"half",credentials:oe?se:void 0};J=d&&new l(D,K);let G=await(d?Y(J,U):Y(D,K));const le=N&&(M==="stream"||M==="response");if(N&&(H||le&&de)){const R={};["status","statusText","headers"].forEach(X=>{R[X]=G[X]});const g=q.toFiniteNumber(G.headers.get("content-length")),[Q,A]=H&&Qp(g,Ui(Gp(H),!0))||[];G=new i(Xp(G.body,Jp,Q,()=>{A&&A(),de&&de()}),R)}M=M||"text";let re=await y[q.findKey(y,M)||"text"](G,w);return!le&&de&&de(),await new Promise((R,g)=>{kg(R,g,{data:re,headers:Dt.from(G.headers),status:G.status,statusText:G.statusText,config:w,request:J})})}catch(oe){throw de&&de(),oe&&oe.name==="TypeError"&&/Load failed|fetch/i.test(oe.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,w,J),{cause:oe.cause||oe}):Ce.from(oe,oe&&oe.code,w,J)}}},Tj=new Map,Lg=s=>{let r=s&&s.env||{};const{fetch:l,Request:i,Response:c}=r,d=[i,c,l];let h=d.length,p=h,f,v,N=Tj;for(;p--;)f=d[p],v=N.get(f),v===void 0&&N.set(f,v=p?new Map:wj(r)),N=v;return v};Lg();const hd={http:Kb,xhr:xj,fetch:{get:Lg}};q.forEach(hd,(s,r)=>{if(s){try{Object.defineProperty(s,"name",{value:r})}catch{}Object.defineProperty(s,"adapterName",{value:r})}});const tf=s=>`- ${s}`,Cj=s=>q.isFunction(s)||s===null||s===!1;function Sj(s,r){s=q.isArray(s)?s:[s];const{length:l}=s;let i,c;const d={};for(let h=0;h<l;h++){i=s[h];let p;if(c=i,!Cj(i)&&(c=hd[(p=String(i)).toLowerCase()],c===void 0))throw new Ce(`Unknown adapter '${p}'`);if(c&&(q.isFunction(c)||(c=c.get(r))))break;d[p||"#"+h]=c}if(!c){const h=Object.entries(d).map(([f,v])=>`adapter ${f} `+(v===!1?"is not supported by the environment":"is not available in the build"));let p=l?h.length>1?`since :
`+h.map(tf).join(`
`):" "+tf(h[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return c}const _g={getAdapter:Sj,adapters:hd};function au(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new ra(null,s)}function nf(s){return au(s),s.headers=Dt.from(s.headers),s.data=ru.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),_g.getAdapter(s.adapter||hl.adapter,s)(s).then(function(i){return au(s),i.data=ru.call(s,s.transformResponse,i),i.headers=Dt.from(i.headers),i},function(i){return Sg(i)||(au(s),i&&i.response&&(i.response.data=ru.call(s,s.transformResponse,i.response),i.response.headers=Dt.from(i.response.headers))),Promise.reject(i)})}const Dg="1.13.2",no={};["object","boolean","number","function","string","symbol"].forEach((s,r)=>{no[s]=function(i){return typeof i===s||"a"+(r<1?"n ":" ")+s}});const sf={};no.transitional=function(r,l,i){function c(d,h){return"[Axios v"+Dg+"] Transitional option '"+d+"'"+h+(i?". "+i:"")}return(d,h,p)=>{if(r===!1)throw new Ce(c(h," has been removed"+(l?" in "+l:"")),Ce.ERR_DEPRECATED);return l&&!sf[h]&&(sf[h]=!0,console.warn(c(h," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(d,h,p):!0}};no.spelling=function(r){return(l,i)=>(console.warn(`${i} is likely a misspelling of ${r}`),!0)};function kj(s,r,l){if(typeof s!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let c=i.length;for(;c-- >0;){const d=i[c],h=r[d];if(h){const p=s[d],f=p===void 0||h(p,d,s);if(f!==!0)throw new Ce("option "+d+" must be "+f,Ce.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Ce("Unknown option "+d,Ce.ERR_BAD_OPTION)}}const Di={assertOptions:kj,validators:no},fn=Di.validators;let Ys=class{constructor(r){this.defaults=r||{},this.interceptors={request:new $p,response:new $p}}async request(r,l){try{return await this._request(r,l)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?d&&!String(i.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+d):i.stack=d}catch{}}throw i}}_request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=sr(this.defaults,l);const{transitional:i,paramsSerializer:c,headers:d}=l;i!==void 0&&Di.assertOptions(i,{silentJSONParsing:fn.transitional(fn.boolean),forcedJSONParsing:fn.transitional(fn.boolean),clarifyTimeoutError:fn.transitional(fn.boolean)},!1),c!=null&&(q.isFunction(c)?l.paramsSerializer={serialize:c}:Di.assertOptions(c,{encode:fn.function,serialize:fn.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Di.assertOptions(l,{baseUrl:fn.spelling("baseURL"),withXsrfToken:fn.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let h=d&&q.merge(d.common,d[l.method]);d&&q.forEach(["delete","get","head","post","put","patch","common"],w=>{delete d[w]}),l.headers=Dt.concat(h,d);const p=[];let f=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(l)===!1||(f=f&&D.synchronous,p.unshift(D.fulfilled,D.rejected))});const v=[];this.interceptors.response.forEach(function(D){v.push(D.fulfilled,D.rejected)});let N,y=0,j;if(!f){const w=[nf.bind(this),void 0];for(w.unshift(...p),w.push(...v),j=w.length,N=Promise.resolve(l);y<j;)N=N.then(w[y++],w[y++]);return N}j=p.length;let S=l;for(;y<j;){const w=p[y++],D=p[y++];try{S=w(S)}catch(E){D.call(this,E);break}}try{N=nf.call(this,S)}catch(w){return Promise.reject(w)}for(y=0,j=v.length;y<j;)N=N.then(v[y++],v[y++]);return N}getUri(r){r=sr(this.defaults,r);const l=Eg(r.baseURL,r.url,r.allowAbsoluteUrls);return wg(l,r.params,r.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(r){Ys.prototype[r]=function(l,i){return this.request(sr(i||{},{method:r,url:l,data:(i||{}).data}))}});q.forEach(["post","put","patch"],function(r){function l(i){return function(d,h,p){return this.request(sr(p||{},{method:r,headers:i?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Ys.prototype[r]=l(),Ys.prototype[r+"Form"]=l(!0)});let Ej=class Rg{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(d){l=d});const i=this;this.promise.then(c=>{if(!i._listeners)return;let d=i._listeners.length;for(;d-- >0;)i._listeners[d](c);i._listeners=null}),this.promise.then=c=>{let d;const h=new Promise(p=>{i.subscribe(p),d=p}).then(c);return h.cancel=function(){i.unsubscribe(d)},h},r(function(d,h,p){i.reason||(i.reason=new ra(d,h,p),l(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const r=new AbortController,l=i=>{r.abort(i)};return this.subscribe(l),r.signal.unsubscribe=()=>this.unsubscribe(l),r.signal}static source(){let r;return{token:new Rg(function(c){r=c}),cancel:r}}};function Pj(s){return function(l){return s.apply(null,l)}}function Lj(s){return q.isObject(s)&&s.isAxiosError===!0}const Bu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Bu).forEach(([s,r])=>{Bu[r]=s});function Og(s){const r=new Ys(s),l=dg(Ys.prototype.request,r);return q.extend(l,Ys.prototype,r,{allOwnKeys:!0}),q.extend(l,r,null,{allOwnKeys:!0}),l.create=function(c){return Og(sr(s,c))},l}const Ve=Og(hl);Ve.Axios=Ys;Ve.CanceledError=ra;Ve.CancelToken=Ej;Ve.isCancel=Sg;Ve.VERSION=Dg;Ve.toFormData=to;Ve.AxiosError=Ce;Ve.Cancel=Ve.CanceledError;Ve.all=function(r){return Promise.all(r)};Ve.spread=Pj;Ve.isAxiosError=Lj;Ve.mergeConfig=sr;Ve.AxiosHeaders=Dt;Ve.formToJSON=s=>Cg(q.isHTMLForm(s)?new FormData(s):s);Ve.getAdapter=_g.getAdapter;Ve.HttpStatusCode=Bu;Ve.default=Ve;const{Axios:C2,AxiosError:S2,CanceledError:k2,isCancel:E2,CancelToken:P2,VERSION:L2,all:_2,Cancel:D2,isAxiosError:R2,spread:O2,toFormData:M2,AxiosHeaders:A2,HttpStatusCode:I2,formToJSON:H2,getAdapter:F2,mergeConfig:B2}=Ve,_j="tinh_luong_auth",ct=Ve.create({baseURL:"/api/rbac",headers:{"Content-Type":"application/json"}});ct.interceptors.request.use(s=>{const r=localStorage.getItem(_j);if(r)try{const l=JSON.parse(r);l.token&&(s.headers.Authorization=`Bearer ${l.token}`)}catch{}return s},s=>Promise.reject(s));const lu={dangNhap:(s,r)=>ct.post("/dang-nhap",{tenDangNhap:s,matKhau:r}).then(l=>l.data),dangXuat:s=>ct.post("/dang-xuat",null,{headers:{Authorization:`Bearer ${s}`}}).then(r=>r.data),kiemTraToken:s=>ct.get("/kiem-tra-token",{headers:{Authorization:`Bearer ${s}`}}).then(r=>r.data)},iu={layTatCa:()=>ct.get("/nguoi-dung").then(s=>s.data),layTheoId:s=>ct.get(`/nguoi-dung/${s}`).then(r=>r.data),taoMoi:s=>ct.post("/nguoi-dung",s).then(r=>r.data),capNhat:(s,r)=>ct.put(`/nguoi-dung/${s}`,r).then(l=>l.data),doiMatKhau:(s,r,l)=>ct.put(`/nguoi-dung/${s}/doi-mat-khau`,{matKhauCu:r,matKhauMoi:l}).then(i=>i.data)},rf={layTatCa:()=>ct.get("/vai-tro").then(s=>s.data),layTheoId:s=>ct.get(`/vai-tro/${s}`).then(r=>r.data),taoMoi:s=>ct.post("/vai-tro",s).then(r=>r.data),capNhat:(s,r)=>ct.put(`/vai-tro/${s}`,r).then(l=>l.data),ganVaiTro:(s,r)=>ct.post("/vai-tro/gan",{nguoiDungId:s,vaiTroId:r}).then(l=>l.data),goVaiTro:(s,r)=>ct.delete("/vai-tro/go",{data:{nguoiDungId:s,vaiTroId:r}}).then(l=>l.data)},Dj={layDanhSach:s=>ct.get("/audit-log",{params:s}).then(r=>r.data),layTheoNguoiDung:s=>ct.get(`/audit-log/nguoi-dung/${s}`).then(r=>r.data),layTheoBanGhi:(s,r)=>ct.get(`/audit-log/ban-ghi/${s}/${r}`).then(l=>l.data)},Mg=b.createContext(void 0),Dr="tinh_luong_auth",Rj=6e4;function Oj({children:s}){const[r,l]=b.useState(null),[i,c]=b.useState(null),[d,h]=b.useState([]),[p,f]=b.useState([]),[v,N]=b.useState(!0),y=b.useCallback(()=>{localStorage.removeItem(Dr),c(null),l(null),h([]),f([])},[]),j=b.useCallback(()=>{const _=localStorage.getItem(Dr);if(_)try{const P=JSON.parse(_),C=new Date(P.hetHan),H=new Date;if(C<=H)return y(),window.location.href="/dang-nhap?expired=1",!1;const W=C.getTime()-H.getTime();return W<600*1e3&&W>0&&console.warn("Token sp ht hn trong",Math.floor(W/6e4),"pht"),!0}catch{return y(),!1}return!1},[y]);b.useEffect(()=>{const _=localStorage.getItem(Dr);if(_)try{const P=JSON.parse(_);new Date(P.hetHan)>new Date?(c(P.token),l(P.user),h(P.vaiTros),f(P.quyens)):localStorage.removeItem(Dr)}catch{localStorage.removeItem(Dr)}N(!1)},[]),b.useEffect(()=>{if(i){const _=setInterval(j,Rj);return()=>clearInterval(_)}},[i,j]);const S=async(_,P)=>{const C=await lu.dangNhap(_,P),H={token:C.token,user:C.nguoiDung,vaiTros:C.vaiTros,quyens:C.quyens,hetHan:C.hetHan};localStorage.setItem(Dr,JSON.stringify(H)),c(C.token),l(C.nguoiDung),h(C.vaiTros),f(C.quyens)},w=async()=>{if(i)try{await lu.dangXuat(i)}catch{}y()},D=async()=>{if(i)try{(await lu.kiemTraToken(i)).hieu_luc||(y(),window.location.href="/dang-nhap?expired=1")}catch{y()}},E=_=>p.includes(_)||d.includes("ADMIN"),T=_=>d.includes(_);return e.jsx(Mg.Provider,{value:{user:r,token:i,vaiTros:d,quyens:p,isAuthenticated:!!r,isLoading:v,dangNhap:S,dangXuat:w,coQuyen:E,coVaiTro:T,refreshToken:D},children:s})}function md(){const s=b.useContext(Mg);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function Dn({children:s,quyen:r}){const{isAuthenticated:l,isLoading:i,coQuyen:c}=md();return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):l?r&&!c(r)?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Khng c quyn truy cp"}),e.jsx("p",{className:"text-red-600 mt-2",children:"Bn khng c quyn truy cp trang ny."})]}):e.jsx(e.Fragment,{children:s}):(window.location.href="/dang-nhap",null)}const Mj=[{path:"/",label:"Trang ch",icon:VN},{path:"/bang-luong",label:"Bng lng",icon:Ji},{path:"/phong-ban",label:"Phng ban",icon:Gi},{path:"/nhan-vien",label:"Nhn vin",icon:Yr},{path:"/khoan-luong",label:"Khon lng",icon:Fi},{path:"/cham-cong",label:"Chm cng",icon:Bp},{path:"/quy-che",label:"Quy ch lng",icon:HN},{path:"/su-kien",label:"S kin thng/pht",icon:Fp},{path:"/import-excel",label:"Import Excel",icon:Ir},{path:"/cai-dat",label:"Ci t",icon:Jr},{path:"/kpi",label:"Qun l KPI",icon:ZN,children:[{path:"/kpi/template",label:"Template KPI",icon:Bp},{path:"/kpi/ky-danh-gia",label:"K nh gi",icon:Fp},{path:"/kpi/cau-hinh-thuong",label:"Cu hnh thng",icon:Fi}]},{path:"/quan-tri",label:"Qun tr",icon:YN,children:[{path:"/quan-tri/nguoi-dung",label:"Ngi dng",icon:Yr},{path:"/quan-tri/audit-log",label:"Audit Log",icon:Jr}]}];function Aj(){const s=rr(),r=Cs(),{user:l,isAuthenticated:i,dangXuat:c,vaiTros:d}=md(),[h,p]=b.useState(!0),[f,v]=b.useState([]),N=j=>{v(S=>S.includes(j)?S.filter(w=>w!==j):[...S,j])},y=async()=>{await c(),r("/dang-nhap")};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow-sm fixed top-0 left-0 right-0 z-50",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>p(!h),className:"p-2 rounded-lg hover:bg-gray-100",children:h?e.jsx(nr,{size:20}):e.jsx(GN,{size:20})}),e.jsx("h1",{className:"text-xl font-bold text-primary-600",children:" H Thng Tnh Lng"})]}),e.jsx("div",{className:"flex items-center gap-4",children:i&&l?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.hoTen}),e.jsx("div",{className:"text-xs text-gray-500",children:d.join(", ")||"Cha gn vai tr"})]}),e.jsx("button",{onClick:y,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"ng xut",children:e.jsx(QN,{size:20})})]}):e.jsx(Gt,{to:"/dang-nhap",className:"text-sm text-blue-600 hover:text-blue-700",children:"ng nhp"})})]})}),e.jsxs("div",{className:"flex pt-14",children:[e.jsx("aside",{className:`
            fixed left-0 top-14 bottom-0 bg-white shadow-lg transition-all duration-300 z-40
            ${h?"w-56":"w-0 overflow-hidden"}
          `,children:e.jsx("nav",{className:"py-4 overflow-y-auto h-full",children:Mj.map(j=>{var T;const S=j.icon,w=j.children&&j.children.length>0,D=f.includes(j.path),E=s.pathname===j.path||j.path!=="/"&&s.pathname.startsWith(j.path);return e.jsx("div",{children:w?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>N(j.path),className:`
                          w-full flex items-center justify-between gap-3 px-4 py-3 mx-2 rounded-lg transition-colors
                          ${E?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100"}
                        `,style:{width:"calc(100% - 16px)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{size:20}),e.jsx("span",{className:"font-medium",children:j.label})]}),e.jsx(rg,{size:16,className:`transition-transform ${D?"rotate-180":""}`})]}),D&&e.jsx("div",{className:"ml-6 mt-1 space-y-1",children:(T=j.children)==null?void 0:T.map(_=>{const P=_.icon,C=s.pathname===_.path;return e.jsxs(Gt,{to:_.path,className:`
                                  flex items-center gap-3 px-4 py-2 mx-2 rounded-lg transition-colors text-sm
                                  ${C?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100"}
                                `,children:[e.jsx(P,{size:16}),e.jsx("span",{children:_.label})]},_.path)})})]}):e.jsxs(Gt,{to:j.path,className:`
                        flex items-center gap-3 px-4 py-3 mx-2 rounded-lg transition-colors
                        ${E?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100"}
                      `,children:[e.jsx(S,{size:20}),e.jsx("span",{className:"font-medium",children:j.label})]})},j.path)})})}),e.jsx("main",{className:`
            flex-1 p-6 transition-all duration-300
            ${h?"ml-56":"ml-0"}
          `,children:e.jsx(Lv,{})})]})]})}const Ag="tinh_luong_auth",me=Ve.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});me.interceptors.request.use(s=>{const r=localStorage.getItem(Ag);if(r)try{const l=JSON.parse(r);l.token&&(s.headers.Authorization=`Bearer ${l.token}`)}catch{}return s},s=>Promise.reject(s));me.interceptors.response.use(s=>s,s=>{var r;return((r=s.response)==null?void 0:r.status)===401&&(localStorage.removeItem(Ag),window.location.pathname!=="/dang-nhap"&&(window.location.href="/dang-nhap?expired=1")),Promise.reject(s)});const ln={layTatCa:()=>me.get("/phong-ban").then(s=>s.data),layTheoId:s=>me.get(`/phong-ban/${s}`).then(r=>r.data),taoMoi:s=>me.post("/phong-ban",s).then(r=>r.data),capNhat:(s,r)=>me.put(`/phong-ban/${s}`,r).then(l=>l.data),xoa:s=>me.delete(`/phong-ban/${s}`).then(r=>r.data)},Fn={layTatCa:s=>me.get("/nhan-vien",{params:s}).then(r=>r.data),layTheoId:s=>me.get(`/nhan-vien/${s}`).then(r=>r.data),layMaTuDong:()=>me.get("/nhan-vien/ma-tu-dong").then(s=>s.data),taoMoi:s=>me.post("/nhan-vien",s).then(r=>r.data),capNhat:(s,r)=>me.put(`/nhan-vien/${s}`,r).then(l=>l.data),xoa:s=>me.delete(`/nhan-vien/${s}`).then(r=>r.data)},Wt={layTatCa:s=>me.get("/khoan-luong",{params:{loai:s}}).then(r=>r.data),layTheoId:s=>me.get(`/khoan-luong/${s}`).then(r=>r.data),taoMoi:s=>me.post("/khoan-luong",s).then(r=>r.data),capNhat:(s,r)=>me.put(`/khoan-luong/${s}`,r).then(l=>l.data),xoa:s=>me.delete(`/khoan-luong/${s}`).then(r=>r.data)},an={layDanhSach:s=>me.get("/bang-luong",{params:s}).then(r=>r.data),layTheoId:s=>me.get(`/bang-luong/${s}`).then(r=>r.data),taoMoi:s=>me.post("/bang-luong",s).then(r=>r.data),capNhatChiTiet:s=>me.put("/bang-luong/chi-tiet/cap-nhat",s).then(r=>r.data),capNhatNhieuChiTiet:s=>me.put("/bang-luong/chi-tiet/cap-nhat-nhieu",{danhSach:s}).then(r=>r.data),chotBangLuong:(s,r)=>me.post(`/bang-luong/${s}/chot`,r).then(l=>l.data),moKhoa:s=>me.post(`/bang-luong/${s}/mo-khoa`).then(r=>r.data),khoa:s=>me.post(`/bang-luong/${s}/khoa`).then(r=>r.data),xoa:s=>me.delete(`/bang-luong/${s}`).then(r=>r.data),layLichSu:s=>me.get(`/bang-luong/${s}/lich-su`).then(r=>r.data),soSanhExcel:(s,r)=>me.post(`/bang-luong/${s}/so-sanh-excel`,{tongExcel:r}).then(l=>l.data),tinhLaiLuong:s=>me.post(`/bang-luong/${s}/tinh-lai-luong`).then(r=>r.data)},Ku={layPhieuLuong:(s,r)=>me.get(`/bang-luong/${s}/phieu-luong/${r}`).then(l=>l.data),layPhieuLuongHtml:(s,r)=>me.get(`/bang-luong/${s}/phieu-luong/${r}/html`).then(l=>l.data),guiPhieuLuong:(s,r)=>me.post(`/bang-luong/${s}/gui-phieu-luong/${r}`).then(l=>l.data),guiTatCa:s=>me.post(`/bang-luong/${s}/gui-tat-ca`).then(r=>r.data)},Ri={docHeader:s=>{const r=new FormData;return r.append("file",s),me.post("/import-excel/doc-header",r,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>l.data)},goiYMapping:s=>{const r=new FormData;return r.append("file",s),me.post("/import-excel/goi-y-mapping",r,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>l.data)},import:(s,r,l,i,c)=>{const d=new FormData;return d.append("file",s),d.append("thang",String(r)),d.append("nam",String(l)),d.append("phongBanId",String(i)),d.append("mappings",JSON.stringify(c)),me.post("/import-excel/import",d,{headers:{"Content-Type":"multipart/form-data"}}).then(h=>h.data)},export:s=>me.get(`/import-excel/export/${s}`,{responseType:"blob"})},Rr={layTheoNhanVien:s=>me.get(`/phu-cap-nhan-vien/nhan-vien/${s}`).then(r=>r.data),layHieuLuc:s=>me.get(`/phu-cap-nhan-vien/nhan-vien/${s}/hieu-luc`).then(r=>r.data),layTheoThang:(s,r,l)=>me.get(`/phu-cap-nhan-vien/nhan-vien/${s}/theo-thang`,{params:{thang:r,nam:l}}).then(i=>i.data),layLichSu:(s,r)=>me.get(`/phu-cap-nhan-vien/nhan-vien/${s}/lich-su`,{params:{khoanLuongId:r}}).then(l=>l.data),taoPhuCap:s=>me.post("/phu-cap-nhan-vien",s).then(r=>r.data),ketThuc:(s,r,l)=>me.put(`/phu-cap-nhan-vien/${s}/ket-thuc`,{denNgay:r,nguoiCapNhat:l}).then(i=>i.data),tang:(s,r)=>me.post(`/phu-cap-nhan-vien/${s}/tang`,r).then(l=>l.data),tamDung:s=>me.put(`/phu-cap-nhan-vien/${s}/tam-dung`).then(r=>r.data),kichHoat:s=>me.put(`/phu-cap-nhan-vien/${s}/kich-hoat`).then(r=>r.data),thongKePhongBan:s=>me.get(`/phu-cap-nhan-vien/thong-ke/phong-ban/${s}`).then(r=>r.data)},af={layTatCa:s=>me.get(`/bang-luong/${s}/ngay-cong`).then(r=>r.data),layTheoNhanVien:(s,r)=>me.get(`/bang-luong/${s}/ngay-cong/${r}`).then(l=>l.data),khoiTao:s=>me.post(`/bang-luong/${s}/ngay-cong/khoi-tao`).then(r=>r.data),dieuChinh:(s,r,l)=>me.put(`/bang-luong/${s}/ngay-cong/${r}/dieu-chinh`,l).then(i=>i.data),xoaDieuChinh:(s,r)=>me.delete(`/bang-luong/${s}/ngay-cong/${r}/dieu-chinh`).then(l=>l.data)},lf={lay:()=>me.get("/thong-tin-cong-ty").then(s=>s.data),capNhat:s=>me.put("/thong-tin-cong-ty",s).then(r=>r.data)};function ze(s){if(s==null)return"0";const r=typeof s=="string"?parseFloat(s):s;return isNaN(r)?"0":new Intl.NumberFormat("vi-VN").format(r)}function Ij(s){if(!s)return 0;const r=s.replace(/[^\d]/g,"");return parseInt(r,10)||0}function Si(s){return s?new Date(s).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function Hj(s){switch(s){case"NHAP":return"badge badge-nhap";case"DA_CHOT":return"badge badge-da-chot";case"KHOA":return"badge badge-khoa";default:return"badge"}}function Fj(s){switch(s){case"NHAP":return"ang nhp";case"DA_CHOT":return" cht";case"KHOA":return" kha";default:return s}}function Bj(s,r){const l=window.URL.createObjectURL(s),i=document.createElement("a");i.href=l,i.setAttribute("download",r),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(l)}function Kj(){const{data:s}=Xe({queryKey:["phong-ban"],queryFn:ln.layTatCa}),{data:r}=Xe({queryKey:["nhan-vien"],queryFn:()=>Fn.layTatCa()}),{data:l}=Xe({queryKey:["khoan-luong"],queryFn:()=>Wt.layTatCa()}),{data:i}=Xe({queryKey:["bang-luong"],queryFn:()=>an.layDanhSach()}),c=Array.isArray(r)?r:(r==null?void 0:r.data)||[],d=Array.isArray(i)?i:(i==null?void 0:i.data)||[],h=(d==null?void 0:d.reduce((f,v)=>f+(v.thucLinh||0),0))||0,p=[{label:"Phng ban",value:(s==null?void 0:s.length)||0,icon:Gi,color:"bg-blue-500",link:"/nhan-vien"},{label:"Nhn vin",value:(c==null?void 0:c.length)||0,icon:Yr,color:"bg-green-500",link:"/nhan-vien"},{label:"Khon lng",value:(l==null?void 0:l.length)||0,icon:Fi,color:"bg-purple-500",link:"/khoan-luong"},{label:"Bng lng",value:(d==null?void 0:d.length)||0,icon:Ji,color:"bg-orange-500",link:"/bang-luong"}];return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Tng quan H thng"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:p.map(f=>{const v=f.icon;return e.jsx(Gt,{to:f.link,className:"card hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:f.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:f.value})]}),e.jsx("div",{className:`p-3 rounded-full ${f.color}`,children:e.jsx(v,{size:24,className:"text-white"})})]})},f.label)})}),e.jsx("div",{className:"card mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl",children:e.jsx(og,{size:32,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tng qu lng"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[ze(h)," ",e.jsx("span",{className:"text-lg text-gray-500",children:"VN"})]})]})]})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(Wi,{size:20}),"Bng lng gn y"]}),e.jsx(Gt,{to:"/bang-luong",className:"text-primary-600 hover:underline text-sm",children:"Xem tt c "})]}),d&&d.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium text-gray-500",children:"Thng/Nm"}),e.jsx("th",{className:"text-left py-2 px-3 text-sm font-medium text-gray-500",children:"Phng ban"}),e.jsx("th",{className:"text-right py-2 px-3 text-sm font-medium text-gray-500",children:"S NV"}),e.jsx("th",{className:"text-right py-2 px-3 text-sm font-medium text-gray-500",children:"Thc lnh"}),e.jsx("th",{className:"text-center py-2 px-3 text-sm font-medium text-gray-500",children:"Trng thi"})]})}),e.jsx("tbody",{children:d.slice(0,5).map(f=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-3",children:e.jsxs(Gt,{to:`/bang-luong/${f.id}`,className:"text-primary-600 hover:underline font-medium",children:["Thng ",f.thang,"/",f.nam]})}),e.jsx("td",{className:"py-3 px-3",children:f.phongBan.tenPhongBan}),e.jsx("td",{className:"py-3 px-3 text-right",children:f.soNhanVien||0}),e.jsx("td",{className:"py-3 px-3 text-right font-medium currency",children:ze(f.thucLinh)}),e.jsx("td",{className:"py-3 px-3 text-center",children:e.jsxs("span",{className:`
                          badge
                          ${f.trangThai==="NHAP"?"badge-nhap":""}
                          ${f.trangThai==="DA_CHOT"?"badge-da-chot":""}
                          ${f.trangThai==="KHOA"?"badge-khoa":""}
                        `,children:[f.trangThai==="NHAP"&&"ang nhp",f.trangThai==="DA_CHOT"&&" cht",f.trangThai==="KHOA"&&" kha"]})})]},f.id))})]})}):e.jsxs("p",{className:"text-gray-500 text-center py-8",children:["Cha c bng lng no.",e.jsx(Gt,{to:"/bang-luong",className:"text-primary-600 hover:underline ml-1",children:"To bng lng mi"})]})]})]})}function Uj(){const s=Nn(),[r,l]=b.useState(!1),[i,c]=b.useState(new Date().getFullYear()),[d,h]=b.useState(),[p,f]=b.useState({thang:new Date().getMonth()+1,nam:new Date().getFullYear(),phongBanIds:[],tenBangLuong:""}),{data:v,isLoading:N}=Xe({queryKey:["bang-luong",i,d],queryFn:()=>an.layDanhSach({nam:i,phongBanId:d})}),y=Array.isArray(v)?v:(v==null?void 0:v.data)||[],{data:j}=Xe({queryKey:["phong-ban"],queryFn:ln.layTatCa}),S=Ae({mutationFn:async T=>await Promise.all(T.phongBanIds.map(P=>an.taoMoi({thang:T.thang,nam:T.nam,phongBanId:P,tenBangLuong:T.phongBanIds.length>1?"":T.tenBangLuong}))),onSuccess:T=>{s.invalidateQueries({queryKey:["bang-luong"]}),ie.success(`To ${T.length} bng lng thnh cng!`),l(!1),f({thang:new Date().getMonth()+1,nam:new Date().getFullYear(),phongBanIds:[],tenBangLuong:""})},onError:T=>{var _,P;ie.error(((P=(_=T.response)==null?void 0:_.data)==null?void 0:P.message)||"C li xy ra")}}),w=Ae({mutationFn:an.xoa,onSuccess:()=>{s.invalidateQueries({queryKey:["bang-luong"]}),ie.success("Xa bng lng thnh cng!")},onError:T=>{var _,P;ie.error(((P=(_=T.response)==null?void 0:_.data)==null?void 0:P.message)||"C li xy ra")}}),D=()=>{if(p.phongBanIds.length===0){ie.error("Vui lng chn t nht mt phng ban");return}S.mutate(p)},E=(T,_)=>{if(_!=="NHAP"){ie.error("Ch c th xa bng lng ang  trng thi Nhp");return}confirm("Bn c chc mun xa bng lng ny?")&&w.mutate(T)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Ji,{size:28}),"Qun l Bng lng"]}),e.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary",children:[e.jsx(ws,{size:20}),"To bng lng mi"]})]}),e.jsx("div",{className:"card mb-6",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nm"}),e.jsx("select",{value:i,onChange:T=>c(Number(T.target.value)),className:"border rounded-lg px-3 py-2",children:[2024,2025,2026,2027].map(T=>e.jsx("option",{value:T,children:T},T))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Phng ban"}),e.jsxs("select",{value:d||"",onChange:T=>h(T.target.value?Number(T.target.value):void 0),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Tt c"}),j==null?void 0:j.map(T=>e.jsx("option",{value:T.id,children:T.tenPhongBan},T.id))]})]})]})}),e.jsx("div",{className:"card",children:N?e.jsx("p",{className:"text-center py-8 text-gray-500",children:"ang ti..."}):y&&y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Tn bng lng"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Thng/Nm"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Phng ban"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"S NV"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Tng thu nhp"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Thc lnh"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Trng thi"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Thao tc"})]})}),e.jsx("tbody",{children:y.map(T=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx(Gt,{to:`/bang-luong/${T.id}`,className:"text-primary-600 hover:underline font-medium",children:T.tenBangLuong||`Bng lng T${T.thang}/${T.nam}`})}),e.jsxs("td",{className:"py-3 px-4 text-center",children:[T.thang,"/",T.nam]}),e.jsx("td",{className:"py-3 px-4",children:T.phongBan.tenPhongBan}),e.jsx("td",{className:"py-3 px-4 text-right",children:T.soNhanVien||0}),e.jsx("td",{className:"py-3 px-4 text-right currency",children:ze(T.tongThuNhap)}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold currency text-green-600",children:ze(T.thucLinh)}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:Hj(T.trangThai),children:Fj(T.trangThai)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Gt,{to:`/bang-luong/${T.id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Xem chi tit",children:e.jsx(Bi,{size:18})}),T.trangThai==="NHAP"&&e.jsx("button",{onClick:()=>E(T.id,T.trangThai),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Xa",children:e.jsx(tr,{size:18})}),T.trangThai==="DA_CHOT"&&e.jsx("span",{title:" cht",children:e.jsx(ag,{size:18,className:"text-gray-400"})}),T.trangThai==="KHOA"&&e.jsx("span",{title:" kha",children:e.jsx(cg,{size:18,className:"text-gray-400"})})]})})]},T.id))})]})}):e.jsx("p",{className:"text-center py-8 text-gray-500",children:"Cha c bng lng no"})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"To bng lng mi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Thng"}),e.jsx("select",{value:p.thang,onChange:T=>f({...p,thang:Number(T.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:Array.from({length:12},(T,_)=>_+1).map(T=>e.jsxs("option",{value:T,children:["Thng ",T]},T))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nm"}),e.jsx("select",{value:p.nam,onChange:T=>f({...p,nam:Number(T.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:[2024,2025,2026,2027].map(T=>e.jsx("option",{value:T,children:T},T))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phng ban * (chn nhiu)"}),e.jsxs("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer border-b pb-2 mb-2",children:[e.jsx("input",{type:"checkbox",checked:j&&p.phongBanIds.length===j.length,onChange:T=>{T.target.checked?f({...p,phongBanIds:(j==null?void 0:j.map(_=>_.id))||[]}):f({...p,phongBanIds:[]})},className:"w-4 h-4 text-blue-600 rounded"}),e.jsxs("span",{className:"font-medium text-blue-600",children:["Chn tt c (",(j==null?void 0:j.length)||0," phng ban)"]})]}),j==null?void 0:j.map(T=>e.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.phongBanIds.includes(T.id),onChange:_=>{_.target.checked?f({...p,phongBanIds:[...p.phongBanIds,T.id]}):f({...p,phongBanIds:p.phongBanIds.filter(P=>P!==T.id)})},className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("span",{children:T.tenPhongBan}),p.phongBanIds.includes(T.id)&&e.jsx(Xi,{className:"w-4 h-4 text-green-500 ml-auto"})]},T.id))]}),p.phongBanIds.length>0&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[" chn: ",p.phongBanIds.length," phng ban"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tn bng lng (tu chn)"}),e.jsx("input",{type:"text",value:p.tenBangLuong,onChange:T=>f({...p,tenBangLuong:T.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"T ng to nu  trng"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>l(!1),className:"btn btn-secondary",children:"Hy"}),e.jsx("button",{onClick:D,disabled:S.isPending,className:"btn btn-primary",children:S.isPending?"ang to...":"To mi"})]})]})})]})}function zj(s,r){if(s.match(/^[a-z]+:\/\//i))return s;if(s.match(/^\/\//))return window.location.protocol+s;if(s.match(/^[a-z]+:/i))return s;const l=document.implementation.createHTMLDocument(),i=l.createElement("base"),c=l.createElement("a");return l.head.appendChild(i),l.body.appendChild(c),r&&(i.href=r),c.href=s,c.href}const Vj=(()=>{let s=0;const r=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(s+=1,`u${r()}${s}`)})();function js(s){const r=[];for(let l=0,i=s.length;l<i;l++)r.push(s[l]);return r}let Or=null;function Ig(s={}){return Or||(s.includeStyleProperties?(Or=s.includeStyleProperties,Or):(Or=js(window.getComputedStyle(document.documentElement)),Or))}function zi(s,r){const i=(s.ownerDocument.defaultView||window).getComputedStyle(s).getPropertyValue(r);return i?parseFloat(i.replace("px","")):0}function $j(s){const r=zi(s,"border-left-width"),l=zi(s,"border-right-width");return s.clientWidth+r+l}function qj(s){const r=zi(s,"border-top-width"),l=zi(s,"border-bottom-width");return s.clientHeight+r+l}function Hg(s,r={}){const l=r.width||$j(s),i=r.height||qj(s);return{width:l,height:i}}function Qj(){let s,r;try{r=process}catch{}const l=r&&r.env?r.env.devicePixelRatio:null;return l&&(s=parseInt(l,10),Number.isNaN(s)&&(s=1)),s||window.devicePixelRatio||1}const Ht=16384;function Gj(s){(s.width>Ht||s.height>Ht)&&(s.width>Ht&&s.height>Ht?s.width>s.height?(s.height*=Ht/s.width,s.width=Ht):(s.width*=Ht/s.height,s.height=Ht):s.width>Ht?(s.height*=Ht/s.width,s.width=Ht):(s.width*=Ht/s.height,s.height=Ht))}function Vi(s){return new Promise((r,l)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>r(i))})},i.onerror=l,i.crossOrigin="anonymous",i.decoding="async",i.src=s})}async function Wj(s){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(s)).then(encodeURIComponent).then(r=>`data:image/svg+xml;charset=utf-8,${r}`)}async function Xj(s,r,l){const i="http://www.w3.org/2000/svg",c=document.createElementNS(i,"svg"),d=document.createElementNS(i,"foreignObject");return c.setAttribute("width",`${r}`),c.setAttribute("height",`${l}`),c.setAttribute("viewBox",`0 0 ${r} ${l}`),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("externalResourcesRequired","true"),c.appendChild(d),d.appendChild(s),Wj(c)}const Rt=(s,r)=>{if(s instanceof r)return!0;const l=Object.getPrototypeOf(s);return l===null?!1:l.constructor.name===r.name||Rt(l,r)};function Jj(s){const r=s.getPropertyValue("content");return`${s.cssText} content: '${r.replace(/'|"/g,"")}';`}function Yj(s,r){return Ig(r).map(l=>{const i=s.getPropertyValue(l),c=s.getPropertyPriority(l);return`${l}: ${i}${c?" !important":""};`}).join(" ")}function Zj(s,r,l,i){const c=`.${s}:${r}`,d=l.cssText?Jj(l):Yj(l,i);return document.createTextNode(`${c}{${d}}`)}function of(s,r,l,i){const c=window.getComputedStyle(s,l),d=c.getPropertyValue("content");if(d===""||d==="none")return;const h=Vj();try{r.className=`${r.className} ${h}`}catch{return}const p=document.createElement("style");p.appendChild(Zj(h,l,c,i)),r.appendChild(p)}function e1(s,r,l){of(s,r,":before",l),of(s,r,":after",l)}const cf="application/font-woff",uf="image/jpeg",t1={woff:cf,woff2:cf,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:uf,jpeg:uf,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function n1(s){const r=/\.([^./]*?)$/g.exec(s);return r?r[1]:""}function pd(s){const r=n1(s).toLowerCase();return t1[r]||""}function s1(s){return s.split(/,/)[1]}function Uu(s){return s.search(/^(data:)/)!==-1}function r1(s,r){return`data:${r};base64,${s}`}async function Fg(s,r,l){const i=await fetch(s,r);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const c=await i.blob();return new Promise((d,h)=>{const p=new FileReader;p.onerror=h,p.onloadend=()=>{try{d(l({res:i,result:p.result}))}catch(f){h(f)}},p.readAsDataURL(c)})}const ou={};function a1(s,r,l){let i=s.replace(/\?.*/,"");return l&&(i=s),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),r?`[${r}]${i}`:i}async function fd(s,r,l){const i=a1(s,r,l.includeQueryParams);if(ou[i]!=null)return ou[i];l.cacheBust&&(s+=(/\?/.test(s)?"&":"?")+new Date().getTime());let c;try{const d=await Fg(s,l.fetchRequestInit,({res:h,result:p})=>(r||(r=h.headers.get("Content-Type")||""),s1(p)));c=r1(d,r)}catch(d){c=l.imagePlaceholder||"";let h=`Failed to fetch resource: ${s}`;d&&(h=typeof d=="string"?d:d.message),h&&console.warn(h)}return ou[i]=c,c}async function l1(s){const r=s.toDataURL();return r==="data:,"?s.cloneNode(!1):Vi(r)}async function i1(s,r){if(s.currentSrc){const d=document.createElement("canvas"),h=d.getContext("2d");d.width=s.clientWidth,d.height=s.clientHeight,h==null||h.drawImage(s,0,0,d.width,d.height);const p=d.toDataURL();return Vi(p)}const l=s.poster,i=pd(l),c=await fd(l,i,r);return Vi(c)}async function o1(s,r){var l;try{if(!((l=s==null?void 0:s.contentDocument)===null||l===void 0)&&l.body)return await so(s.contentDocument.body,r,!0)}catch{}return s.cloneNode(!1)}async function c1(s,r){return Rt(s,HTMLCanvasElement)?l1(s):Rt(s,HTMLVideoElement)?i1(s,r):Rt(s,HTMLIFrameElement)?o1(s,r):s.cloneNode(Bg(s))}const u1=s=>s.tagName!=null&&s.tagName.toUpperCase()==="SLOT",Bg=s=>s.tagName!=null&&s.tagName.toUpperCase()==="SVG";async function d1(s,r,l){var i,c;if(Bg(r))return r;let d=[];return u1(s)&&s.assignedNodes?d=js(s.assignedNodes()):Rt(s,HTMLIFrameElement)&&(!((i=s.contentDocument)===null||i===void 0)&&i.body)?d=js(s.contentDocument.body.childNodes):d=js(((c=s.shadowRoot)!==null&&c!==void 0?c:s).childNodes),d.length===0||Rt(s,HTMLVideoElement)||await d.reduce((h,p)=>h.then(()=>so(p,l)).then(f=>{f&&r.appendChild(f)}),Promise.resolve()),r}function h1(s,r,l){const i=r.style;if(!i)return;const c=window.getComputedStyle(s);c.cssText?(i.cssText=c.cssText,i.transformOrigin=c.transformOrigin):Ig(l).forEach(d=>{let h=c.getPropertyValue(d);d==="font-size"&&h.endsWith("px")&&(h=`${Math.floor(parseFloat(h.substring(0,h.length-2)))-.1}px`),Rt(s,HTMLIFrameElement)&&d==="display"&&h==="inline"&&(h="block"),d==="d"&&r.getAttribute("d")&&(h=`path(${r.getAttribute("d")})`),i.setProperty(d,h,c.getPropertyPriority(d))})}function m1(s,r){Rt(s,HTMLTextAreaElement)&&(r.innerHTML=s.value),Rt(s,HTMLInputElement)&&r.setAttribute("value",s.value)}function p1(s,r){if(Rt(s,HTMLSelectElement)){const i=Array.from(r.children).find(c=>s.value===c.getAttribute("value"));i&&i.setAttribute("selected","")}}function f1(s,r,l){return Rt(r,Element)&&(h1(s,r,l),e1(s,r,l),m1(s,r),p1(s,r)),r}async function g1(s,r){const l=s.querySelectorAll?s.querySelectorAll("use"):[];if(l.length===0)return s;const i={};for(let d=0;d<l.length;d++){const p=l[d].getAttribute("xlink:href");if(p){const f=s.querySelector(p),v=document.querySelector(p);!f&&v&&!i[p]&&(i[p]=await so(v,r,!0))}}const c=Object.values(i);if(c.length){const d="http://www.w3.org/1999/xhtml",h=document.createElementNS(d,"svg");h.setAttribute("xmlns",d),h.style.position="absolute",h.style.width="0",h.style.height="0",h.style.overflow="hidden",h.style.display="none";const p=document.createElementNS(d,"defs");h.appendChild(p);for(let f=0;f<c.length;f++)p.appendChild(c[f]);s.appendChild(h)}return s}async function so(s,r,l){return!l&&r.filter&&!r.filter(s)?null:Promise.resolve(s).then(i=>c1(i,r)).then(i=>d1(s,i,r)).then(i=>f1(s,i,r)).then(i=>g1(i,r))}const Kg=/url\((['"]?)([^'"]+?)\1\)/g,x1=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,y1=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function v1(s){const r=s.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${r})(['"]?\\))`,"g")}function N1(s){const r=[];return s.replace(Kg,(l,i,c)=>(r.push(c),l)),r.filter(l=>!Uu(l))}async function b1(s,r,l,i,c){try{const d=l?zj(r,l):r,h=pd(r);let p;return c||(p=await fd(d,h,i)),s.replace(v1(r),`$1${p}$3`)}catch{}return s}function j1(s,{preferredFontFormat:r}){return r?s.replace(y1,l=>{for(;;){const[i,,c]=x1.exec(l)||[];if(!c)return"";if(c===r)return`src: ${i};`}}):s}function Ug(s){return s.search(Kg)!==-1}async function zg(s,r,l){if(!Ug(s))return s;const i=j1(s,l);return N1(i).reduce((d,h)=>d.then(p=>b1(p,h,r,l)),Promise.resolve(i))}async function Mr(s,r,l){var i;const c=(i=r.style)===null||i===void 0?void 0:i.getPropertyValue(s);if(c){const d=await zg(c,null,l);return r.style.setProperty(s,d,r.style.getPropertyPriority(s)),!0}return!1}async function w1(s,r){await Mr("background",s,r)||await Mr("background-image",s,r),await Mr("mask",s,r)||await Mr("-webkit-mask",s,r)||await Mr("mask-image",s,r)||await Mr("-webkit-mask-image",s,r)}async function T1(s,r){const l=Rt(s,HTMLImageElement);if(!(l&&!Uu(s.src))&&!(Rt(s,SVGImageElement)&&!Uu(s.href.baseVal)))return;const i=l?s.src:s.href.baseVal,c=await fd(i,pd(i),r);await new Promise((d,h)=>{s.onload=d,s.onerror=r.onImageErrorHandler?(...f)=>{try{d(r.onImageErrorHandler(...f))}catch(v){h(v)}}:h;const p=s;p.decode&&(p.decode=d),p.loading==="lazy"&&(p.loading="eager"),l?(s.srcset="",s.src=c):s.href.baseVal=c})}async function C1(s,r){const i=js(s.childNodes).map(c=>Vg(c,r));await Promise.all(i).then(()=>s)}async function Vg(s,r){Rt(s,Element)&&(await w1(s,r),await T1(s,r),await C1(s,r))}function S1(s,r){const{style:l}=s;r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.width&&(l.width=`${r.width}px`),r.height&&(l.height=`${r.height}px`);const i=r.style;return i!=null&&Object.keys(i).forEach(c=>{l[c]=i[c]}),s}const df={};async function hf(s){let r=df[s];if(r!=null)return r;const i=await(await fetch(s)).text();return r={url:s,cssText:i},df[s]=r,r}async function mf(s,r){let l=s.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,d=(l.match(/url\([^)]+\)/g)||[]).map(async h=>{let p=h.replace(i,"$1");return p.startsWith("https://")||(p=new URL(p,s.url).href),Fg(p,r.fetchRequestInit,({result:f})=>(l=l.replace(h,`url(${f})`),[h,f]))});return Promise.all(d).then(()=>l)}function pf(s){if(s==null)return[];const r=[],l=/(\/\*[\s\S]*?\*\/)/gi;let i=s.replace(l,"");const c=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const f=c.exec(i);if(f===null)break;r.push(f[0])}i=i.replace(c,"");const d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,h="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",p=new RegExp(h,"gi");for(;;){let f=d.exec(i);if(f===null){if(f=p.exec(i),f===null)break;d.lastIndex=p.lastIndex}else p.lastIndex=d.lastIndex;r.push(f[0])}return r}async function k1(s,r){const l=[],i=[];return s.forEach(c=>{if("cssRules"in c)try{js(c.cssRules||[]).forEach((d,h)=>{if(d.type===CSSRule.IMPORT_RULE){let p=h+1;const f=d.href,v=hf(f).then(N=>mf(N,r)).then(N=>pf(N).forEach(y=>{try{c.insertRule(y,y.startsWith("@import")?p+=1:c.cssRules.length)}catch(j){console.error("Error inserting rule from remote css",{rule:y,error:j})}})).catch(N=>{console.error("Error loading remote css",N.toString())});i.push(v)}})}catch(d){const h=s.find(p=>p.href==null)||document.styleSheets[0];c.href!=null&&i.push(hf(c.href).then(p=>mf(p,r)).then(p=>pf(p).forEach(f=>{h.insertRule(f,h.cssRules.length)})).catch(p=>{console.error("Error loading remote stylesheet",p)})),console.error("Error inlining remote css file",d)}}),Promise.all(i).then(()=>(s.forEach(c=>{if("cssRules"in c)try{js(c.cssRules||[]).forEach(d=>{l.push(d)})}catch(d){console.error(`Error while reading CSS rules from ${c.href}`,d)}}),l))}function E1(s){return s.filter(r=>r.type===CSSRule.FONT_FACE_RULE).filter(r=>Ug(r.style.getPropertyValue("src")))}async function P1(s,r){if(s.ownerDocument==null)throw new Error("Provided element is not within a Document");const l=js(s.ownerDocument.styleSheets),i=await k1(l,r);return E1(i)}function $g(s){return s.trim().replace(/["']/g,"")}function L1(s){const r=new Set;function l(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(d=>{r.add($g(d))}),Array.from(i.children).forEach(d=>{d instanceof HTMLElement&&l(d)})}return l(s),r}async function _1(s,r){const l=await P1(s,r),i=L1(s);return(await Promise.all(l.filter(d=>i.has($g(d.style.fontFamily))).map(d=>{const h=d.parentStyleSheet?d.parentStyleSheet.href:null;return zg(d.cssText,h,r)}))).join(`
`)}async function D1(s,r){const l=r.fontEmbedCSS!=null?r.fontEmbedCSS:r.skipFonts?null:await _1(s,r);if(l){const i=document.createElement("style"),c=document.createTextNode(l);i.appendChild(c),s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i)}}async function R1(s,r={}){const{width:l,height:i}=Hg(s,r),c=await so(s,r,!0);return await D1(c,r),await Vg(c,r),S1(c,r),await Xj(c,l,i)}async function O1(s,r={}){const{width:l,height:i}=Hg(s,r),c=await R1(s,r),d=await Vi(c),h=document.createElement("canvas"),p=h.getContext("2d"),f=r.pixelRatio||Qj(),v=r.canvasWidth||l,N=r.canvasHeight||i;return h.width=v*f,h.height=N*f,r.skipAutoScale||Gj(h),h.style.width=`${v}`,h.style.height=`${N}`,r.backgroundColor&&(p.fillStyle=r.backgroundColor,p.fillRect(0,0,h.width,h.height)),p.drawImage(d,0,0,h.width,h.height),h}async function M1(s,r={}){return(await O1(s,r)).toDataURL()}const qa=s=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(s),qg=b.forwardRef(({data:s},r)=>{const l=s.cacKhoanLuong.filter(c=>c.loai==="THU_NHAP"),i=s.cacKhoanLuong.filter(c=>c.loai==="KHAU_TRU");return e.jsxs("div",{ref:r,className:"bg-white rounded-xl shadow-lg overflow-hidden max-w-2xl mx-auto",style:{width:"700px",fontFamily:"system-ui, -apple-system, sans-serif"},children:[e.jsxs("div",{className:"text-white text-center py-8 px-6",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[e.jsx("h1",{className:"text-3xl font-bold mb-1",children:"PHIU LNG"}),e.jsxs("p",{className:"text-lg opacity-90",children:["Thng ",s.thang," / ",s.nam]})]}),e.jsxs("div",{className:"text-center py-4 px-6 border-b-2 border-dashed border-gray-200 bg-gray-50",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"CNG TY TNHH ABC"}),e.jsx("p",{className:"text-sm text-gray-600",children:"123 ng ABC, Qun 1, TP.HCM"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-6 bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"H v tn"}),e.jsx("p",{className:"font-semibold text-gray-800",children:s.hoTen})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"M nhn vin"}),e.jsx("p",{className:"font-semibold text-gray-800",children:s.maNhanVien})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Phng ban"}),e.jsx("p",{className:"font-semibold text-gray-800",children:s.phongBan})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Chc v"}),e.jsx("p",{className:"font-semibold text-gray-800",children:s.chucVu||"Nhn vin"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Ngy cng thc t"}),e.jsxs("p",{className:"font-semibold text-gray-800",children:[e.jsx("span",{className:"text-blue-600",children:s.ngayCongThucTe})," / ",s.ngayCongLyThuyet," ngy"]})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b-2 border-green-500 inline-block",children:"THU NHP"}),e.jsx("div",{className:"space-y-3",children:l.map((c,d)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:c.tenKhoan}),e.jsx("span",{className:"font-medium text-green-600",children:qa(c.soTien)})]},d))})]}),e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b-2 border-red-500 inline-block",children:"KHU TR"}),e.jsx("div",{className:"space-y-3",children:i.length>0?i.map((c,d)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:c.tenKhoan}),e.jsxs("span",{className:"font-medium text-red-600",children:["-",qa(c.soTien)]})]},d)):e.jsx("p",{className:"text-gray-400 italic",children:"Khng c khon khu tr"})})]}),e.jsxs("div",{className:"p-6 text-white",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"opacity-90",children:"Tng thu nhp:"}),e.jsx("span",{className:"font-semibold",children:qa(s.tongThuNhap)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"opacity-90",children:"Tng khu tr:"}),e.jsxs("span",{className:"font-semibold",children:["-",qa(s.tongKhauTru)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 mt-4 border-t border-white/30",children:[e.jsx("span",{className:"text-xl font-bold",children:"THC LNH:"}),e.jsx("span",{className:"text-2xl font-bold",children:qa(s.thucLinh)})]})]}),e.jsxs("div",{className:"text-center py-4 px-6 text-sm text-gray-500 border-t border-gray-100",children:[e.jsx("p",{children:"Phiu lng c to t ng bi h thng tnh lng."}),e.jsx("p",{children:"Nu c thc mc, vui lng lin h phng Nhn s."})]})]})});qg.displayName="PhieuLuong";function A1({isOpen:s,onClose:r,bangLuongId:l,nhanVienId:i,hoTen:c}){const d=b.useRef(null),[h,p]=b.useState(!1),{data:f,isLoading:v,error:N}=Xe({queryKey:["phieu-luong",l,i],queryFn:()=>Ku.layPhieuLuong(l,i),enabled:s}),y=Ae({mutationFn:()=>Ku.guiPhieuLuong(l,i),onSuccess:w=>{w.success?ie.success(w.message):ie.error(w.message)},onError:()=>{ie.error("C li khi gi email")}}),j=b.useCallback(async()=>{if(!(!d.current||!f)){p(!0);try{const w=await M1(d.current,{cacheBust:!0,pixelRatio:2,backgroundColor:"#ffffff"}),D=document.createElement("a");D.download=`phieu-luong-${f.maNhanVien}-thang-${f.thang}-${f.nam}.png`,D.href=w,D.click(),ie.success(" xut phiu lng thnh cng!")}catch(w){console.error("Export error:",w),ie.error("C li khi xut nh")}finally{p(!1)}}},[f]),S=b.useCallback(()=>{if(!(f!=null&&f.email)){ie.error("Nhn vin khng c email");return}y.mutate()},[f==null?void 0:f.email,y]);return s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Phiu lng - ",c]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:j,disabled:h||v,className:"btn btn-secondary flex items-center gap-2",children:[h?e.jsx(Ft,{size:18,className:"animate-spin"}):e.jsx($N,{size:18}),"Xut nh"]}),e.jsxs("button",{onClick:S,disabled:y.isPending||v||!(f!=null&&f.email),className:"btn btn-primary flex items-center gap-2",title:f!=null&&f.email?"Gi phiu lng qua email":"Nhn vin khng c email",children:[y.isPending?e.jsx(Ft,{size:18,className:"animate-spin"}):e.jsx(lg,{size:18}),"Gi email"]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 rounded-lg",children:e.jsx(nr,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-100",children:v?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ft,{size:40,className:"animate-spin text-blue-500"})}):N?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-red-500",children:"C li khi ti phiu lng"})}):f?e.jsx(qg,{ref:d,data:f}):null}),f&&e.jsxs("div",{className:"p-3 bg-gray-50 border-t text-sm text-gray-600 flex items-center justify-between",children:[e.jsxs("span",{children:["Email: ",f.email||e.jsx("span",{className:"italic text-gray-400",children:"Cha c"})]}),e.jsxs("span",{children:["Thc lnh: ",e.jsx("strong",{className:"text-green-600",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(f.thucLinh)})]})]})]})]}):null}function I1({ngayCong:s,onClose:r,onSave:l,isLoading:i}){var N,y,j;const[c,d]=b.useState(((N=s==null?void 0:s.ngayCongDieuChinh)==null?void 0:N.toString())||""),[h,p]=b.useState((s==null?void 0:s.ghiChu)||"");if(!s)return null;const f=s.ngayCongDieuChinh?Number(s.ngayCongDieuChinh):Number(s.soCongThucTe)+Number(s.soNgayNghiPhep),v=async S=>{if(S.preventDefault(),!c)return;const w=parseFloat(c);if(isNaN(w)||w<0){alert("S ngy cng khng hp l");return}await l(w,h||void 0)};return e.jsx("div",{className:"modal-overlay",onClick:r,children:e.jsxs("div",{className:"modal-content max-w-lg",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wi,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-semibold",children:"iu chnh ngy cng"})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(nr,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"modal-body space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Nhn vin"}),e.jsx("div",{className:"font-semibold text-gray-900",children:((y=s.nhanVien)==null?void 0:y.hoTen)||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((j=s.nhanVien)==null?void 0:j.maNhanVien)||"N/A"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Ngy cng l thuyt"}),e.jsx("div",{className:"text-xl font-bold text-blue-700",children:Number(s.ngayCongLyThuyet).toFixed(1)})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"S cng thc t"}),e.jsx("div",{className:"text-xl font-bold text-green-700",children:Number(s.soCongThucTe).toFixed(1)})]}),e.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Ngh c php"}),e.jsx("div",{className:"text-xl font-bold text-yellow-700",children:Number(s.soNgayNghiPhep).toFixed(1)})]}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Ngh khng php"}),e.jsx("div",{className:"text-xl font-bold text-red-700",children:Number(s.soNgayNghiKhongPhep).toFixed(1)})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border-2 border-purple-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Ngy cng hin ti (dng  tnh lng)"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-700",children:[f.toFixed(1)," ngy"]}),s.ngayCongDieuChinh&&e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"  iu chnh th cng"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-semibold",children:"iu chnh ngy cng mi"})}),e.jsx("input",{type:"number",step:"0.5",min:"0",max:Number(s.ngayCongLyThuyet),className:"input input-bordered w-full",value:c,onChange:S=>d(S.target.value),placeholder:"Nhp s ngy cng",required:!0}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Nhp s ngy cng mi  iu chnh th cng"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-semibold",children:"Ghi ch"})}),e.jsx("textarea",{className:"textarea textarea-bordered w-full",rows:3,value:h,onChange:S=>p(S.target.value),placeholder:"L do iu chnh..."})]}),e.jsxs("div",{className:"flex items-start gap-2 bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[e.jsx(sd,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Lu :"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"iu chnh ngy cng s nh hng n lng c bn"}),e.jsx("li",{children:"Nn c l do r rng trong phn ghi ch"}),e.jsx("li",{children:"C th xa iu chnh  tr v tnh t ng"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-ghost",children:"Hy"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i||!c,children:i?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4"}),"Lu iu chnh"]})})]})]})]})})}function H1(){const{id:s}=td(),r=Cs(),l=Nn(),[i,c]=b.useState(null),[d,h]=b.useState(new Map),[p,f]=b.useState(!1),[v,N]=b.useState(!1),[y,j]=b.useState(""),[S,w]=b.useState(null),[D,E]=b.useState(null),{data:T,isLoading:_}=Xe({queryKey:["bang-luong",s],queryFn:()=>an.layTheoId(Number(s)),enabled:!!s}),{data:P}=Xe({queryKey:["ngay-cong",s],queryFn:()=>af.layTatCa(Number(s)),enabled:!!s}),{data:C}=Xe({queryKey:["bang-luong-lich-su",s],queryFn:()=>an.layLichSu(Number(s)),enabled:!!s&&p}),H=Ae({mutationFn:an.capNhatNhieuChiTiet,onSuccess:()=>{l.invalidateQueries({queryKey:["bang-luong",s]}),h(new Map),ie.success("Lu thay i thnh cng!")},onError:()=>{ie.error("C li khi lu")}}),W=Ae({mutationFn:({nguoiChot:g})=>an.chotBangLuong(Number(s),{nguoiChot:g}),onSuccess:()=>{l.invalidateQueries({queryKey:["bang-luong",s]}),ie.success("Cht bng lng thnh cng!"),N(!1)},onError:()=>{ie.error("C li khi cht")}}),M=Ae({mutationFn:()=>an.moKhoa(Number(s)),onSuccess:()=>{l.invalidateQueries({queryKey:["bang-luong",s]}),ie.success("M kha thnh cng!")}}),F=Ae({mutationFn:()=>Ku.guiTatCa(Number(s)),onSuccess:g=>{g.success>0&&ie.success(` gi ${g.success} phiu lng thnh cng!`),g.failed>0&&ie.error(`${g.failed} phiu lng gi tht bi`)},onError:()=>{ie.error("C li khi gi phiu lng")}}),se=Ae({mutationFn:({nhanVienId:g,ngayCongMoi:Q,ghiChu:A})=>af.dieuChinh(Number(s),g,{ngayCongMoi:Q,ghiChu:A}),onSuccess:()=>{l.invalidateQueries({queryKey:["ngay-cong",s]}),l.invalidateQueries({queryKey:["bang-luong",s]}),ie.success("Cp nht ngy cng thnh cng!"),E(null)},onError:()=>{ie.error("C li khi cp nht ngy cng")}}),U=Ae({mutationFn:()=>an.tinhLaiLuong(Number(s)),onSuccess:g=>{l.invalidateQueries({queryKey:["bang-luong",s]}),ie.success(g.message)},onError:()=>{ie.error("C li khi tnh li lng")}}),Y=g=>{const Q=P==null?void 0:P.find(A=>A.nhanVienId===g);if(Q)E(Q);else{const A=T==null?void 0:T.danhSachNhanVien.find(X=>X.nhanVienId===g);if(A&&T){const X={id:0,bangLuongId:T.id,nhanVienId:g,ngayCongLyThuyet:T.ngayCongLyThuyet,soCongThucTe:A.ngayCongThucTe,soNgayNghiPhep:0,soNgayNghiKhongPhep:0,ngayCongDieuChinh:null,ghiChu:null,nhanVien:{id:g,maNhanVien:A.maNhanVien,hoTen:A.hoTen}};E(X)}else ie.error("Khng tm thy thng tin nhn vin")}},pe=async(g,Q)=>{D&&await se.mutateAsync({nhanVienId:D.nhanVienId,ngayCongMoi:g,ghiChu:Q})},J=(g,Q,A)=>{(T==null?void 0:T.trangThai)==="NHAP"&&c({nhanVienId:g,khoanLuongId:Q,value:A.toString()})},de=g=>{i&&c({...i,value:g})},$=()=>{var fe;if(!i||!T)return;const g=Ij(i.value),Q=`${i.nhanVienId}-${i.khoanLuongId}`,A=T.danhSachNhanVien.find(xe=>xe.nhanVienId===i.nhanVienId),X=((fe=A==null?void 0:A.cacKhoanLuong.find(xe=>xe.khoanLuongId===i.khoanLuongId))==null?void 0:fe.soTien)||0;if(g!==X){const xe=new Map(d);xe.set(Q,{nhanVienId:i.nhanVienId,khoanLuongId:i.khoanLuongId,soTien:g}),h(xe)}c(null)},oe=g=>{g.key==="Enter"?$():g.key==="Escape"&&c(null)},K=()=>{if(d.size===0){ie("Khng c thay i  lu");return}const g=Array.from(d.values()).map(Q=>({bangLuongId:Number(s),...Q}));H.mutate(g)},G=async()=>{try{const g=await Ri.export(Number(s));Bj(g.data,`bang-luong-${s}.xlsx`),ie.success("Xut file thnh cng!")}catch{ie.error("C li khi xut file")}},le=b.useCallback((g,Q,A)=>{const X=`${g}-${Q}`,fe=d.get(X);return fe?fe.soTien:A},[d]),re=b.useCallback(g=>{let Q=0,A=0;for(const X of g.cacKhoanLuong){const fe=le(g.nhanVienId,X.khoanLuongId,X.soTien);X.loai==="THU_NHAP"?Q+=fe:A+=fe}return d.forEach(X=>{if(X.nhanVienId===g.nhanVienId&&!g.cacKhoanLuong.find(xe=>xe.khoanLuongId===X.khoanLuongId)){const xe=T==null?void 0:T.danhSachKhoanLuong.find(Se=>Se.id===X.khoanLuongId);(xe==null?void 0:xe.loai)==="THU_NHAP"?Q+=X.soTien:A+=X.soTien}}),{tongThuNhap:Q,tongKhauTru:A,thucLinh:Q-A}},[le,d,T==null?void 0:T.danhSachKhoanLuong]);if(_)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"ang ti..."})});if(!T)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"Khng tm thy bng lng"}),e.jsx("button",{onClick:()=>r("/bang-luong"),className:"btn btn-primary mt-4",children:"Quay li"})]});const R=T.trangThai==="NHAP";return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/bang-luong"),className:"p-2 hover:bg-gray-200 rounded-lg",children:e.jsx(rd,{size:20})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:["Bng lng ",T.phongBan.tenPhongBan]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Thng ",T.thang,"/",T.nam]})]}),e.jsxs("span",{className:`badge ${T.trangThai==="NHAP"?"badge-nhap":T.trangThai==="DA_CHOT"?"badge-da-chot":"badge-khoa"}`,children:[T.trangThai==="NHAP"&&"ang nhp",T.trangThai==="DA_CHOT"&&" cht",T.trangThai==="KHOA"&&" kha"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[d.size>0&&e.jsxs("span",{className:"text-sm text-orange-600 mr-2",children:[d.size," thay i cha lu"]}),R&&d.size>0&&e.jsxs("button",{onClick:K,disabled:H.isPending,className:"btn btn-success",children:[e.jsx(Xr,{size:18}),"Lu (",d.size,")"]}),e.jsxs("button",{onClick:G,className:"btn btn-secondary",children:[e.jsx(BN,{size:18}),"Xut Excel"]}),e.jsxs("button",{onClick:()=>f(!p),className:"btn btn-secondary",children:[e.jsx(ld,{size:18}),"Lch s"]}),e.jsxs("button",{onClick:()=>F.mutate(),disabled:F.isPending,className:"btn btn-secondary",title:"Gi phiu lng cho tt c nhn vin qua email",children:[F.isPending?e.jsx(Ft,{size:18,className:"animate-spin"}):e.jsx(lg,{size:18}),"Gi tt c"]}),R&&e.jsxs("button",{onClick:()=>U.mutate(),disabled:U.isPending,className:"btn btn-secondary",title:"Tnh li lng theo ngy cng",children:[U.isPending?e.jsx(Ft,{size:18,className:"animate-spin"}):e.jsx(Ki,{size:18}),"Tnh li lng"]}),R&&e.jsxs("button",{onClick:()=>N(!0),className:"btn btn-primary",children:[e.jsx(ag,{size:18}),"Cht"]}),T.trangThai==="DA_CHOT"&&e.jsxs("button",{onClick:()=>M.mutate(),className:"btn btn-secondary",children:[e.jsx(cg,{size:18}),"M kha"]})]})]}),e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"excel-table w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sticky left-0 z-20 bg-gray-200",children:"STT"}),e.jsx("th",{className:"sticky left-10 z-20 bg-gray-200 min-w-[80px]",children:"M NV"}),e.jsx("th",{className:"sticky left-[120px] z-20 bg-gray-200 min-w-[180px]",children:"H tn"}),e.jsx("th",{className:"min-w-[120px]",children:"Chc v"}),e.jsx("th",{className:"min-w-[80px] text-center bg-orange-100",children:"Ngy cng"}),e.jsx("th",{className:"min-w-[100px] text-center bg-orange-100",children:"NC iu chnh"}),T.danhSachKhoanLuong.map(g=>e.jsx("th",{className:"min-w-[120px] text-right",children:g.tenKhoan},g.id)),e.jsx("th",{className:"min-w-[130px] text-right bg-blue-100",children:"Tng thu nhp"}),e.jsx("th",{className:"min-w-[100px] text-right bg-red-100",children:"Khu tr"}),e.jsx("th",{className:"min-w-[130px] text-right bg-green-100",children:"Thc lnh"}),e.jsx("th",{className:"min-w-[80px] text-center bg-purple-100",children:"Phiu lng"})]})}),e.jsx("tbody",{children:T.danhSachNhanVien.map((g,Q)=>{const A=re(g),X=P==null?void 0:P.find(xe=>xe.nhanVienId===g.nhanVienId),fe=X!=null&&X.ngayCongDieuChinh?Number(X.ngayCongDieuChinh):X?Number(X.soCongThucTe)+Number(X.soNgayNghiPhep):g.ngayCongThucTe;return e.jsxs("tr",{children:[e.jsx("td",{className:"sticky left-0 bg-white",children:Q+1}),e.jsx("td",{className:"sticky left-10 bg-white font-medium",children:g.maNhanVien}),e.jsx("td",{className:"sticky left-[120px] bg-white",children:g.hoTen}),e.jsx("td",{children:g.chucVu||"-"}),e.jsxs("td",{className:"text-center bg-orange-50 relative group",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsxs("span",{className:`font-medium ${X!=null&&X.ngayCongDieuChinh?"text-orange-600":""}`,children:[fe.toFixed(1),"/",T.ngayCongLyThuyet]}),R&&e.jsx("button",{onClick:()=>Y(g.nhanVienId),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-orange-200 rounded",title:"Chi tit v iu chnh",children:e.jsx(ig,{className:"w-3 h-3 text-orange-600"})}),(X==null?void 0:X.ngayCongDieuChinh)&&e.jsx("span",{className:"text-xs text-orange-600",title:" iu chnh th cng",children:""})]}),X&&e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[e.jsxs("span",{className:"text-green-600",children:[Number(X.soNgayNghiPhep).toFixed(1),"P"]}),Number(X.soNgayNghiKhongPhep)>0&&e.jsxs("span",{className:"text-red-600 ml-1",children:[Number(X.soNgayNghiKhongPhep).toFixed(1),"KP"]})]})]}),e.jsx("td",{className:`text-center bg-orange-50 ${R?"cursor-pointer hover:bg-orange-100":""}`,onClick:()=>R&&Y(g.nhanVienId),title:R?"Click  iu chnh ngy cng":"",children:X!=null&&X.ngayCongDieuChinh?e.jsx("span",{className:"font-medium text-orange-600",children:Number(X.ngayCongDieuChinh).toFixed(1)}):e.jsx("span",{className:R?"text-blue-500 hover:underline":"text-gray-400",children:R?"Nhp":"-"})}),T.danhSachKhoanLuong.map(xe=>{const Se=g.cacKhoanLuong.find(te=>te.khoanLuongId===xe.id),Re=(Se==null?void 0:Se.soTien)||0,Oe=le(g.nhanVienId,xe.id,Re),Un=(i==null?void 0:i.nhanVienId)===g.nhanVienId&&(i==null?void 0:i.khoanLuongId)===xe.id,ar=d.has(`${g.nhanVienId}-${xe.id}`);return e.jsx("td",{className:`number ${R?"editable":""} ${ar?"bg-yellow-100":""}`,onClick:()=>J(g.nhanVienId,xe.id,Oe),children:Un?e.jsx("input",{type:"text",value:i.value,onChange:te=>de(te.target.value),onBlur:$,onKeyDown:oe,className:"cell-input",autoFocus:!0}):ze(Oe)},xe.id)}),e.jsx("td",{className:"number font-semibold bg-blue-50",children:ze(A.tongThuNhap)}),e.jsx("td",{className:"number text-red-600 bg-red-50",children:ze(A.tongKhauTru)}),e.jsx("td",{className:"number font-bold text-green-600 bg-green-50",children:ze(A.thucLinh)}),e.jsx("td",{className:"text-center bg-purple-50",children:e.jsx("button",{onClick:()=>w({id:g.nhanVienId,hoTen:g.hoTen}),className:"p-1.5 hover:bg-purple-200 rounded-lg text-purple-600 transition-colors",title:"Xem phiu lng",children:e.jsx(ad,{size:18})})})]},g.nhanVienId)})}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"total-row",children:[e.jsx("td",{colSpan:4,className:"text-right font-bold",children:"TNG CNG"}),e.jsx("td",{className:"bg-orange-100"}),e.jsx("td",{className:"bg-orange-100"}),T.danhSachKhoanLuong.map(g=>{const Q=T.danhSachNhanVien.reduce((A,X)=>{const fe=X.cacKhoanLuong.find(xe=>xe.khoanLuongId===g.id);return A+le(X.nhanVienId,g.id,(fe==null?void 0:fe.soTien)||0)},0);return e.jsx("td",{className:"number font-bold",children:ze(Q)},g.id)}),e.jsx("td",{className:"number font-bold bg-blue-100",children:ze(T.danhSachNhanVien.reduce((g,Q)=>g+re(Q).tongThuNhap,0))}),e.jsx("td",{className:"number font-bold text-red-600 bg-red-100",children:ze(T.danhSachNhanVien.reduce((g,Q)=>g+re(Q).tongKhauTru,0))}),e.jsx("td",{className:"number font-bold text-green-600 bg-green-100",children:ze(T.danhSachNhanVien.reduce((g,Q)=>g+re(Q).thucLinh,0))}),e.jsx("td",{className:"bg-purple-100"})]})})]})})}),p&&e.jsxs("div",{className:"card mt-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Lch s chnh sa"}),C&&C.length>0?e.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Thi gian"}),e.jsx("th",{className:"text-left py-2",children:"Nhn vin"}),e.jsx("th",{className:"text-left py-2",children:"Khon"}),e.jsx("th",{className:"text-right py-2",children:"C"}),e.jsx("th",{className:"text-right py-2",children:"Mi"}),e.jsx("th",{className:"text-left py-2",children:"Ngi sa"})]})}),e.jsx("tbody",{children:C.map(g=>{var Q,A;return e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2",children:new Date(g.ngayThayDoi).toLocaleString("vi-VN")}),e.jsx("td",{className:"py-2",children:(Q=g.nhanVien)==null?void 0:Q.hoTen}),e.jsx("td",{className:"py-2",children:(A=g.khoanLuong)==null?void 0:A.tenKhoan}),e.jsx("td",{className:"py-2 text-right",children:ze(g.giaTriCu)}),e.jsx("td",{className:"py-2 text-right font-medium",children:ze(g.giaTriMoi)}),e.jsx("td",{className:"py-2",children:g.nguoiThayDoi})]},g.id)})})]})}):e.jsx("p",{className:"text-gray-500",children:"Cha c lch s chnh sa"})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Cht bng lng"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Sau khi cht, bng lng s khng th chnh sa. Bn c chc chn?"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ngi cht *"}),e.jsx("input",{type:"text",value:y,onChange:g=>j(g.target.value),className:"w-full border rounded-lg px-3 py-2",placeholder:"Nhp tn ngi cht"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs("button",{onClick:()=>N(!1),className:"btn btn-secondary",children:[e.jsx(nr,{size:18}),"Hy"]}),e.jsxs("button",{onClick:()=>W.mutate({nguoiChot:y}),disabled:!y||W.isPending,className:"btn btn-primary",children:[e.jsx(Xi,{size:18}),"Xc nhn cht"]})]})]})}),S&&e.jsx(A1,{isOpen:!!S,onClose:()=>w(null),bangLuongId:Number(s),nhanVienId:S.id,hoTen:S.hoTen}),D&&e.jsx(I1,{ngayCong:D,onClose:()=>E(null),onSave:pe,isLoading:se.isPending})]})}const ff={DANG_LAM:{label:"ang lm",color:"bg-green-100 text-green-700"},NGHI_VIEC:{label:" ngh",color:"bg-red-100 text-red-700"},TAM_NGHI:{label:"Tm ngh",color:"bg-yellow-100 text-yellow-700"}};function F1(){const s=Nn(),[r,l]=b.useState(!1),[i,c]=b.useState(null),[d,h]=b.useState(),[p,f]=b.useState(""),[v,N]=b.useState(""),[y,j]=b.useState({maNhanVien:"",hoTen:"",email:"",soDienThoai:"",phongBanId:0,chucVu:"",luongCoBan:0,trangThai:"DANG_LAM"}),{data:S,isLoading:w}=Xe({queryKey:["nhan-vien",d,p,v],queryFn:()=>Fn.layTatCa({phongBanId:d,tuKhoa:v,trangThai:p||void 0})}),D=Array.isArray(S)?S:(S==null?void 0:S.data)||[],{data:E}=Xe({queryKey:["phong-ban"],queryFn:ln.layTatCa}),T=Ae({mutationFn:Fn.taoMoi,onSuccess:()=>{s.invalidateQueries({queryKey:["nhan-vien"]}),ie.success("To nhn vin thnh cng!"),C()},onError:U=>{var Y,pe;ie.error(((pe=(Y=U.response)==null?void 0:Y.data)==null?void 0:pe.message)||"C li xy ra")}}),_=Ae({mutationFn:({id:U,data:Y})=>Fn.capNhat(U,Y),onSuccess:()=>{s.invalidateQueries({queryKey:["nhan-vien"]}),ie.success("Cp nht thnh cng!"),C()},onError:U=>{var Y,pe;ie.error(((pe=(Y=U.response)==null?void 0:Y.data)==null?void 0:pe.message)||"C li xy ra")}}),P=Ae({mutationFn:Fn.xoa,onSuccess:()=>{s.invalidateQueries({queryKey:["nhan-vien"]}),ie.success("Xa nhn vin thnh cng!")},onError:U=>{var Y,pe;ie.error(((pe=(Y=U.response)==null?void 0:Y.data)==null?void 0:pe.message)||"C li xy ra")}}),C=()=>{l(!1),c(null),j({maNhanVien:"",hoTen:"",email:"",soDienThoai:"",phongBanId:0,chucVu:"",luongCoBan:0,trangThai:"DANG_LAM"})},H=async()=>{try{const{maNhanVien:U}=await Fn.layMaTuDong();j(Y=>({...Y,maNhanVien:U})),l(!0)}catch{l(!0)}},W=U=>{c(U),j({maNhanVien:U.maNhanVien,hoTen:U.hoTen,email:U.email||"",soDienThoai:U.soDienThoai||"",phongBanId:U.phongBanId,chucVu:U.chucVu||"",luongCoBan:Number(U.luongCoBan),trangThai:U.trangThai}),l(!0)},M=U=>{confirm(`Khi phc nhn vin "${U.hoTen}" v trng thi ang lm?`)&&_.mutate({id:U.id,data:{trangThai:"DANG_LAM"}})},F=()=>{if(!y.maNhanVien||!y.hoTen||!y.phongBanId){ie.error("Vui lng in y  thng tin bt buc");return}i?_.mutate({id:i.id,data:y}):T.mutate(y)},se=U=>{confirm(`Bn c chc mun xa nhn vin "${U.hoTen}"?`)&&P.mutate(U.id)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Yr,{size:28}),"Qun l Nhn vin"]}),e.jsxs("button",{onClick:H,className:"btn btn-primary",children:[e.jsx(ws,{size:20}),"Thm nhn vin"]})]}),e.jsx("div",{className:"card mb-6",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(od,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:v,onChange:U=>N(U.target.value),placeholder:"Tm kim theo tn, m NV, email...",className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]})}),e.jsx("div",{children:e.jsxs("select",{value:d||"",onChange:U=>h(U.target.value?Number(U.target.value):void 0),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Tt c phng ban"}),E==null?void 0:E.map(U=>e.jsx("option",{value:U.id,children:U.tenPhongBan},U.id))]})}),e.jsx("div",{children:e.jsxs("select",{value:p,onChange:U=>f(U.target.value),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Tt c trng thi"}),e.jsx("option",{value:"DANG_LAM",children:"ang lm"}),e.jsx("option",{value:"NGHI_VIEC",children:" ngh"}),e.jsx("option",{value:"TAM_NGHI",children:"Tm ngh"})]})})]})}),e.jsx("div",{className:"card",children:w?e.jsx("p",{className:"text-center py-8 text-gray-500",children:"ang ti..."}):D&&D.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"M NV"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"H tn"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Phng ban"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Chc v"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Email"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-600",children:"Lng CB"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Trng thi"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Thao tc"})]})}),e.jsx("tbody",{children:D.map(U=>{var Y,pe,J;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:U.maNhanVien}),e.jsx("td",{className:"py-3 px-4",children:U.hoTen}),e.jsx("td",{className:"py-3 px-4",children:(Y=U.phongBan)==null?void 0:Y.tenPhongBan}),e.jsx("td",{className:"py-3 px-4",children:U.chucVu||"-"}),e.jsx("td",{className:"py-3 px-4",children:U.email||"-"}),e.jsx("td",{className:"py-3 px-4 text-right currency",children:ze(U.luongCoBan)}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${((pe=ff[U.trangThai])==null?void 0:pe.color)||"bg-gray-100"}`,children:((J=ff[U.trangThai])==null?void 0:J.label)||U.trangThai})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs(Gt,{to:`/nhan-vien/${U.id}`,className:"px-2 py-1 text-xs bg-green-100 text-green-700 hover:bg-green-200 rounded flex items-center gap-1",title:"Xem chi tit / Ph cp",children:[e.jsx(Bi,{size:14}),"Ph cp"]}),e.jsx("button",{onClick:()=>W(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Sa",children:e.jsx(nl,{size:18})}),U.trangThai==="NGHI_VIEC"?e.jsx("button",{onClick:()=>M(U),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Khi phc",children:e.jsx(id,{size:18})}):e.jsx("button",{onClick:()=>se(U),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Cho ngh vic",children:e.jsx(tr,{size:18})})]})})]},U.id)})})]})}):e.jsx("p",{className:"text-center py-8 text-gray-500",children:"Cha c nhn vin no"})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:i?"Sa nhn vin":"Thm nhn vin mi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"M nhn vin *"}),e.jsx("input",{type:"text",value:y.maNhanVien,onChange:U=>j({...y,maNhanVien:U.target.value}),className:"w-full border rounded-lg px-3 py-2",disabled:!!i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"H tn *"}),e.jsx("input",{type:"text",value:y.hoTen,onChange:U=>j({...y,hoTen:U.target.value}),className:"w-full border rounded-lg px-3 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phng ban *"}),e.jsxs("select",{value:y.phongBanId,onChange:U=>j({...y,phongBanId:Number(U.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:0,children:"-- Chn phng ban --"}),E==null?void 0:E.map(U=>e.jsx("option",{value:U.id,children:U.tenPhongBan},U.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Chc v"}),e.jsx("input",{type:"text",value:y.chucVu,onChange:U=>j({...y,chucVu:U.target.value}),className:"w-full border rounded-lg px-3 py-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{type:"email",value:y.email,onChange:U=>j({...y,email:U.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"S in thoi"}),e.jsx("input",{type:"text",value:y.soDienThoai,onChange:U=>j({...y,soDienThoai:U.target.value}),className:"w-full border rounded-lg px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Lng c bn"}),e.jsx("input",{type:"number",value:y.luongCoBan,onChange:U=>j({...y,luongCoBan:Number(U.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),i&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Trng thi"}),e.jsxs("select",{value:y.trangThai,onChange:U=>j({...y,trangThai:U.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"DANG_LAM",children:"ang lm"}),e.jsx("option",{value:"NGHI_VIEC",children:" ngh"}),e.jsx("option",{value:"TAM_NGHI",children:"Tm ngh"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:C,className:"btn btn-secondary",children:"Hy"}),e.jsx("button",{onClick:F,disabled:T.isPending||_.isPending,className:"btn btn-primary",children:T.isPending||_.isPending?"ang lu...":"Lu"})]})]})})]})}function B1(){var R;const{id:s}=td(),r=parseInt(s),l=Nn(),[i,c]=b.useState("thong-tin"),[d,h]=b.useState(!1),[p,f]=b.useState(null),[v,N]=b.useState(null),[y,j]=b.useState({khoanLuongId:0,soTien:0,tuNgay:new Date().toISOString().split("T")[0],denNgay:"",ghiChu:""}),[S,w]=b.useState({soTienMoi:0,tuNgay:new Date().toISOString().split("T")[0],ghiChu:""}),[D,E]=b.useState({denNgay:new Date().toISOString().split("T")[0]}),{data:T,isLoading:_}=Xe({queryKey:["nhan-vien",r],queryFn:()=>Fn.layTheoId(r)}),{data:P,isLoading:C}=Xe({queryKey:["phu-cap",r],queryFn:()=>Rr.layTheoNhanVien(r)}),{data:H}=Xe({queryKey:["khoan-luong","THU_NHAP"],queryFn:()=>Wt.layTatCa("THU_NHAP")}),W=Ae({mutationFn:g=>Rr.taoPhuCap(g),onSuccess:()=>{ie.success("Thm ph cp thnh cng"),l.invalidateQueries({queryKey:["phu-cap",r]}),h(!1),Y()},onError:g=>{var Q,A;ie.error(((A=(Q=g.response)==null?void 0:Q.data)==null?void 0:A.message)||"C li xy ra")}}),M=Ae({mutationFn:({id:g,data:Q})=>Rr.tang(g,Q),onSuccess:()=>{ie.success("iu chnh ph cp thnh cng"),l.invalidateQueries({queryKey:["phu-cap",r]}),f(null)},onError:g=>{var Q,A;ie.error(((A=(Q=g.response)==null?void 0:Q.data)==null?void 0:A.message)||"C li xy ra")}}),F=Ae({mutationFn:({id:g,denNgay:Q})=>Rr.ketThuc(g,Q,"Admin"),onSuccess:()=>{ie.success("Kt thc ph cp thnh cng"),l.invalidateQueries({queryKey:["phu-cap",r]}),N(null)},onError:g=>{var Q,A;ie.error(((A=(Q=g.response)==null?void 0:Q.data)==null?void 0:A.message)||"C li xy ra")}}),se=Ae({mutationFn:g=>Rr.tamDung(g),onSuccess:()=>{ie.success("Tm dng ph cp thnh cng"),l.invalidateQueries({queryKey:["phu-cap",r]})}}),U=Ae({mutationFn:g=>Rr.kichHoat(g),onSuccess:()=>{ie.success("Kch hot ph cp thnh cng"),l.invalidateQueries({queryKey:["phu-cap",r]})}}),Y=()=>{j({khoanLuongId:0,soTien:0,tuNgay:new Date().toISOString().split("T")[0],denNgay:"",ghiChu:""})},pe=()=>{if(!y.khoanLuongId){ie.error("Vui lng chn khon ph cp");return}if(y.soTien<=0){ie.error("S tin phi > 0");return}W.mutate({nhanVienId:r,khoanLuongId:y.khoanLuongId,soTien:y.soTien,tuNgay:y.tuNgay,denNgay:y.denNgay||void 0,ghiChu:y.ghiChu||void 0,nguoiTao:"Admin"})},J=()=>{if(p){if(S.soTienMoi<=0){ie.error("S tin mi phi > 0");return}M.mutate({id:p.id,data:{soTienMoi:S.soTienMoi,tuNgay:S.tuNgay,ghiChu:S.ghiChu||void 0,nguoiTao:"Admin"}})}},de=()=>{v&&F.mutate({id:v.id,denNgay:D.denNgay})},$=(P==null?void 0:P.filter(g=>g.trangThai==="HIEU_LUC"))||[],oe=(P==null?void 0:P.filter(g=>g.trangThai==="TAM_DUNG"))||[],K=(P==null?void 0:P.filter(g=>g.trangThai==="KET_THUC"))||[],G=$.reduce((g,Q)=>g+Q.soTien,0);if(_)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!T)return e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Khng tm thy nhn vin"});const le=g=>{switch(g){case"HIEU_LUC":return"bg-green-100 text-green-800";case"TAM_DUNG":return"bg-yellow-100 text-yellow-800";case"KET_THUC":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},re=g=>{switch(g){case"HIEU_LUC":return"Hiu lc";case"TAM_DUNG":return"Tm dng";case"KET_THUC":return"Kt thc";default:return g}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(Gt,{to:"/nhan-vien",className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(rd,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:T.hoTen}),e.jsxs("p",{className:"text-gray-500",children:[T.maNhanVien," - ",T.chucVu||"Nhn vin"]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[e.jsxs("button",{onClick:()=>c("thong-tin"),className:`px-4 py-2 font-medium border-b-2 transition-colors ${i==="thong-tin"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(eb,{size:18,className:"inline-block mr-2"}),"Thng tin"]}),e.jsxs("button",{onClick:()=>c("phu-cap"),className:`px-4 py-2 font-medium border-b-2 transition-colors ${i==="phu-cap"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(tb,{size:18,className:"inline-block mr-2"}),"Ph cp",$.length>0&&e.jsx("span",{className:"ml-2 bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full text-xs",children:$.length})]}),e.jsxs("button",{onClick:()=>c("lich-su"),className:`px-4 py-2 font-medium border-b-2 transition-colors ${i==="lich-su"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(ld,{size:18,className:"inline-block mr-2"}),"Lch s"]})]}),i==="thong-tin"&&e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"M nhn vin"}),e.jsx("p",{className:"font-medium",children:T.maNhanVien})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"H tn"}),e.jsx("p",{className:"font-medium",children:T.hoTen})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Phng ban"}),e.jsx("p",{className:"font-medium",children:(R=T.phongBan)==null?void 0:R.tenPhongBan})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Chc v"}),e.jsx("p",{className:"font-medium",children:T.chucVu||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:T.email||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"S in thoi"}),e.jsx("p",{className:"font-medium",children:T.soDienThoai||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Lng c bn"}),e.jsx("p",{className:"font-medium text-primary-600",children:ze(T.luongCoBan)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-500",children:"Tng ph cp hin ti"}),e.jsx("p",{className:"font-medium text-green-600",children:ze(G)})]})]})}),i==="phu-cap"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"card bg-green-50",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ph cp hiu lc"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:$.length}),e.jsxs("p",{className:"text-sm text-green-600",children:[ze(G),"/thng"]})]}),e.jsxs("div",{className:"card bg-yellow-50",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tm dng"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:oe.length})]}),e.jsxs("div",{className:"card bg-gray-50",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" kt thc"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:K.length})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Danh sch ph cp"}),e.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary",children:[e.jsx(ws,{size:20}),"Thm ph cp"]})]}),$.length>0&&e.jsxs("div",{className:"card mb-4",children:[e.jsxs("h4",{className:"font-medium text-green-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full"}),"ang hiu lc (",$.length,")"]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-2 px-3",children:"Khon ph cp"}),e.jsx("th",{className:"text-right py-2 px-3",children:"S tin"}),e.jsx("th",{className:"text-left py-2 px-3",children:"T ngy"}),e.jsx("th",{className:"text-left py-2 px-3",children:"n ngy"}),e.jsx("th",{className:"text-left py-2 px-3",children:"Ghi ch"}),e.jsx("th",{className:"text-center py-2 px-3",children:"Thao tc"})]})}),e.jsx("tbody",{children:$.map(g=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-2 px-3 font-medium",children:g.khoanLuong.tenKhoan}),e.jsx("td",{className:"py-2 px-3 text-right font-semibold text-primary-600",children:ze(g.soTien)}),e.jsx("td",{className:"py-2 px-3",children:Si(g.tuNgay)}),e.jsx("td",{className:"py-2 px-3",children:g.denNgay?Si(g.denNgay):"Khng xc nh"}),e.jsx("td",{className:"py-2 px-3 text-gray-500 text-sm",children:g.ghiChu||"-"}),e.jsx("td",{className:"py-2 px-3",children:e.jsxs("div",{className:"flex justify-center gap-1",children:[e.jsx("button",{onClick:()=>{f(g),w({soTienMoi:g.soTien,tuNgay:new Date().toISOString().split("T")[0],ghiChu:""})},className:"p-1 hover:bg-blue-100 rounded text-blue-600",title:"iu chnh",children:e.jsx(og,{size:18})}),e.jsx("button",{onClick:()=>se.mutate(g.id),className:"p-1 hover:bg-yellow-100 rounded text-yellow-600",title:"Tm dng",children:e.jsx(WN,{size:18})}),e.jsx("button",{onClick:()=>{N(g),E({denNgay:new Date().toISOString().split("T")[0]})},className:"p-1 hover:bg-red-100 rounded text-red-600",title:"Kt thc",children:e.jsx(Wi,{size:18})})]})})]},g.id))})]})]}),oe.length>0&&e.jsxs("div",{className:"card mb-4",children:[e.jsxs("h4",{className:"font-medium text-yellow-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"Tm dng (",oe.length,")"]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-2 px-3",children:"Khon ph cp"}),e.jsx("th",{className:"text-right py-2 px-3",children:"S tin"}),e.jsx("th",{className:"text-left py-2 px-3",children:"Trng thi"}),e.jsx("th",{className:"text-center py-2 px-3",children:"Thao tc"})]})}),e.jsx("tbody",{children:oe.map(g=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-2 px-3",children:g.khoanLuong.tenKhoan}),e.jsx("td",{className:"py-2 px-3 text-right",children:ze(g.soTien)}),e.jsx("td",{className:"py-2 px-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${le(g.trangThai)}`,children:re(g.trangThai)})}),e.jsx("td",{className:"py-2 px-3 text-center",children:e.jsx("button",{onClick:()=>U.mutate(g.id),className:"p-1 hover:bg-green-100 rounded text-green-600",title:"Kch hot li",children:e.jsx(XN,{size:18})})})]},g.id))})]})]}),C?e.jsx("div",{className:"text-center py-8",children:"ang ti..."}):(P==null?void 0:P.length)===0?e.jsxs("div",{className:"card text-center py-8 text-gray-500",children:[e.jsx(sd,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Nhn vin cha c ph cp no"}),e.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary mt-4",children:[e.jsx(ws,{size:20}),"Thm ph cp u tin"]})]}):null]}),i==="lich-su"&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Lch s thay i ph cp"}),P&&P.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-2 px-3",children:"Khon ph cp"}),e.jsx("th",{className:"text-right py-2 px-3",children:"S tin"}),e.jsx("th",{className:"text-left py-2 px-3",children:"T ngy"}),e.jsx("th",{className:"text-left py-2 px-3",children:"n ngy"}),e.jsx("th",{className:"text-left py-2 px-3",children:"Trng thi"}),e.jsx("th",{className:"text-left py-2 px-3",children:"Ghi ch"})]})}),e.jsx("tbody",{children:P.map(g=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-2 px-3",children:g.khoanLuong.tenKhoan}),e.jsx("td",{className:"py-2 px-3 text-right font-medium",children:ze(g.soTien)}),e.jsx("td",{className:"py-2 px-3",children:Si(g.tuNgay)}),e.jsx("td",{className:"py-2 px-3",children:g.denNgay?Si(g.denNgay):"-"}),e.jsx("td",{className:"py-2 px-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${le(g.trangThai)}`,children:re(g.trangThai)})}),e.jsx("td",{className:"py-2 px-3 text-gray-500 text-sm",children:g.ghiChu||"-"})]},g.id))})]}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"Cha c d liu lch s"})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Thm ph cp mi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Khon ph cp *"}),e.jsxs("select",{value:y.khoanLuongId,onChange:g=>j({...y,khoanLuongId:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:0,children:"-- Chn khon ph cp --"}),H==null?void 0:H.map(g=>e.jsx("option",{value:g.id,children:g.tenKhoan},g.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"S tin *"}),e.jsx("input",{type:"number",value:y.soTien,onChange:g=>j({...y,soTien:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: 500000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ngy bt u *"}),e.jsx("input",{type:"date",value:y.tuNgay,onChange:g=>j({...y,tuNgay:g.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ngy kt thc (ty chn)"}),e.jsx("input",{type:"date",value:y.denNgay,onChange:g=>j({...y,denNgay:g.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ghi ch"}),e.jsx("textarea",{value:y.ghiChu,onChange:g=>j({...y,ghiChu:g.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>h(!1),className:"btn btn-secondary",children:"Hy"}),e.jsx("button",{onClick:pe,disabled:W.isPending,className:"btn btn-primary",children:W.isPending?"ang lu...":"Thm ph cp"})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"iu chnh ph cp"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Khon ph cp"}),e.jsx("p",{className:"font-medium",children:p.khoanLuong.tenKhoan}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Hin ti: ",ze(p.soTien)]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"S tin mi *"}),e.jsx("input",{type:"number",value:S.soTienMoi,onChange:g=>w({...S,soTienMoi:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ngy hiu lc mi *"}),e.jsx("input",{type:"date",value:S.tuNgay,onChange:g=>w({...S,tuNgay:g.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"L do iu chnh"}),e.jsx("textarea",{value:S.ghiChu,onChange:g=>w({...S,ghiChu:g.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>f(null),className:"btn btn-secondary",children:"Hy"}),e.jsx("button",{onClick:J,disabled:M.isPending,className:"btn btn-primary",children:M.isPending?"ang lu...":"iu chnh"})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Kt thc ph cp"}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Khon ph cp"}),e.jsx("p",{className:"font-medium",children:v.khoanLuong.tenKhoan}),e.jsxs("p",{className:"text-sm text-red-600",children:["S tin: ",ze(v.soTien)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ngy kt thc *"}),e.jsx("input",{type:"date",value:D.denNgay,onChange:g=>E({denNgay:g.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>N(null),className:"btn btn-secondary",children:"Hy"}),e.jsx("button",{onClick:de,disabled:F.isPending,className:"btn btn-danger",children:F.isPending?"ang lu...":"Kt thc"})]})]})})]})}function K1(){const s=Nn(),[r,l]=b.useState(!1),[i,c]=b.useState(null),[d,h]=b.useState({maKhoan:"",tenKhoan:"",loai:"THU_NHAP",chiuThue:!1,moTa:""}),{data:p,isLoading:f}=Xe({queryKey:["khoan-luong"],queryFn:()=>Wt.layTatCa()}),v=Ae({mutationFn:Wt.taoMoi,onSuccess:()=>{s.invalidateQueries({queryKey:["khoan-luong"]}),ie.success("To khon lng thnh cng!"),j()},onError:_=>{var P,C;ie.error(((C=(P=_.response)==null?void 0:P.data)==null?void 0:C.message)||"C li xy ra")}}),N=Ae({mutationFn:({id:_,data:P})=>Wt.capNhat(_,P),onSuccess:()=>{s.invalidateQueries({queryKey:["khoan-luong"]}),ie.success("Cp nht thnh cng!"),j()},onError:_=>{var P,C;ie.error(((C=(P=_.response)==null?void 0:P.data)==null?void 0:C.message)||"C li xy ra")}}),y=Ae({mutationFn:Wt.xoa,onSuccess:()=>{s.invalidateQueries({queryKey:["khoan-luong"]}),ie.success("Xa khon lng thnh cng!")},onError:_=>{var P,C;ie.error(((C=(P=_.response)==null?void 0:P.data)==null?void 0:C.message)||"C li xy ra")}}),j=()=>{l(!1),c(null),h({maKhoan:"",tenKhoan:"",loai:"THU_NHAP",chiuThue:!1,moTa:""})},S=_=>{c(_),h({maKhoan:_.maKhoan,tenKhoan:_.tenKhoan,loai:_.loai,chiuThue:_.chiuThue,moTa:_.moTa||""}),l(!0)},w=()=>{if(!d.maKhoan||!d.tenKhoan){ie.error("Vui lng in y  thng tin bt buc");return}i?N.mutate({id:i.id,data:d}):v.mutate(d)},D=_=>{confirm(`Bn c chc mun xa khon lng "${_.tenKhoan}"?`)&&y.mutate(_.id)},E=(p==null?void 0:p.filter(_=>_.loai==="THU_NHAP"))||[],T=(p==null?void 0:p.filter(_=>_.loai==="KHAU_TRU"))||[];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Fi,{size:28}),"Qun l Khon lng"]}),e.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary",children:[e.jsx(ws,{size:20}),"Thm khon lng"]})]}),f?e.jsx("p",{className:"text-center py-8 text-gray-500",children:"ang ti..."}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Cc khon Thu nhp (",E.length,")"]}),e.jsxs("div",{className:"space-y-2",children:[E.map(_=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Kp,{size:16,className:"text-gray-400 cursor-grab"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:_.tenKhoan}),e.jsxs("p",{className:"text-xs text-gray-500",children:[_.maKhoan,_.chiuThue&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-orange-100 text-orange-700 rounded",children:"Chu thu"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(_),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg",children:e.jsx(nl,{size:16})}),e.jsx("button",{onClick:()=>D(_),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:e.jsx(tr,{size:16})})]})]},_.id)),E.length===0&&e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Cha c khon thu nhp"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-red-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full"}),"Cc khon Khu tr (",T.length,")"]}),e.jsxs("div",{className:"space-y-2",children:[T.map(_=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Kp,{size:16,className:"text-gray-400 cursor-grab"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:_.tenKhoan}),e.jsx("p",{className:"text-xs text-gray-500",children:_.maKhoan})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(_),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg",children:e.jsx(nl,{size:16})}),e.jsx("button",{onClick:()=>D(_),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:e.jsx(tr,{size:16})})]})]},_.id)),T.length===0&&e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Cha c khon khu tr (BHXH, thu s thm  y)"})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:i?"Sa khon lng":"Thm khon lng mi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"M khon *"}),e.jsx("input",{type:"text",value:d.maKhoan,onChange:_=>h({...d,maKhoan:_.target.value.toUpperCase()}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: PHU_CAP_XE",disabled:!!i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tn khon *"}),e.jsx("input",{type:"text",value:d.tenKhoan,onChange:_=>h({...d,tenKhoan:_.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: Ph cp xe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"loai",checked:d.loai==="THU_NHAP",onChange:()=>h({...d,loai:"THU_NHAP"})}),e.jsx("span",{className:"text-green-700",children:"Thu nhp (+)"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"loai",checked:d.loai==="KHAU_TRU",onChange:()=>h({...d,loai:"KHAU_TRU"})}),e.jsx("span",{className:"text-red-700",children:"Khu tr (-)"})]})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:d.chiuThue,onChange:_=>h({...d,chiuThue:_.target.checked})}),e.jsx("span",{className:"text-sm",children:"Khon ny chu thu TNCN"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"M t"}),e.jsx("textarea",{value:d.moTa,onChange:_=>h({...d,moTa:_.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:j,className:"btn btn-secondary",children:"Hy"}),e.jsx("button",{onClick:w,disabled:v.isPending||N.isPending,className:"btn btn-primary",children:v.isPending||N.isPending?"ang lu...":"Lu"})]})]})})]})}function U1(){const s=Nn(),r=b.useRef(null),[l,i]=b.useState("upload"),[c,d]=b.useState(null),[h,p]=b.useState([]),[f,v]=b.useState([]),[N,y]=b.useState([]),[j,S]=b.useState(new Date().getMonth()+1),[w,D]=b.useState(new Date().getFullYear()),[E,T]=b.useState(0),[_,P]=b.useState(null),{data:C}=Xe({queryKey:["phong-ban"],queryFn:ln.layTatCa}),{data:H}=Xe({queryKey:["khoan-luong"],queryFn:()=>Wt.layTatCa()}),W=Ae({mutationFn:J=>Ri.docHeader(J),onSuccess:J=>{p(J.headers),v(J.duLieuMau),M.mutate(c)},onError:()=>{ie.error("Khng th c file Excel")}}),M=Ae({mutationFn:J=>Ri.goiYMapping(J),onSuccess:J=>{y(J),i("mapping")}}),F=Ae({mutationFn:()=>Ri.import(c,j,w,E,N),onSuccess:J=>{P(J),i("result"),s.invalidateQueries({queryKey:["bang-luong"]}),J.thanhCong?ie.success("Import thnh cng!"):ie.error(`Import c ${J.dongLoi} dng li`)},onError:J=>{var de,$;ie.error((($=(de=J.response)==null?void 0:de.data)==null?void 0:$.message)||"C li khi import")}}),se=J=>{var $;const de=($=J.target.files)==null?void 0:$[0];if(de){if(!de.name.endsWith(".xlsx")&&!de.name.endsWith(".xls")){ie.error("Vui lng chn file Excel (.xlsx hoc .xls)");return}d(de),W.mutate(de)}},U=(J,de,$)=>{const oe=[...N];oe[J]={...oe[J],[de]:$},y(oe)},Y=()=>{if(!E){ie.error("Vui lng chn phng ban");return}if(!N.some(de=>de.loaiMapping==="thong_tin"&&de.truongHeThong==="ma_nhan_vien")){ie.error("Cn mapping ct M nhn vin");return}F.mutate()},pe=()=>{i("upload"),d(null),p([]),v([]),y([]),P(null),r.current&&(r.current.value="")};return e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2 mb-6",children:[e.jsx(Ir,{size:28}),"Import t Excel"]}),e.jsx("div",{className:"flex items-center gap-4 mb-8",children:["Upload file","Mapping ct","Kt qu"].map((J,de)=>{const $=["upload","mapping","result"],oe=l===$[de],K=$.indexOf(l)>de;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`
                  w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold
                  ${oe?"bg-primary-600 text-white":""}
                  ${K?"bg-green-500 text-white":""}
                  ${!oe&&!K?"bg-gray-200 text-gray-500":""}
                `,children:K?"":de+1}),e.jsx("span",{className:oe?"font-semibold":"text-gray-500",children:J}),de<2&&e.jsx(MN,{size:16,className:"text-gray-400 ml-2"})]},J)})}),l==="upload"&&e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ji,{size:64,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Chn file Excel  import"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"H tr nh dng .xlsx v .xls"}),e.jsx("input",{ref:r,type:"file",accept:".xlsx,.xls",onChange:se,className:"hidden"}),e.jsxs("button",{onClick:()=>{var J;return(J=r.current)==null?void 0:J.click()},disabled:W.isPending,className:"btn btn-primary",children:[e.jsx(Ir,{size:20}),W.isPending?"ang c file...":"Chn file Excel"]})]})}),l==="mapping"&&e.jsxs("div",{children:[e.jsxs("div",{className:"card mb-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Thng tin import"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"File"}),e.jsx("p",{className:"font-medium",children:c==null?void 0:c.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Thng"}),e.jsx("select",{value:j,onChange:J=>S(Number(J.target.value)),className:"w-full border rounded-lg px-3 py-2",children:Array.from({length:12},(J,de)=>de+1).map(J=>e.jsxs("option",{value:J,children:["Thng ",J]},J))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nm"}),e.jsx("select",{value:w,onChange:J=>D(Number(J.target.value)),className:"w-full border rounded-lg px-3 py-2",children:[2024,2025,2026,2027].map(J=>e.jsx("option",{value:J,children:J},J))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Phng ban *"}),e.jsxs("select",{value:E,onChange:J=>T(Number(J.target.value)),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:0,children:"-- Chn --"}),C==null?void 0:C.map(J=>e.jsx("option",{value:J.id,children:J.tenPhongBan},J.id))]})]})]})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Mapping ct Excel  Khon lng"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-2 px-3",children:"Ct"}),e.jsx("th",{className:"text-left py-2 px-3",children:"Tn ct Excel"}),e.jsx("th",{className:"text-left py-2 px-3",children:"D liu mu"}),e.jsx("th",{className:"text-left py-2 px-3",children:"Loi"}),e.jsx("th",{className:"text-left py-2 px-3",children:"Mapping"})]})}),e.jsx("tbody",{children:N.map((J,de)=>{var $;return e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-3",children:J.soCot}),e.jsx("td",{className:"py-2 px-3 font-medium",children:J.tenCot}),e.jsx("td",{className:"py-2 px-3 text-gray-500",children:(($=f[0])==null?void 0:$[de])||"-"}),e.jsx("td",{className:"py-2 px-3",children:e.jsxs("select",{value:J.loaiMapping,onChange:oe=>U(de,"loaiMapping",oe.target.value),className:"border rounded px-2 py-1 text-sm",children:[e.jsx("option",{value:"thong_tin",children:"Thng tin"}),e.jsx("option",{value:"khoan_luong",children:"Khon lng"})]})}),e.jsx("td",{className:"py-2 px-3",children:J.loaiMapping==="thong_tin"?e.jsxs("select",{value:J.truongHeThong||"",onChange:oe=>U(de,"truongHeThong",oe.target.value),className:"border rounded px-2 py-1 text-sm w-full",children:[e.jsx("option",{value:"",children:"-- B qua --"}),e.jsx("option",{value:"ma_nhan_vien",children:"M nhn vin"}),e.jsx("option",{value:"ho_ten",children:"H tn"}),e.jsx("option",{value:"phong_ban",children:"Phng ban"}),e.jsx("option",{value:"tong_luong_bo_qua",children:"Tng (b qua)"})]}):e.jsxs("select",{value:J.khoanLuongId||"",onChange:oe=>U(de,"khoanLuongId",Number(oe.target.value)||void 0),className:"border rounded px-2 py-1 text-sm w-full",children:[e.jsx("option",{value:"",children:"-- B qua --"}),H==null?void 0:H.map(oe=>e.jsx("option",{value:oe.id,children:oe.tenKhoan},oe.id))]})})]},de)})})]})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:pe,className:"btn btn-secondary",children:"Quay li"}),e.jsx("button",{onClick:Y,disabled:F.isPending,className:"btn btn-primary",children:F.isPending?"ang import...":"Bt u Import"})]})]}),l==="result"&&_&&e.jsxs("div",{children:[e.jsx("div",{className:`card mb-6 ${_.thanhCong?"bg-green-50":"bg-yellow-50"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[_.thanhCong?e.jsx(Hi,{size:48,className:"text-green-500"}):e.jsx(sd,{size:48,className:"text-yellow-500"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:_.thanhCong?"Import thnh cng!":"Import hon tt (c li)"}),e.jsxs("p",{className:"text-gray-600",children:[" import ",_.dongThanhCong,"/",_.tongDong," dng"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"card text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.dongThanhCong}),e.jsx("p",{className:"text-gray-500",children:"Dng thnh cng"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-red-600",children:_.dongLoi}),e.jsx("p",{className:"text-gray-500",children:"Dng li"})]}),e.jsxs("div",{className:"card text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-primary-600",children:ze(_.tongTienImport)}),e.jsx("p",{className:"text-gray-500",children:"Tng tin import"})]})]}),_.chiTietLoi.length>0&&e.jsxs("div",{className:"card mb-6",children:[e.jsx("h3",{className:"font-semibold text-red-600 mb-3",children:"Chi tit li"}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:_.chiTietLoi.map((J,de)=>e.jsxs("div",{className:"flex items-center gap-2 py-2 border-b",children:[e.jsx(ug,{size:16,className:"text-red-500"}),e.jsxs("span",{className:"font-medium",children:["Dng ",J.dong,":"]}),e.jsx("span",{className:"text-gray-600",children:J.lyDo})]},de))})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:pe,className:"btn btn-secondary",children:"Import file khc"}),e.jsx("a",{href:`/bang-luong/${_.bangLuongId}`,className:"btn btn-primary",children:"Xem bng lng"})]})]})]})}const cu={layDanhSach:(s,r,l)=>{const i=new URLSearchParams({thang:String(s),nam:String(r)});return l&&i.append("phongBanId",String(l)),me.get(`/cham-cong?${i}`)},layChamCongNhanVien:(s,r,l)=>me.get(`/cham-cong/nhan-vien/${s}?thang=${r}&nam=${l}`),luu:s=>me.post("/cham-cong",s),khoiTao:(s,r,l=26)=>me.post("/cham-cong/khoi-tao",{thang:s,nam:r,soCongChuan:l}),import:(s,r,l)=>me.post("/cham-cong/import",{thang:s,nam:r,duLieu:l})},uu={lay:s=>me.get(`/cham-cong/cau-hinh-phat/${s}`),capNhat:(s,r)=>me.put(`/cham-cong/cau-hinh-phat/${s}`,r),tinhPhat:(s,r,l)=>me.get(`/cham-cong/tinh-phat/${s}?thang=${r}&nam=${l}`)},z1={dongBoCSV:s=>me.post("/cham-cong/dong-bo-csv",{csvContent:s})};function V1(){const[s,r]=b.useState("cham-cong"),[l,i]=b.useState(new Date().getMonth()+1),[c,d]=b.useState(new Date().getFullYear()),[h,p]=b.useState(),[f,v]=b.useState([]),[N,y]=b.useState([]),[j,S]=b.useState(null),[w,D]=b.useState({}),[E,T]=b.useState(!1),[_,P]=b.useState(null),[C,H]=b.useState({}),[W,M]=b.useState(null),[F,se]=b.useState(null),[U,Y]=b.useState(!1),pe=b.useRef(null);b.useEffect(()=>{me.get("/phong-ban").then(g=>v(g.data))},[]),b.useEffect(()=>{J()},[l,c,h]),b.useEffect(()=>{s==="cau-hinh"&&de()},[s,c]);const J=async()=>{T(!0);try{const g=await cu.layDanhSach(l,c,h);y(g.data);const Q={};for(const A of g.data)if(A.soLanDiMuon>0||A.soLanVeSom>0||Number(A.soNgayNghiKhongLuong)>0)try{const X=await uu.tinhPhat(A.nhanVienId,l,c);Q[A.nhanVienId]=X.data}catch{}D(Q)}catch{ie.error("Li ti d liu chm cng")}T(!1)},de=async()=>{try{const g=await uu.lay(c);S(g.data)}catch{ie.error("Li ti cu hnh pht")}},$=async()=>{if(confirm(`Khi to chm cng thng ${l}/${c} cho tt c nhn vin?`))try{const g=await cu.khoiTao(l,c,26);ie.success(`${g.data.message} -  to: ${g.data.created}, B qua: ${g.data.skipped}`),J()}catch{ie.error("Li khi to chm cng")}},oe=g=>{P(g.id),H({nhanVienId:g.nhanVienId,thang:g.thang,nam:g.nam,soCongChuan:Number(g.soCongChuan),soCongThucTe:Number(g.soCongThucTe),soNgayNghiPhep:Number(g.soNgayNghiPhep),soNgayNghiKhongLuong:Number(g.soNgayNghiKhongLuong),soGioOT:Number(g.soGioOT),soLanDiMuon:g.soLanDiMuon,soLanVeSom:g.soLanVeSom})},K=async()=>{if(C.nhanVienId)try{await cu.luu(C),ie.success(" lu chm cng"),P(null),H({}),J()}catch{ie.error("Li lu chm cng")}},G=async()=>{if(j)try{await uu.capNhat(c,j),ie.success(" lu cu hnh pht")}catch{ie.error("Li lu cu hnh")}},le=g=>new Intl.NumberFormat("vi-VN").format(g)+" ",re=g=>{var A;const Q=(A=g.target.files)==null?void 0:A[0];Q&&(M(Q),se(null))},R=async()=>{var g,Q;if(!W){ie.error("Vui lng chn file CSV");return}Y(!0);try{const A=await W.text(),X=await z1.dongBoCSV(A);se(X.data),ie.success(` ng b ${X.data.luuThanhCong} nhn vin thnh cng`),J()}catch(A){ie.error(((Q=(g=A==null?void 0:A.response)==null?void 0:g.data)==null?void 0:Q.message)||"Li ng b file")}Y(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Xa,{className:"text-primary-600"}),"Qun l Chm cng"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Theo di chm cng, i mun, ngh khng php"})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>r("cham-cong"),className:`px-4 py-2 font-medium border-b-2 transition-colors ${s==="cham-cong"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Yr,{size:18,className:"inline mr-2"}),"Chm cng thng"]}),e.jsxs("button",{onClick:()=>r("dong-bo"),className:`px-4 py-2 font-medium border-b-2 transition-colors ${s==="dong-bo"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Ir,{size:18,className:"inline mr-2"}),"ng b my chm cng"]}),e.jsxs("button",{onClick:()=>r("cau-hinh"),className:`px-4 py-2 font-medium border-b-2 transition-colors ${s==="cau-hinh"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Jr,{size:18,className:"inline mr-2"}),"Cu hnh pht"]})]})}),s==="cham-cong"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Thng"}),e.jsx("select",{value:l,onChange:g=>i(Number(g.target.value)),className:"border rounded-lg px-3 py-2",children:[...Array(12)].map((g,Q)=>e.jsxs("option",{value:Q+1,children:["Thng ",Q+1]},Q+1))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Nm"}),e.jsx("select",{value:c,onChange:g=>d(Number(g.target.value)),className:"border rounded-lg px-3 py-2",children:[2024,2025,2026,2027].map(g=>e.jsx("option",{value:g,children:g},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Phng ban"}),e.jsxs("select",{value:h||"",onChange:g=>p(g.target.value?Number(g.target.value):void 0),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Tt c"}),f.map(g=>e.jsx("option",{value:g.id,children:g.tenPhongBan},g.id))]})]}),e.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg",children:[e.jsx(Ki,{size:18}),"Lm mi"]}),e.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white hover:bg-primary-700 rounded-lg",children:[e.jsx(Wi,{size:18}),"Khi to thng"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nhn vin"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Phng ban"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Cng chun"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Cng thc"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Ngh php"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Ngh KL"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"i mun"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"V sm"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OT (gi)"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Tin pht"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Thao tc"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:E?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500",children:"ang ti..."})}):N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500",children:'Cha c d liu chm cng. Nhn "Khi to thng"  bt u.'})}):N.map(g=>{var fe,xe,Se,Re;const Q=_===g.id,A=w[g.nhanVienId],X=g.soLanDiMuon>0||g.soLanVeSom>0||Number(g.soNgayNghiKhongLuong)>0;return e.jsxs("tr",{className:X?"bg-red-50":"",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(fe=g.nhanVien)==null?void 0:fe.hoTen}),e.jsx("div",{className:"text-sm text-gray-500",children:(xe=g.nhanVien)==null?void 0:xe.maNhanVien})]}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:(Re=(Se=g.nhanVien)==null?void 0:Se.phongBan)==null?void 0:Re.tenPhongBan}),e.jsx("td",{className:"px-4 py-3 text-center",children:Q?e.jsx("input",{type:"number",value:C.soCongChuan||0,onChange:Oe=>H({...C,soCongChuan:Number(Oe.target.value)}),className:"w-16 border rounded px-2 py-1 text-center"}):Number(g.soCongChuan)}),e.jsx("td",{className:"px-4 py-3 text-center",children:Q?e.jsx("input",{type:"number",value:C.soCongThucTe||0,onChange:Oe=>H({...C,soCongThucTe:Number(Oe.target.value)}),className:"w-16 border rounded px-2 py-1 text-center"}):Number(g.soCongThucTe)}),e.jsx("td",{className:"px-4 py-3 text-center",children:Q?e.jsx("input",{type:"number",value:C.soNgayNghiPhep||0,onChange:Oe=>H({...C,soNgayNghiPhep:Number(Oe.target.value)}),className:"w-16 border rounded px-2 py-1 text-center"}):Number(g.soNgayNghiPhep)}),e.jsx("td",{className:"px-4 py-3 text-center",children:Q?e.jsx("input",{type:"number",value:C.soNgayNghiKhongLuong||0,onChange:Oe=>H({...C,soNgayNghiKhongLuong:Number(Oe.target.value)}),className:"w-16 border rounded px-2 py-1 text-center"}):e.jsx("span",{className:Number(g.soNgayNghiKhongLuong)>0?"text-red-600 font-semibold":"",children:Number(g.soNgayNghiKhongLuong)})}),e.jsx("td",{className:"px-4 py-3 text-center",children:Q?e.jsx("input",{type:"number",value:C.soLanDiMuon||0,onChange:Oe=>H({...C,soLanDiMuon:Number(Oe.target.value)}),className:"w-16 border rounded px-2 py-1 text-center"}):e.jsx("span",{className:g.soLanDiMuon>0?"text-orange-600 font-semibold":"",children:g.soLanDiMuon})}),e.jsx("td",{className:"px-4 py-3 text-center",children:Q?e.jsx("input",{type:"number",value:C.soLanVeSom||0,onChange:Oe=>H({...C,soLanVeSom:Number(Oe.target.value)}),className:"w-16 border rounded px-2 py-1 text-center"}):e.jsx("span",{className:g.soLanVeSom>0?"text-orange-600 font-semibold":"",children:g.soLanVeSom})}),e.jsx("td",{className:"px-4 py-3 text-center text-blue-600",children:Q?e.jsx("input",{type:"number",value:C.soGioOT||0,onChange:Oe=>H({...C,soGioOT:Number(Oe.target.value)}),className:"w-16 border rounded px-2 py-1 text-center"}):Number(g.soGioOT)}),e.jsx("td",{className:"px-4 py-3 text-right",children:A&&A.tongPhat>0&&e.jsx("div",{className:"text-red-600 font-semibold",title:`Pht i mun: ${le(A.tienPhatDiMuon)}
Pht v sm: ${le(A.tienPhatVeSom)}
Pht ngh KP: ${le(A.tienPhatNghiKhongPhep)}
Tr lng: ${le(A.truLuongNgayCong)}`,children:le(A.tongPhat)})}),e.jsx("td",{className:"px-4 py-3 text-center",children:Q?e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:K,className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(Xr,{size:18})}),e.jsx("button",{onClick:()=>{P(null),H({})},className:"p-1 text-gray-600 hover:bg-gray-100 rounded",children:""})]}):e.jsx("button",{onClick:()=>oe(g),className:"p-1 text-primary-600 hover:bg-primary-50 rounded",children:"Sa"})})]},g.id)})})]})})}),N.length>0&&e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Tng nhn vin"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:N.length})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"i mun"}),e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[N.filter(g=>g.soLanDiMuon>0).length," NV"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Ngh khng php"}),e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[N.filter(g=>Number(g.soNgayNghiKhongLuong)>0).length," NV"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Tng tin pht"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:le(Object.values(w).reduce((g,Q)=>g+Q.tongPhat,0))})]})]})]}),s==="dong-bo"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Ir,{className:"text-primary-600",size:20}),"Upload file CSV t my chm cng"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{onClick:()=>{var g;return(g=pe.current)==null?void 0:g.click()},className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-primary-400 transition-colors",children:[e.jsx(ad,{className:"mx-auto text-gray-400 mb-3",size:48}),W?e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:W.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(W.size/1024).toFixed(1)," KB"]})]}):e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-600",children:"Nhp  chn file CSV"}),e.jsx("p",{className:"text-sm text-gray-400",children:"H tr file t my chm cng (Access Controller)"})]}),e.jsx("input",{ref:pe,type:"file",accept:".csv",onChange:re,className:"hidden"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:R,disabled:!W||U,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[U?e.jsx(Ki,{size:18,className:"animate-spin"}):e.jsx(Ir,{size:18}),U?"ang x l...":"ng b d liu"]}),W&&e.jsx("button",{onClick:()=>{M(null),se(null),pe.current&&(pe.current.value="")},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Xa file"})]})]})]}),F&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Tng bn ghi"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:F.tongBanGhi})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"S ngy cng"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:F.tongNgay})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Lu thnh cng"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600 flex items-center gap-2",children:[e.jsx(Hi,{size:24})," ",F.luuThanhCong]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Li"}),e.jsxs("div",{className:"text-2xl font-bold text-red-600 flex items-center gap-2",children:[e.jsx(ug,{size:24})," ",F.luuThatBai]})]})]}),F.thongKe.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b",children:e.jsx("h4",{className:"font-semibold",children:"Thng k theo nhn vin"})}),e.jsx("div",{className:"overflow-x-auto max-h-64",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"M NV"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Thng/Nm"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"S cng"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"i mun"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"V sm"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:F.thongKe.map((g,Q)=>e.jsxs("tr",{className:g.soLanDiMuon>0||g.soLanVeSom>0?"bg-orange-50":"",children:[e.jsx("td",{className:"px-4 py-2 font-medium",children:g.maNhanVien}),e.jsxs("td",{className:"px-4 py-2 text-center",children:[g.thang,"/",g.nam]}),e.jsx("td",{className:"px-4 py-2 text-center text-blue-600 font-semibold",children:g.soCongThucTe}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("span",{className:g.soLanDiMuon>0?"text-orange-600 font-semibold":"",children:g.soLanDiMuon})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("span",{className:g.soLanVeSom>0?"text-orange-600 font-semibold":"",children:g.soLanVeSom})})]},Q))})]})})]}),F.chiTiet.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b",children:e.jsxs("h4",{className:"font-semibold",children:["Chi tit chm cng (",F.chiTiet.length," ngy)"]})}),e.jsxs("div",{className:"overflow-x-auto max-h-96",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"M NV"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Ngy"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Gi vo"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Gi ra"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Trng thi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:F.chiTiet.slice(0,100).map((g,Q)=>e.jsxs("tr",{className:g.diMuon||g.veSom?"bg-orange-50":"",children:[e.jsx("td",{className:"px-4 py-2 font-medium",children:g.maNhanVien}),e.jsx("td",{className:"px-4 py-2",children:g.ngay}),e.jsxs("td",{className:"px-4 py-2 text-center",children:[e.jsx("span",{className:g.diMuon?"text-orange-600 font-semibold":"",children:g.gioVao||"-"}),g.diMuon&&e.jsxs("span",{className:"text-xs text-orange-500 ml-1",children:["(+",g.phutMuon,"p)"]})]}),e.jsxs("td",{className:"px-4 py-2 text-center",children:[e.jsx("span",{className:g.veSom?"text-orange-600 font-semibold":"",children:g.gioRa||"-"}),g.veSom&&e.jsxs("span",{className:"text-xs text-orange-500 ml-1",children:["(-",g.phutSom,"p)"]})]}),e.jsxs("td",{className:"px-4 py-2 text-center",children:[g.diMuon&&e.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded mr-1",children:"Mun"}),g.veSom&&e.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded",children:"Sm"}),!g.diMuon&&!g.veSom&&e.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded",children:"OK"})]})]},Q))})]}),F.chiTiet.length>100&&e.jsxs("div",{className:"px-4 py-2 bg-gray-50 text-center text-sm text-gray-500",children:["Hin th 100/",F.chiTiet.length," bn ghi"]})]})]}),F.loi.length>0&&e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-red-800 mb-2",children:[" Li (",F.loi.length,")"]}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1 list-disc ml-5",children:F.loi.map((g,Q)=>e.jsx("li",{children:g},Q))})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:" Hng dn:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc ml-5",children:[e.jsx("li",{children:"Upload file CSV xut t my chm cng (Access Controller)"}),e.jsxs("li",{children:["Format: Tn ring, H, ",e.jsx("strong",{children:"ID (m NV)"}),", B phn, ",e.jsx("strong",{children:"Ngy"}),", ",e.jsx("strong",{children:"Thi gian"}),", ..."]}),e.jsx("li",{children:"H thng t ng nhn din gi vo (qut u bui sng) v gi ra (qut cui bui chiu)"}),e.jsx("li",{children:"So snh vi gi chun (cu hnh trong tab Cu hnh pht)  xc nh i mun/v sm"}),e.jsx("li",{children:"D liu s c tng hp theo thng v lu vo h thng"})]})]})]}),s==="cau-hinh"&&j&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("label",{className:"font-medium",children:"Nm p dng:"}),e.jsx("select",{value:c,onChange:g=>d(Number(g.target.value)),className:"border rounded-lg px-3 py-2",children:[2024,2025,2026,2027].map(g=>e.jsx("option",{value:g,children:g},g))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Wa,{className:"text-orange-500",size:20}),"Pht i mun (theo thng)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"i mun 1-3 ln"}),e.jsx("input",{type:"number",value:Number(j.phatDiMuon1_3Lan),onChange:g=>S({...j,phatDiMuon1_3Lan:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"i mun 4-6 ln"}),e.jsx("input",{type:"number",value:Number(j.phatDiMuon4_6Lan),onChange:g=>S({...j,phatDiMuon4_6Lan:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"i mun trn 6 ln"}),e.jsx("input",{type:"number",value:Number(j.phatDiMuonTren6Lan),onChange:g=>S({...j,phatDiMuonTren6Lan:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Wa,{className:"text-orange-500",size:20}),"Pht v sm (theo thng)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"V sm 1-3 ln"}),e.jsx("input",{type:"number",value:Number(j.phatVeSom1_3Lan),onChange:g=>S({...j,phatVeSom1_3Lan:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"V sm 4-6 ln"}),e.jsx("input",{type:"number",value:Number(j.phatVeSom4_6Lan),onChange:g=>S({...j,phatVeSom4_6Lan:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"V sm trn 6 ln"}),e.jsx("input",{type:"number",value:Number(j.phatVeSomTren6Lan),onChange:g=>S({...j,phatVeSomTren6Lan:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Wa,{className:"text-red-500",size:20}),"Ngh khng php"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Tin pht mi ngy (VN)"}),e.jsx("input",{type:"number",value:Number(j.phatNghiKhongPhep),onChange:g=>S({...j,phatNghiKhongPhep:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"truLuong",checked:j.truLuongNghiKhongPhep,onChange:g=>S({...j,truLuongNghiKhongPhep:g.target.checked}),className:"rounded"}),e.jsx("label",{htmlFor:"truLuong",className:"text-sm text-gray-700",children:"Tr thm lng theo ngy cng (Lng / Cng chun  S ngy ngh)"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Xa,{className:"text-blue-500",size:20}),"Gi lm vic chun"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Gi vo"}),e.jsx("input",{type:"time",value:j.gioVaoChuan,onChange:g=>S({...j,gioVaoChuan:g.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Gi ra"}),e.jsx("input",{type:"time",value:j.gioRaChuan,onChange:g=>S({...j,gioRaChuan:g.target.value}),className:"w-full border rounded-lg px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"S pht c php tr"}),e.jsx("input",{type:"number",value:j.phutChoPhepTre,onChange:g=>S({...j,phutChoPhepTre:Number(g.target.value)}),className:"w-full border rounded-lg px-3 py-2"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nhn vin n tr trong khong thi gian ny khng b tnh i mun"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white hover:bg-primary-700 rounded-lg",children:[e.jsx(Xr,{size:18}),"Lu cu hnh"]})}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:" Cch tnh tin pht:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc ml-5",children:[e.jsx("li",{children:"Pht i mun: Tnh theo s ln i mun trong thng (1-3, 4-6, hoc >6 ln)"}),e.jsx("li",{children:"Pht v sm: Tnh theo s ln v sm trong thng"}),e.jsx("li",{children:"Pht ngh khng php: Tin pht  S ngy ngh"}),e.jsx("li",{children:"Tr lng: (Lng c bn  Cng chun)  S ngy ngh khng php"}),e.jsx("li",{children:"Tng pht = Pht i mun + Pht v sm + Pht ngh KP + Tr lng"})]})]})]})]})}function $1(){const s=Nn(),[r,l]=b.useState(""),[i,c]=b.useState(!1),[d,h]=b.useState(null),[p,f]=b.useState({maPhongBan:"",tenPhongBan:"",moTa:"",gioVaoChuan:"08:00",gioRaChuan:"17:00",phutChoPhepTre:5}),{data:v,isLoading:N}=Xe({queryKey:["phong-ban"],queryFn:ln.layTatCa}),{data:y}=Xe({queryKey:["nhan-vien"],queryFn:()=>Fn.layTatCa({})}),j=Array.isArray(y)?y:(y==null?void 0:y.data)||[],S=M=>(j==null?void 0:j.filter(F=>F.phongBanId===M).length)||0,w=Ae({mutationFn:ln.taoMoi,onSuccess:()=>{s.invalidateQueries({queryKey:["phong-ban"]}),C()}}),D=Ae({mutationFn:({id:M,data:F})=>ln.capNhat(M,F),onSuccess:()=>{s.invalidateQueries({queryKey:["phong-ban"]}),C()}}),E=Ae({mutationFn:ln.xoa,onSuccess:()=>{s.invalidateQueries({queryKey:["phong-ban"]})}}),T=v==null?void 0:v.filter(M=>M.tenPhongBan.toLowerCase().includes(r.toLowerCase())||M.maPhongBan.toLowerCase().includes(r.toLowerCase())),_=()=>{h(null),f({maPhongBan:"",tenPhongBan:"",moTa:"",gioVaoChuan:"08:00",gioRaChuan:"17:00",phutChoPhepTre:5}),c(!0)},P=M=>{h(M),f({maPhongBan:M.maPhongBan,tenPhongBan:M.tenPhongBan,moTa:M.moTa||"",gioVaoChuan:M.gioVaoChuan||"08:00",gioRaChuan:M.gioRaChuan||"17:00",phutChoPhepTre:M.phutChoPhepTre??5}),c(!0)},C=()=>{c(!1),h(null),f({maPhongBan:"",tenPhongBan:"",moTa:"",gioVaoChuan:"08:00",gioRaChuan:"17:00",phutChoPhepTre:5})},H=M=>{if(M.preventDefault(),!p.maPhongBan.trim()||!p.tenPhongBan.trim()){alert("Vui lng nhp m v tn phng ban");return}d?D.mutate({id:d.id,data:p}):w.mutate(p)},W=M=>{const F=S(M.id);if(F>0){alert(`Khng th xa phng ban ny v ang c ${F} nhn vin. Vui lng chuyn nhn vin sang phng ban khc trc.`);return}confirm(`Bn c chc mun xa phng ban "${M.tenPhongBan}"?`)&&E.mutate(M.id)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Gi,{className:"w-8 h-8 text-primary-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l Phng ban"}),e.jsx("p",{className:"text-gray-500",children:"Qun l c cu t chc cng ty"})]})]}),e.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[e.jsx(ws,{size:20}),"Thm phng ban"]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(od,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Tm kim phng ban...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",value:r,onChange:M=>l(M.target.value)})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:N?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"ang ti..."}):(T==null?void 0:T.length)===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Khng c phng ban no"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn phng ban"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Xa,{size:14}),"Gi lm vic"]})}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cho php tr"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nhn vin"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:T==null?void 0:T.map(M=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:M.maPhongBan})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"font-medium text-gray-900",children:M.tenPhongBan}),M.moTa&&e.jsx("div",{className:"text-xs text-gray-500",children:M.moTa})]}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg text-sm font-medium bg-indigo-50 text-indigo-700",children:[e.jsx(Xa,{size:14}),M.gioVaoChuan||"08:00"," - ",M.gioRaChuan||"17:00"]})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[M.phutChoPhepTre??5," pht"]})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Yr,{size:14}),S(M.id)]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>P(M),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Sa",children:e.jsx(nl,{size:18})}),e.jsx("button",{onClick:()=>W(M),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Xa",disabled:E.isPending,children:e.jsx(tr,{size:18})})]})})]},M.id))})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Tng s phng ban"}),e.jsx("div",{className:"text-3xl font-bold text-primary-600 mt-1",children:(v==null?void 0:v.length)||0})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Tng s nhn vin"}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mt-1",children:(j==null?void 0:j.length)||0})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Trung bnh NV/Phng"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mt-1",children:(v==null?void 0:v.length)>0?Math.round(((j==null?void 0:j.length)||0)/v.length):0})]})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Cp nht phng ban":"Thm phng ban mi"}),e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["M phng ban ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.maPhongBan,onChange:M=>f({...p,maPhongBan:M.target.value.toUpperCase()}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"VD: HR, IT..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn phng ban ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:p.tenPhongBan,onChange:M=>f({...p,tenPhongBan:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"VD: Phng Nhn s..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),e.jsx("textarea",{value:p.moTa,onChange:M=>f({...p,moTa:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",rows:2,placeholder:"M t v phng ban..."})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Xa,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Gi lm vic"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi vo"}),e.jsx("input",{type:"time",value:p.gioVaoChuan,onChange:M=>f({...p,gioVaoChuan:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi ra"}),e.jsx("input",{type:"time",value:p.gioRaChuan,onChange:M=>f({...p,gioRaChuan:M.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cho php tr"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",max:"60",value:p.phutChoPhepTre,onChange:M=>f({...p,phutChoPhepTre:Number(M.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 pr-12"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"pht"})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Nhn vin c php n mun trong khong thi gian cho php m khng b tnh l i tr."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsx("button",{type:"submit",disabled:w.isPending||D.isPending,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:w.isPending||D.isPending?"ang lu...":d?"Cp nht":"Thm mi"})]})]})]})})]})}const ki={LUONG_THANG_CO_DINH:{label:"C nh theo thng",desc:"Nhn  s tin mi thng, khng ph thuc ngy cng"},THEO_NGAY_CONG:{label:"Theo ngy cng",desc:"Tnh theo cng thc: S tin  (Ngy cng thc t / Ngy cng l thuyt)"},CHUYEN_CAN_DIEU_KIEN:{label:"Chuyn cn c iu kin",desc:"Nhn  nu ngh khng php  2 ngy, mt ht nu > 2 ngy"}};function q1(){var de;const[s,r]=b.useState("phucap"),l=Nn(),[i,c]=b.useState(!1),[d,h]=b.useState(null),[p,f]=b.useState(""),[v,N]=b.useState({maKhoan:"",tenKhoan:"",loai:"THU_NHAP",cachTinh:"LUONG_THANG_CO_DINH",chiuThue:!1,moTa:"",thuTu:0}),{data:y,isLoading:j}=Xe({queryKey:["khoan-luong"],queryFn:()=>Wt.layTatCa()}),S=(y==null?void 0:y.filter($=>p===""||$.loai===p))||[],w=Ae({mutationFn:Wt.taoMoi,onSuccess:()=>{l.invalidateQueries({queryKey:["khoan-luong"]}),ie.success("To ph cp thnh cng!"),T()},onError:$=>{var oe,K;ie.error(((K=(oe=$.response)==null?void 0:oe.data)==null?void 0:K.message)||"C li xy ra")}}),D=Ae({mutationFn:({id:$,data:oe})=>Wt.capNhat($,oe),onSuccess:()=>{l.invalidateQueries({queryKey:["khoan-luong"]}),ie.success("Cp nht ph cp thnh cng!"),T()},onError:$=>{var oe,K;ie.error(((K=(oe=$.response)==null?void 0:oe.data)==null?void 0:K.message)||"C li xy ra")}}),E=Ae({mutationFn:Wt.xoa,onSuccess:()=>{l.invalidateQueries({queryKey:["khoan-luong"]}),ie.success("Xa ph cp thnh cng!")},onError:$=>{var oe,K;ie.error(((K=(oe=$.response)==null?void 0:oe.data)==null?void 0:K.message)||"C li xy ra")}}),T=()=>{c(!1),h(null),N({maKhoan:"",tenKhoan:"",loai:"THU_NHAP",cachTinh:"LUONG_THANG_CO_DINH",chiuThue:!1,moTa:"",thuTu:0})},_=$=>{h($),N({maKhoan:$.maKhoan,tenKhoan:$.tenKhoan,loai:$.loai,cachTinh:$.cachTinh||"LUONG_THANG_CO_DINH",chiuThue:$.chiuThue,moTa:$.moTa||"",thuTu:$.thuTu}),c(!0)},P=()=>{if(!v.maKhoan||!v.tenKhoan){ie.error("Vui lng in m v tn ph cp");return}d?D.mutate({id:d.id,data:v}):w.mutate(v)},C=$=>{confirm(`Bn c chc mun xa ph cp "${$.tenKhoan}"?`)&&E.mutate($.id)},[H,W]=b.useState({nam:new Date().getFullYear(),tyLeBHXH_NV:8,tyLeBHYT_NV:1.5,tyLeBHTN_NV:1,tyLeBHXH_DN:17.5,tyLeBHYT_DN:3,tyLeBHTN_DN:1,tyLeBHXH_KPCCD_NV:.5,tyLeBHXH_KPCCD_DN:1,mucLuongCoSo:18e5,mucLuongToiThieu:496e4}),{data:M,isLoading:F}=Xe({queryKey:["thong-tin-cong-ty"],queryFn:lf.lay}),[se,U]=b.useState({tenCongTy:"",maSoThue:"",diaChi:"",dienThoai:"",email:"",website:"",nguoiDaiDien:"",chucVuDaiDien:""});b.useEffect(()=>{M&&U(M)},[M]);const Y=Ae({mutationFn:lf.capNhat,onSuccess:()=>{l.invalidateQueries({queryKey:["thong-tin-cong-ty"]}),ie.success("Cp nht thng tin cng ty thnh cng!")},onError:()=>{ie.error("C li khi cp nht thng tin cng ty")}}),pe=async $=>{$.preventDefault(),ie.success("Lu cu hnh BHXH/Thu thnh cng!")},J=async $=>{$.preventDefault(),await Y.mutateAsync(se)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Jr,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ci t h thng"}),e.jsx("p",{className:"text-gray-600",children:"Qun l cu hnh BHXH, thu v thng tin cng ty"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"border-b",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>r("phucap"),className:`px-4 py-3 font-medium border-b-2 transition-colors ${s==="phucap"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(UN,{className:"w-4 h-4"}),"Ph cp & Khon lng"]})}),e.jsx("button",{onClick:()=>r("bhxh"),className:`px-4 py-3 font-medium border-b-2 transition-colors ${s==="bhxh"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ad,{className:"w-4 h-4"}),"BHXH / Thu"]})}),e.jsx("button",{onClick:()=>r("congty"),className:`px-4 py-3 font-medium border-b-2 transition-colors ${s==="congty"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gi,{className:"w-4 h-4"}),"Thng tin cng ty"]})})]})}),e.jsxs("div",{className:"p-6",children:[s==="phucap"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Danh sch Ph cp & Khon lng"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cu hnh cc khon ph cp, thu nhp, khu tr p dng cho nhn vin"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary",children:[e.jsx(ws,{size:18}),"Thm mi"]})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("select",{value:p,onChange:$=>f($.target.value),className:"border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Tt c loi"}),e.jsx("option",{value:"THU_NHAP",children:"Thu nhp"}),e.jsx("option",{value:"KHAU_TRU",children:"Khu tr"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Tng: ",S.length," khon"]})]}),j?e.jsx("div",{className:"text-center py-8",children:e.jsx(Ft,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"})}):e.jsx("div",{className:"overflow-x-auto border rounded-lg",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"M"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Tn khon"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Loi"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Cch tnh"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Chu thu"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Th t"}),e.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-600",children:"Thao tc"})]})}),e.jsx("tbody",{children:S.map($=>{var oe;return e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:$.maKhoan}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:$.tenKhoan}),$.moTa&&e.jsx("div",{className:"text-xs text-gray-500",children:$.moTa})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$.loai==="THU_NHAP"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:$.loai==="THU_NHAP"?"Thu nhp":"Khu tr"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm",children:((oe=ki[$.cachTinh])==null?void 0:oe.label)||$.cachTinh})}),e.jsx("td",{className:"py-3 px-4 text-center",children:$.chiuThue?e.jsx("span",{className:"text-green-600",children:""}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"py-3 px-4 text-center text-gray-500",children:$.thuTu}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>_($),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Sa",children:e.jsx(nl,{size:16})}),e.jsx("button",{onClick:()=>C($),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Xa",children:e.jsx(tr,{size:16})})]})})]},$.id)})})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Hng dn cch tnh lng"}),e.jsx("div",{className:"space-y-2 text-sm text-blue-800",children:Object.entries(ki).map(([$,oe])=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"font-medium min-w-[180px]",children:[oe.label,":"]}),e.jsx("span",{children:oe.desc})]},$))})]})]}),s==="bhxh"&&e.jsxs("form",{onSubmit:pe,className:"space-y-6 max-w-3xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cu hnh BHXH/BHYT/BHTN"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Nm p dng"})}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.nam,onChange:$=>W({...H,nam:Number($.target.value)})})]})}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"T l ng Nhn vin (%)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"BHXH"})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.tyLeBHXH_NV,onChange:$=>W({...H,tyLeBHXH_NV:Number($.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"BHYT"})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.tyLeBHYT_NV,onChange:$=>W({...H,tyLeBHYT_NV:Number($.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"BHTN"})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.tyLeBHTN_NV,onChange:$=>W({...H,tyLeBHTN_NV:Number($.target.value)})})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"T l ng Doanh nghip (%)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"BHXH"})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.tyLeBHXH_DN,onChange:$=>W({...H,tyLeBHXH_DN:Number($.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"BHYT"})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.tyLeBHYT_DN,onChange:$=>W({...H,tyLeBHYT_DN:Number($.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"BHTN"})}),e.jsx("input",{type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.tyLeBHTN_DN,onChange:$=>W({...H,tyLeBHTN_DN:Number($.target.value)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Mc lng c s (VN)"})}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.mucLuongCoSo,onChange:$=>W({...H,mucLuongCoSo:Number($.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Mc lng ti thiu vng (VN)"})}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:H.mucLuongToiThieu,onChange:$=>W({...H,mucLuongToiThieu:Number($.target.value)})})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg text-sm text-yellow-800",children:[e.jsx("strong",{children:"Lu :"})," Cc t l ny s c p dng cho tt c nhn vin khi tnh lng. Vui lng kim tra k trc khi lu."]})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsxs("button",{type:"submit",className:"btn btn-primary",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Lu cu hnh"]})})]}),s==="congty"&&e.jsx("form",{onSubmit:J,className:"space-y-6 max-w-3xl",children:F?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Ft,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Thng tin cng ty"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Tn cng ty *"})}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:se.tenCongTy||"",onChange:$=>U({...se,tenCongTy:$.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"M s thu"})}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:se.maSoThue||"",onChange:$=>U({...se,maSoThue:$.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"in thoi"})}),e.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:se.dienThoai||"",onChange:$=>U({...se,dienThoai:$.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"a ch"})}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",rows:2,value:se.diaChi||"",onChange:$=>U({...se,diaChi:$.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"Email"})}),e.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:se.email||"",onChange:$=>U({...se,email:$.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"Website"})}),e.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:se.website||"",onChange:$=>U({...se,website:$.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"Ngi i din"})}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:se.nguoiDaiDien||"",onChange:$=>U({...se,nguoiDaiDien:$.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"Chc v ngi i din"})}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:se.chucVuDaiDien||"",onChange:$=>U({...se,chucVuDaiDien:$.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:e.jsx("span",{className:"text-sm text-gray-700",children:"Logo (URL)"})}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",value:se.logo||"",onChange:$=>U({...se,logo:$.target.value}),placeholder:"https://example.com/logo.png"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Nhp URL ca logo cng ty (hin th trn phiu lng)"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg text-sm text-blue-800 mt-4",children:[e.jsx("strong",{children:"Lu :"})," Thng tin ny s c hin th trn cc phiu lng khi xut."]})]}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Y.isPending,children:Y.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"w-4 h-4 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4"}),"Lu thng tin"]})})})]})})]})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:d?"Sa khon ph cp":"Thm khon ph cp mi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"M khon *"}),e.jsx("input",{type:"text",value:v.maKhoan,onChange:$=>N({...v,maKhoan:$.target.value.toUpperCase()}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: PHU_CAP_AN_TRUA",disabled:!!d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Th t hin th"}),e.jsx("input",{type:"number",value:v.thuTu,onChange:$=>N({...v,thuTu:Number($.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tn khon *"}),e.jsx("input",{type:"text",value:v.tenKhoan,onChange:$=>N({...v,tenKhoan:$.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: Ph cp n tra"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi khon"}),e.jsxs("select",{value:v.loai,onChange:$=>N({...v,loai:$.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"THU_NHAP",children:"Thu nhp (cng vo lng)"}),e.jsx("option",{value:"KHAU_TRU",children:"Khu tr (tr khi lng)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Chu thu TNCN"}),e.jsxs("select",{value:v.chiuThue?"true":"false",onChange:$=>N({...v,chiuThue:$.target.value==="true"}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"false",children:"Khng chu thu"}),e.jsx("option",{value:"true",children:"C chu thu"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cch tnh lng"}),e.jsx("select",{value:v.cachTinh,onChange:$=>N({...v,cachTinh:$.target.value}),className:"w-full border rounded-lg px-3 py-2",children:Object.entries(ki).map(([$,oe])=>e.jsx("option",{value:$,children:oe.label},$))}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(de=ki[v.cachTinh])==null?void 0:de.desc})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"M t"}),e.jsx("textarea",{value:v.moTa,onChange:$=>N({...v,moTa:$.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2,placeholder:"Ghi ch v khon ph cp ny..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:T,className:"btn btn-secondary",children:"Hy"}),e.jsx("button",{onClick:P,disabled:w.isPending||D.isPending,className:"btn btn-primary",children:w.isPending||D.isPending?"ang lu...":"Lu"})]})]})})]})}function Q1(){const s=Cs(),{dangNhap:r,isAuthenticated:l}=md(),[i,c]=b.useState(""),[d,h]=b.useState(""),[p,f]=b.useState(!1),[v,N]=b.useState("");if(l)return s("/",{replace:!0}),null;const y=async j=>{var S,w;if(j.preventDefault(),N(""),!i||!d){N("Vui lng nhp tn ng nhp v mt khu");return}f(!0);try{await r(i,d),s("/",{replace:!0})}catch(D){N(((w=(S=D.response)==null?void 0:S.data)==null?void 0:w.message)||"ng nhp tht bi")}finally{f(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"H thng Tnh Lng"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"ng nhp  tip tc"})]}),v&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:v}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tenDangNhap",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ng nhp"}),e.jsx("input",{type:"text",id:"tenDangNhap",value:i,onChange:j=>c(j.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Nhp tn ng nhp",autoComplete:"username"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"matKhau",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu"}),e.jsx("input",{type:"password",id:"matKhau",value:d,onChange:j=>h(j.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Nhp mt khu",autoComplete:"current-password"})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition flex items-center justify-center",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang ng nhp..."]}):"ng nhp"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Ti khon mc nh: ",e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"admin"})," / ",e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"admin123"})]})})]})})}const G1="tinh_luong_auth",Lt=Ve.create({baseURL:"/api/kpi",headers:{"Content-Type":"application/json"}});Lt.interceptors.request.use(s=>{const r=localStorage.getItem(G1);if(r)try{const l=JSON.parse(r);l.token&&(s.headers.Authorization=`Bearer ${l.token}`)}catch{}return s},s=>Promise.reject(s));const Ar={layTatCa:s=>Lt.get("/template",{params:s}).then(r=>r.data),layTheoId:s=>Lt.get(`/template/${s}`).then(r=>r.data),taoMoi:s=>Lt.post("/template",s).then(r=>r.data),capNhat:(s,r)=>Lt.put(`/template/${s}`,r).then(l=>l.data),themChiTieu:(s,r)=>Lt.post(`/template/${s}/chi-tieu`,r).then(l=>l.data),xoaChiTieu:s=>Lt.delete(`/chi-tieu/${s}`).then(r=>r.data)},du={layTatCa:s=>Lt.get("/ky-danh-gia",{params:s}).then(r=>r.data),layTheoId:s=>Lt.get(`/ky-danh-gia/${s}`).then(r=>r.data),taoMoi:s=>Lt.post("/ky-danh-gia",s).then(r=>r.data),capNhatTrangThai:(s,r)=>Lt.put(`/ky-danh-gia/${s}/trang-thai`,{trangThai:r}).then(l=>l.data)},hu={layTheoNam:s=>Lt.get(`/cau-hinh-thuong/${s}`).then(r=>r.data),taoMoi:s=>Lt.post("/cau-hinh-thuong",s).then(r=>r.data),khoiTaoMacDinh:s=>Lt.post(`/cau-hinh-thuong/khoi-tao/${s}`).then(r=>r.data)};function W1(){var H,W;const[s,r]=b.useState([]),[l,i]=b.useState([]),[c,d]=b.useState(null),[h,p]=b.useState(!0),[f,v]=b.useState(!1),[N,y]=b.useState(!1),[j,S]=b.useState({maTemplate:"",tenTemplate:"",phongBanId:"",moTa:""}),[w,D]=b.useState({maChiTieu:"",tenChiTieu:"",donViTinh:"",trongSo:0,loaiChiTieu:"SO",chiTieuToiThieu:0,chiTieuMucTieu:0,chiTieuVuotMuc:0});b.useEffect(()=>{E()},[]);const E=async()=>{try{const[M,F]=await Promise.all([Ar.layTatCa(),ln.layTatCa()]);r(M),i(F)}catch(M){console.error("Li ti d liu:",M)}finally{p(!1)}},T=async M=>{M.preventDefault();try{await Ar.taoMoi({maTemplate:j.maTemplate,tenTemplate:j.tenTemplate,phongBanId:j.phongBanId?parseInt(j.phongBanId):void 0,moTa:j.moTa||void 0}),v(!1),S({maTemplate:"",tenTemplate:"",phongBanId:"",moTa:""}),E()}catch(F){console.error("Li to template:",F)}},_=async M=>{var F;if(M.preventDefault(),!!c)try{await Ar.themChiTieu(c.id,{...w,thuTu:(((F=c.chiTieuKPIs)==null?void 0:F.length)||0)+1}),y(!1),D({maChiTieu:"",tenChiTieu:"",donViTinh:"",trongSo:0,loaiChiTieu:"SO",chiTieuToiThieu:0,chiTieuMucTieu:0,chiTieuVuotMuc:0}),E();const se=await Ar.layTheoId(c.id);d(se)}catch(se){console.error("Li thm ch tiu:",se)}},P=async M=>{if(confirm("Xc nhn xa ch tiu ny?"))try{if(await Ar.xoaChiTieu(M),E(),c){const F=await Ar.layTheoId(c.id);d(F)}}catch(F){console.error("Li xa ch tiu:",F)}},C=M=>(M==null?void 0:M.reduce((F,se)=>F+Number(se.trongSo),0))||0;return h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l Template KPI"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Thit lp cc ch tiu nh gi KPI"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Thm Template"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h2",{className:"font-semibold text-gray-800",children:"Danh sch Template"})}),e.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:s.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cha c template no"}):s.map(M=>{var F;return e.jsx("div",{onClick:()=>d(M),className:`p-4 cursor-pointer hover:bg-gray-50 ${(c==null?void 0:c.id)===M.id?"bg-blue-50 border-l-4 border-blue-500":""}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:M.tenTemplate}),e.jsx("p",{className:"text-sm text-gray-500",children:M.maTemplate}),M.phongBan&&e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:M.phongBan.tenPhongBan})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[((F=M.chiTieuKPIs)==null?void 0:F.length)||0," ch tiu"]}),e.jsxs("div",{className:`text-xs mt-1 ${C(M.chiTieuKPIs)===100?"text-green-600":"text-amber-600"}`,children:["Tng: ",C(M.chiTieuKPIs),"%"]})]})]})},M.id)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-gray-800",children:c?c.tenTemplate:"Chi tit Template"}),c&&e.jsxs("button",{onClick:()=>y(!0),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Thm ch tiu"]})]}),c?e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"M:"})," ",c.maTemplate]}),c.moTa&&e.jsxs("p",{className:"text-sm mt-1",children:[e.jsx("span",{className:"font-medium",children:"M t:"})," ",c.moTa]}),e.jsxs("p",{className:`text-sm mt-1 ${C(c.chiTieuKPIs)===100?"text-green-600":"text-amber-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tng trng s:"})," ",C(c.chiTieuKPIs),"%",C(c.chiTieuKPIs)!==100&&" (cn = 100%)"]})]}),e.jsx("div",{className:"space-y-3",children:((H=c.chiTieuKPIs)==null?void 0:H.length)===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Cha c ch tiu"}):(W=c.chiTieuKPIs)==null?void 0:W.map(M=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:M.tenChiTieu}),e.jsx("p",{className:"text-sm text-gray-500",children:M.maChiTieu})]}),e.jsx("button",{onClick:()=>P(M.id),className:"text-red-500 hover:text-red-700",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Trng s:"})," ",M.trongSo,"%"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"n v:"})," ",M.donViTinh]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Loi:"})," ",M.loaiChiTieu]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Mc tiu:"})," ",Number(M.chiTieuMucTieu).toLocaleString()]})]})]},M.id))})]}):e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Chn mt template  xem chi tit"})]})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Thm Template KPI"}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M template *"}),e.jsx("input",{type:"text",value:j.maTemplate,onChange:M=>S({...j,maTemplate:M.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn template *"}),e.jsx("input",{type:"text",value:j.tenTemplate,onChange:M=>S({...j,tenTemplate:M.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phng ban"}),e.jsxs("select",{value:j.phongBanId,onChange:M=>S({...j,phongBanId:M.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"-- p dng chung --"}),l.map(M=>e.jsx("option",{value:M.id,children:M.tenPhongBan},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),e.jsx("textarea",{value:j.moTa,onChange:M=>S({...j,moTa:M.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"To"})]})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Thm Ch tiu KPI"}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M ch tiu *"}),e.jsx("input",{type:"text",value:w.maChiTieu,onChange:M=>D({...w,maChiTieu:M.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn ch tiu *"}),e.jsx("input",{type:"text",value:w.tenChiTieu,onChange:M=>D({...w,tenChiTieu:M.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"n v *"}),e.jsx("input",{type:"text",value:w.donViTinh,onChange:M=>D({...w,donViTinh:M.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VN, %, S...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng s (%) *"}),e.jsx("input",{type:"number",value:w.trongSo,onChange:M=>D({...w,trongSo:Number(M.target.value)}),className:"w-full border rounded-lg px-3 py-2",min:0,max:100,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi *"}),e.jsxs("select",{value:w.loaiChiTieu,onChange:M=>D({...w,loaiChiTieu:M.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[e.jsx("option",{value:"SO",children:"S lng"}),e.jsx("option",{value:"PHAN_TRAM",children:"Phn trm"}),e.jsx("option",{value:"TIEN",children:"Tin"}),e.jsx("option",{value:"DANH_GIA",children:"nh gi (1-5)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ti thiu"}),e.jsx("input",{type:"number",value:w.chiTieuToiThieu,onChange:M=>D({...w,chiTieuToiThieu:Number(M.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mc tiu"}),e.jsx("input",{type:"number",value:w.chiTieuMucTieu,onChange:M=>D({...w,chiTieuMucTieu:Number(M.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vt mc"}),e.jsx("input",{type:"number",value:w.chiTieuVuotMuc,onChange:M=>D({...w,chiTieuVuotMuc:Number(M.target.value)}),className:"w-full border rounded-lg px-3 py-2"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Thm"})]})]})]})})]})}const X1={THANG:"Thng",QUY:"Qu",NAM:"Nm"},gf={CHUA_BAT_DAU:{label:"Cha bt u",color:"bg-gray-100 text-gray-600"},DANG_DIEN_RA:{label:"ang din ra",color:"bg-green-100 text-green-700"},DA_KET_THUC:{label:" kt thc",color:"bg-blue-100 text-blue-700"},DA_DONG:{label:" ng",color:"bg-red-100 text-red-700"}};function J1(){const[s,r]=b.useState([]),[l,i]=b.useState(!0),[c,d]=b.useState(!1),[h,p]=b.useState(new Date().getFullYear()),[f,v]=b.useState({maKy:"",tenKy:"",loaiKy:"THANG",tuNgay:"",denNgay:"",moTa:""});b.useEffect(()=>{N()},[h]);const N=async()=>{i(!0);try{const w=await du.layTatCa({nam:h});r(w)}catch(w){console.error("Li ti d liu:",w)}finally{i(!1)}},y=async w=>{w.preventDefault();try{await du.taoMoi({...f,moTa:f.moTa||void 0}),d(!1),v({maKy:"",tenKy:"",loaiKy:"THANG",tuNgay:"",denNgay:"",moTa:""}),N()}catch(D){console.error("Li to k nh gi:",D)}},j=async(w,D)=>{try{await du.capNhatTrangThai(w,D),N()}catch(E){console.error("Li cp nht trng thi:",E)}},S=w=>new Date(w).toLocaleDateString("vi-VN");return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"K nh Gi KPI"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Qun l cc k nh gi hiu sut"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("select",{value:h,onChange:w=>p(Number(w.target.value)),className:"border rounded-lg px-3 py-2",children:[2024,2025,2026,2027].map(w=>e.jsxs("option",{value:w,children:["Nm ",w]},w))}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Thm K nh Gi"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"M k"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tn k"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Loi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Thi gian"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"S nh gi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Thao tc"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:["Cha c k nh gi no trong nm ",h]})}):s.map(w=>{var D;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"font-mono text-sm text-gray-900",children:w.maKy})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.tenKy}),w.moTa&&e.jsx("div",{className:"text-xs text-gray-500",children:w.moTa})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded",children:X1[w.loaiKy]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[S(w.tuNgay)," - ",S(w.denNgay)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded ${gf[w.trangThai].color}`,children:gf[w.trangThai].label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((D=w._count)==null?void 0:D.danhGias)||0}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex gap-2",children:[w.trangThai==="CHUA_BAT_DAU"&&e.jsx("button",{onClick:()=>j(w.id,"DANG_DIEN_RA"),className:"text-green-600 hover:text-green-800",children:"Bt u"}),w.trangThai==="DANG_DIEN_RA"&&e.jsx("button",{onClick:()=>j(w.id,"DA_KET_THUC"),className:"text-blue-600 hover:text-blue-800",children:"Kt thc"}),w.trangThai==="DA_KET_THUC"&&e.jsx("button",{onClick:()=>j(w.id,"DA_DONG"),className:"text-red-600 hover:text-red-800",children:"ng"}),e.jsx("a",{href:`/kpi/ky-danh-gia/${w.id}`,className:"text-indigo-600 hover:text-indigo-800",children:"Chi tit"})]})})]},w.id)})})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Thm K nh Gi"}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M k *"}),e.jsx("input",{type:"text",value:f.maKy,onChange:w=>v({...f,maKy:w.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: KPI-2026-Q1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi k *"}),e.jsxs("select",{value:f.loaiKy,onChange:w=>v({...f,loaiKy:w.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[e.jsx("option",{value:"THANG",children:"Thng"}),e.jsx("option",{value:"QUY",children:"Qu"}),e.jsx("option",{value:"NAM",children:"Nm"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn k *"}),e.jsx("input",{type:"text",value:f.tenKy,onChange:w=>v({...f,tenKy:w.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: nh gi KPI Qu 1/2026",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T ngy *"}),e.jsx("input",{type:"date",value:f.tuNgay,onChange:w=>v({...f,tuNgay:w.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"n ngy *"}),e.jsx("input",{type:"date",value:f.denNgay,onChange:w=>v({...f,denNgay:w.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),e.jsx("textarea",{value:f.moTa,onChange:w=>v({...f,moTa:w.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"To"})]})]})]})})]})}const mu={XUAT_SAC:{label:"Xut sc",color:"bg-purple-100 text-purple-700"},TOT:{label:"Tt",color:"bg-green-100 text-green-700"},KHA:{label:"Kh",color:"bg-blue-100 text-blue-700"},TRUNG_BINH:{label:"Trung bnh",color:"bg-yellow-100 text-yellow-700"},YEU:{label:"Yu",color:"bg-red-100 text-red-700"}};function Y1(){const[s,r]=b.useState([]),[l,i]=b.useState(!0),[c,d]=b.useState(new Date().getFullYear()),[h,p]=b.useState(!1),[f,v]=b.useState({xepLoai:"TOT",diemToiThieu:0,diemToiDa:100,heSoThuong:1,moTa:""});b.useEffect(()=>{N()},[c]);const N=async()=>{i(!0);try{const S=await hu.layTheoNam(c);r(S)}catch(S){console.error("Li ti d liu:",S)}finally{i(!1)}},y=async()=>{if(confirm(`Khi to cu hnh thng mc nh cho nm ${c}?`))try{await hu.khoiTaoMacDinh(c),N()}catch(S){console.error("Li khi to:",S)}},j=async S=>{S.preventDefault();try{await hu.taoMoi({nam:c,...f,moTa:f.moTa||void 0}),p(!1),N()}catch(w){console.error("Li to cu hnh:",w)}};return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cu hnh Thng KPI"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Thit lp h s thng theo mc xp loi"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("select",{value:c,onChange:S=>d(Number(S.target.value)),className:"border rounded-lg px-3 py-2",children:[2024,2025,2026,2027].map(S=>e.jsxs("option",{value:S,children:["Nm ",S]},S))}),e.jsx("button",{onClick:y,className:"border border-blue-600 text-blue-600 hover:bg-blue-50 px-4 py-2 rounded-lg",children:"Khi to mc nh"}),e.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Thm Cu hnh"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Xp loi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"im ti thiu"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"im ti a"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"H s thng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"M t"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:[e.jsxs("p",{children:["Cha c cu hnh thng cho nm ",c]}),e.jsx("button",{onClick:y,className:"mt-4 text-blue-600 hover:text-blue-700 underline",children:"Khi to cu hnh mc nh"})]})}):s.map(S=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-sm rounded-full font-medium ${mu[S.xepLoai].color}`,children:mu[S.xepLoai].label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-gray-900 font-mono",children:[Number(S.diemToiThieu).toFixed(1),"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-gray-900 font-mono",children:[Number(S.diemToiDa).toFixed(2),"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:[Number(S.heSoThuong),"x"]}),e.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"lng c bn"})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-gray-600 text-sm",children:S.moTa||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded ${S.trangThai?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:S.trangThai?"Hot ng":"Ngng"})})]},S.id))})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:" Cng thc tnh thng KPI"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-blue-700",children:[e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"Tin thng = Lng c bn  H s thng"})}),e.jsx("p",{className:"mt-2",children:'V d: Nhn vin lng 15,000,000, xp loi "Tt" (h s 1.5x)'}),e.jsxs("p",{children:[" Thng = 15,000,000  1.5 = ",e.jsx("strong",{children:"22,500,000"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"im KPI c tnh t:"})}),e.jsxs("ul",{className:"list-disc ml-4 mt-2",children:[e.jsx("li",{children:"Tng im =  (im ch tiu  Trng s)"}),e.jsx("li",{children:"im ch tiu = (Kt qu / Mc tiu)  100"}),e.jsx("li",{children:"Ti a 150% nu vt mc"})]})]})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Thm Cu hnh Thng"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Xp loi *"}),e.jsx("select",{value:f.xepLoai,onChange:S=>v({...f,xepLoai:S.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:Object.entries(mu).map(([S,{label:w}])=>e.jsx("option",{value:S,children:w},S))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"im ti thiu *"}),e.jsx("input",{type:"number",step:"0.01",value:f.diemToiThieu,onChange:S=>v({...f,diemToiThieu:Number(S.target.value)}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"im ti a *"}),e.jsx("input",{type:"number",step:"0.01",value:f.diemToiDa,onChange:S=>v({...f,diemToiDa:Number(S.target.value)}),className:"w-full border rounded-lg px-3 py-2",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H s thng *"}),e.jsx("input",{type:"number",step:"0.1",value:f.heSoThuong,onChange:S=>v({...f,heSoThuong:Number(S.target.value)}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),e.jsx("input",{type:"text",value:f.moTa,onChange:S=>v({...f,moTa:S.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"To"})]})]})]})})]})}const xf={HOAT_DONG:{label:"Hot ng",color:"bg-green-100 text-green-700"},TAM_KHOA:{label:"Tm kha",color:"bg-yellow-100 text-yellow-700"},NGUNG_HOAT_DONG:{label:"Ngng",color:"bg-red-100 text-red-700"}};function Z1(){const[s,r]=b.useState([]),[l,i]=b.useState([]),[c,d]=b.useState(!0),[h,p]=b.useState(!1),[f,v]=b.useState("nguoi-dung"),[N,y]=b.useState({tenDangNhap:"",matKhau:"",hoTen:"",email:"",soDienThoai:"",vaiTroIds:[]}),[j,S]=b.useState({maVaiTro:"",tenVaiTro:"",moTa:"",capDo:50});b.useEffect(()=>{w()},[]);const w=async()=>{try{const[C,H]=await Promise.all([iu.layTatCa(),rf.layTatCa()]);r(C),i(H)}catch(C){console.error("Li ti d liu:",C)}finally{d(!1)}},D=async C=>{C.preventDefault();try{await iu.taoMoi({tenDangNhap:N.tenDangNhap,matKhau:N.matKhau,hoTen:N.hoTen,email:N.email,soDienThoai:N.soDienThoai||void 0,vaiTroIds:N.vaiTroIds}),p(!1),y({tenDangNhap:"",matKhau:"",hoTen:"",email:"",soDienThoai:"",vaiTroIds:[]}),w()}catch(H){console.error("Li to ngi dng:",H)}},E=async C=>{C.preventDefault();try{await rf.taoMoi({maVaiTro:j.maVaiTro,tenVaiTro:j.tenVaiTro,moTa:j.moTa||void 0,capDo:j.capDo}),p(!1),S({maVaiTro:"",tenVaiTro:"",moTa:"",capDo:50}),w()}catch(H){console.error("Li to vai tr:",H)}},T=async(C,H)=>{try{await iu.capNhat(C,{trangThai:H}),w()}catch(W){console.error("Li cp nht:",W)}},_=C=>{y(H=>({...H,vaiTroIds:H.vaiTroIds.includes(C)?H.vaiTroIds.filter(W=>W!==C):[...H.vaiTroIds,C]}))},P=C=>C?new Date(C).toLocaleString("vi-VN"):"-";return c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l Ngi dng & Vai tr"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Phn quyn truy cp h thng"})]}),e.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),f==="nguoi-dung"?"Thm Ngi dng":"Thm Vai tr"]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex gap-6",children:[e.jsxs("button",{onClick:()=>v("nguoi-dung"),className:`py-3 px-1 border-b-2 font-medium text-sm ${f==="nguoi-dung"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Ngi dng (",s.length,")"]}),e.jsxs("button",{onClick:()=>v("vai-tro"),className:`py-3 px-1 border-b-2 font-medium text-sm ${f==="vai-tro"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Vai tr (",l.length,")"]})]})}),f==="nguoi-dung"?e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ngi dng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vai tr"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ng nhp cui"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Thao tc"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(C=>{var H,W,M;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:C.hoTen.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:C.hoTen}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",C.tenDangNhap]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:C.email}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:((H=C.vaiTros)==null?void 0:H.map(F=>e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded",children:F.vaiTro.tenVaiTro},F.id)))||e.jsx("span",{className:"text-gray-400 text-sm",children:"Cha gn"})})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:P(C.lanDangNhapCuoi)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded ${((W=xf[C.trangThai])==null?void 0:W.color)||"bg-gray-100"}`,children:((M=xf[C.trangThai])==null?void 0:M.label)||C.trangThai})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("div",{className:"flex gap-2",children:[C.trangThai==="HOAT_DONG"&&e.jsx("button",{onClick:()=>T(C.id,"TAM_KHOA"),className:"text-yellow-600 hover:text-yellow-800",children:"Kha"}),C.trangThai==="TAM_KHOA"&&e.jsx("button",{onClick:()=>T(C.id,"HOAT_DONG"),className:"text-green-600 hover:text-green-800",children:"M kha"})]})})]},C.id)})})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.map(C=>{var H,W,M,F,se;return e.jsxs("div",{className:"bg-white rounded-lg shadow p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:C.tenVaiTro}),e.jsx("p",{className:"text-sm text-gray-500 font-mono",children:C.maVaiTro})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded ${C.trangThai?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:C.trangThai?"Hot ng":"Ngng"})]}),C.moTa&&e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.moTa}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:["Cp : ",C.capDo]}),e.jsxs("span",{className:"text-indigo-600",children:[((H=C._count)==null?void 0:H.nguoiDungs)||0," ngi dng"]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Quyn (",((W=C.quyens)==null?void 0:W.length)||0,"):"]}),e.jsxs("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:[(M=C.quyens)==null?void 0:M.slice(0,8).map(U=>e.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:U.quyen.tenQuyen},U.id)),(((F=C.quyens)==null?void 0:F.length)||0)>8&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-700 text-xs rounded",children:["+",(((se=C.quyens)==null?void 0:se.length)||0)-8," quyn"]})]})]})]},C.id)})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:f==="nguoi-dung"?"Thm Ngi dng":"Thm Vai tr"}),f==="nguoi-dung"?e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn ng nhp *"}),e.jsx("input",{type:"text",value:N.tenDangNhap,onChange:C=>y({...N,tenDangNhap:C.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mt khu *"}),e.jsx("input",{type:"password",value:N.matKhau,onChange:C=>y({...N,matKhau:C.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H tn *"}),e.jsx("input",{type:"text",value:N.hoTen,onChange:C=>y({...N,hoTen:C.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",value:N.email,onChange:C=>y({...N,email:C.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vai tr"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:l.map(C=>e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:N.vaiTroIds.includes(C.id),onChange:()=>_(C.id),className:"rounded"}),e.jsx("span",{className:"text-sm",children:C.tenVaiTro})]},C.id))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 border rounded-lg",children:"Hy"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"To"})]})]}):e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M vai tr *"}),e.jsx("input",{type:"text",value:j.maVaiTro,onChange:C=>S({...j,maVaiTro:C.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: SUPERVISOR",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn vai tr *"}),e.jsx("input",{type:"text",value:j.tenVaiTro,onChange:C=>S({...j,tenVaiTro:C.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cp "}),e.jsx("input",{type:"number",value:j.capDo,onChange:C=>S({...j,capDo:Number(C.target.value)}),className:"w-full border rounded-lg px-3 py-2",min:1,max:100})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),e.jsx("textarea",{value:j.moTa,onChange:C=>S({...j,moTa:C.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 border rounded-lg",children:"Hy"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"To"})]})]})]})})]})}const pu={TAO:{label:"To mi",color:"bg-green-100 text-green-700",icon:""},SUA:{label:"Cp nht",color:"bg-blue-100 text-blue-700",icon:""},XOA:{label:"Xa",color:"bg-red-100 text-red-700",icon:""},XEM:{label:"Xem",color:"bg-gray-100 text-gray-700",icon:""},DANG_NHAP:{label:"ng nhp",color:"bg-indigo-100 text-indigo-700",icon:""},DANG_XUAT:{label:"ng xut",color:"bg-purple-100 text-purple-700",icon:""},CHOT:{label:"Cht",color:"bg-yellow-100 text-yellow-700",icon:""},MO_KHOA:{label:"M kha",color:"bg-cyan-100 text-cyan-700",icon:""},DUYET:{label:"Duyt",color:"bg-emerald-100 text-emerald-700",icon:""},TU_CHOI:{label:"T chi",color:"bg-orange-100 text-orange-700",icon:""}};function e2(){var T,_;const[s,r]=b.useState([]),[l,i]=b.useState(!0),[c,d]=b.useState(null),[h,p]=b.useState(""),[f,v]=b.useState(""),[N,y]=b.useState(""),[j,S]=b.useState("");b.useEffect(()=>{w()},[h,f,N,j]);const w=async()=>{i(!0);try{const P=await Dj.layDanhSach({hanhDong:h||void 0,bangDuLieu:f||void 0,tuNgay:N||void 0,denNgay:j||void 0}),C=Array.isArray(P)?P:(P==null?void 0:P.items)||[];r(C)}catch(P){console.error("Li ti d liu:",P)}finally{i(!1)}},D=P=>new Date(P).toLocaleString("vi-VN"),E=P=>P?JSON.stringify(P,null,2):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Log"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Lch s thao tc trn h thng"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hnh ng"}),e.jsxs("select",{value:h,onChange:P=>p(P.target.value),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Tt c"}),Object.entries(pu).map(([P,{label:C}])=>e.jsx("option",{value:P,children:C},P))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bng d liu"}),e.jsxs("select",{value:f,onChange:P=>v(P.target.value),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Tt c"}),e.jsx("option",{value:"NhanVien",children:"Nhn vin"}),e.jsx("option",{value:"BangLuong",children:"Bng lng"}),e.jsx("option",{value:"KhoanLuong",children:"Khon lng"}),e.jsx("option",{value:"PhongBan",children:"Phng ban"}),e.jsx("option",{value:"NguoiDung",children:"Ngi dng"}),e.jsx("option",{value:"DanhGiaKPI",children:"nh gi KPI"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T ngy"}),e.jsx("input",{type:"date",value:N,onChange:P=>y(P.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"n ngy"}),e.jsx("input",{type:"date",value:j,onChange:P=>S(P.target.value),className:"w-full border rounded-lg px-3 py-2"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.length===0?e.jsx("div",{className:"p-12 text-center text-gray-500",children:"Khng c d liu audit log"}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Thi gian"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ngi dng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh ng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Bng d liu"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID bn ghi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Chi tit"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(P=>{const C=pu[P.hanhDong]||{label:P.hanhDong,color:"bg-gray-100",icon:""};return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:D(P.ngayTao)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.nguoiDung?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xs font-medium",children:P.nguoiDung.hoTen.charAt(0)})}),e.jsx("span",{className:"ml-2 text-sm text-gray-900",children:P.nguoiDung.hoTen})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"H thng"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`px-2 py-1 text-xs rounded ${C.color}`,children:[C.icon," ",C.label]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:P.bangDuLieu||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-mono",children:P.banGhiId||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(P.duLieuCu||P.duLieuMoi)&&e.jsx("button",{onClick:()=>d(P),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem chi tit"})})]},P.id)})})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Chi tit thay i"}),e.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Thi gian:"})," ",D(c.ngayTao)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Ngi dng:"})," ",((T=c.nguoiDung)==null?void 0:T.hoTen)||"H thng"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Hnh ng:"})," ",(_=pu[c.hanhDong])==null?void 0:_.label]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Bng:"})," ",c.bangDuLieu," #",c.banGhiId]}),c.ipAddress&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"IP:"})," ",c.ipAddress]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.duLieuCu&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-600 mb-2",children:"D liu c"}),e.jsx("pre",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-xs overflow-x-auto",children:E(c.duLieuCu)})]}),c.duLieuMoi&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-600 mb-2",children:"D liu mi"}),e.jsx("pre",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-xs overflow-x-auto",children:E(c.duLieuMoi)})]})]})]})})]})}const t2="tinh_luong_auth",_e=Ve.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});_e.interceptors.request.use(s=>{const r=localStorage.getItem(t2);if(r)try{const l=JSON.parse(r);l.token&&(s.headers.Authorization=`Bearer ${l.token}`)}catch{}return s},s=>Promise.reject(s));const On={layDanhSach:s=>_e.get("/quy-che-luong",{params:s}).then(r=>r.data),layChiTiet:s=>_e.get(`/quy-che-luong/${s}`).then(r=>r.data),tao:s=>_e.post("/quy-che-luong",s).then(r=>r.data),capNhat:(s,r)=>_e.put(`/quy-che-luong/${s}`,r).then(l=>l.data),nhanBan:(s,r)=>_e.post(`/quy-che-luong/${s}/nhan-ban`,r).then(l=>l.data),kichHoat:s=>_e.post(`/quy-che-luong/${s}/kich-hoat`).then(r=>r.data),ngung:s=>_e.post(`/quy-che-luong/${s}/ngung`).then(r=>r.data),xoa:s=>_e.delete(`/quy-che-luong/${s}`).then(r=>r.data),layRules:s=>_e.get(`/quy-che-luong/${s}/rules`).then(r=>r.data),taoRule:(s,r)=>_e.post(`/quy-che-luong/${s}/rule`,r).then(l=>l.data),sapXepRules:(s,r)=>_e.put(`/quy-che-luong/${s}/sap-xep-rule`,{danhSachRuleId:r}).then(l=>l.data)},Ja={layChiTiet:s=>_e.get(`/quy-che-rule/${s}`).then(r=>r.data),capNhat:(s,r)=>_e.put(`/quy-che-rule/${s}`,r).then(l=>l.data),xoa:s=>_e.delete(`/quy-che-rule/${s}`).then(r=>r.data),validate:s=>_e.post("/quy-che-rule/validate",s).then(r=>r.data),preview:s=>_e.post("/quy-che-rule/preview",s).then(r=>r.data)},Bs={layDanhSach:s=>_e.get("/su-kien-thuong-phat",{params:s}).then(r=>r.data),layChiTiet:s=>_e.get(`/su-kien-thuong-phat/${s}`).then(r=>r.data),tao:s=>_e.post("/su-kien-thuong-phat",s).then(r=>r.data),capNhat:(s,r)=>_e.put(`/su-kien-thuong-phat/${s}`,r).then(l=>l.data),duyet:(s,r)=>_e.post(`/su-kien-thuong-phat/${s}/duyet`,{duyetBoi:r.duyetBoi||"admin",ghiChu:r.lyDo}).then(l=>l.data),duyetNhieu:s=>_e.post("/su-kien-thuong-phat/duyet-nhieu",{ids:s.danhSachId,duyetBoi:s.duyetBoi||"admin"}).then(r=>r.data),huy:s=>_e.post(`/su-kien-thuong-phat/${s}/huy`).then(r=>r.data),thongKe:(s,r,l)=>_e.get(`/su-kien-thuong-phat/thong-ke/${s}`,{params:{thang:r,nam:l}}).then(i=>i.data),layDanhMucSuKien:s=>_e.get("/su-kien-thuong-phat/danh-muc",{params:{loai:s}}).then(r=>r.data),taoDanhMucSuKien:s=>_e.post("/su-kien-thuong-phat/danh-muc",s).then(r=>r.data),khoiTaoDanhMucMau:()=>_e.post("/su-kien-thuong-phat/khoi-tao-danh-muc-mau").then(s=>s.data)},n2={chay:(s,r)=>_e.post(`/bang-luong/${s}/chay-rule-engine`,{nguoiThucHien:r}).then(l=>l.data),xemTrace:(s,r)=>_e.get(`/bang-luong/${s}/rule-trace`,{params:r?{nhanVienId:r}:void 0}).then(l=>l.data)},Ya={goiYRule:(s,r,l)=>_e.post("/tro-ly-ai/goi-y-rule",{phongBanId:s,quyCheId:r,noiDungTiengViet:l}).then(i=>i.data),layContext:(s,r)=>_e.get(`/tro-ly-ai/context/${s}/${r}`).then(l=>l.data),apDungRule:(s,r,l)=>_e.post(`/tro-ly-ai/ap-dung/${s}`,{auditId:r,ruleDeXuat:l}).then(i=>i.data),huyDeXuat:s=>_e.post(`/tro-ly-ai/huy/${s}`).then(r=>r.data),lichSuDeXuat:s=>_e.get(`/tro-ly-ai/lich-su/${s}`).then(r=>r.data)},s2=({trangThai:s})=>{const l={NHAP:{bg:"bg-gray-100",text:"text-gray-800",label:"Nhp"},HIEU_LUC:{bg:"bg-green-100",text:"text-green-800",label:"Hiu lc"},TAM_DUNG:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Tm dng"},NGUNG:{bg:"bg-red-100",text:"text-red-800",label:"Ngng"}}[s];return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${l.bg} ${l.text}`,children:l.label})};function r2(){const s=Cs(),[r,l]=b.useState([]),[i,c]=b.useState([]),[d,h]=b.useState(!1),[p,f]=b.useState(""),[v,N]=b.useState(!1),[y,j]=b.useState({phongBanId:0,tenQuyChe:"",moTa:"",tuNgay:new Date().toISOString().split("T")[0]});b.useEffect(()=>{S(),w()},[p]);const S=async()=>{try{const H=await ln.layTatCa();c(H)}catch(H){console.error("Li load phng ban:",H)}},w=async()=>{h(!0);try{const H=p?{phongBanId:p}:{},W=await On.layDanhSach(H);l(W)}catch(H){console.error("Li load quy ch:",H)}finally{h(!1)}},D=async()=>{if(!y.phongBanId||!y.tenQuyChe||!y.tuNgay){alert("Vui lng nhp y  thng tin");return}try{await On.tao({phongBanId:y.phongBanId,tenQuyChe:y.tenQuyChe,moTa:y.moTa,tuNgay:new Date(y.tuNgay)}),N(!1),j({phongBanId:0,tenQuyChe:"",moTa:"",tuNgay:new Date().toISOString().split("T")[0]}),w()}catch(H){console.error("Li to quy ch:",H),alert("Li to quy ch")}},E=async H=>{if(confirm("Kch hot quy ch ny? Cc quy ch khc cng phng ban s b ngng."))try{await On.kichHoat(H),w()}catch(W){console.error("Li kch hot:",W),alert("Li kch hot quy ch")}},T=async H=>{if(confirm("Ngng quy ch ny?"))try{await On.ngung(H),w()}catch(W){console.error("Li ngng:",W),alert("Li ngng quy ch")}},_=async(H,W)=>{const M=prompt("Tn quy ch mi:",`${W} (v2)`);if(M)try{const F=await On.nhanBan(H,{tenQuyChe:M,tuNgay:new Date});s(`/quy-che/${F.id}`)}catch(F){console.error("Li nhn bn:",F),alert("Li nhn bn quy ch")}},P=async H=>{if(confirm("Xa quy ch ny? Ch c th xa quy ch ang  trng thi Nhp."))try{await On.xoa(H),w()}catch(W){console.error("Li xa:",W),alert("Khng th xa quy ch ny")}},C=r.reduce((H,W)=>{var F;const M=((F=W.phongBan)==null?void 0:F.tenPhongBan)||"Khc";return H[M]||(H[M]=[]),H[M].push(W),H},{});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l Quy ch lng"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Cu hnh quy ch lng theo phng ban vi cc rule t ng"})]}),e.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"To quy ch mi"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phng ban"}),e.jsxs("select",{value:p,onChange:H=>f(H.target.value?Number(H.target.value):""),className:"border rounded-lg px-3 py-2 min-w-[200px]",children:[e.jsx("option",{value:"",children:"Tt c phng ban"}),i.map(H=>e.jsx("option",{value:H.id,children:H.tenPhongBan},H.id))]})]})})}),d&&e.jsx("div",{className:"text-center py-10",children:e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"})}),!d&&e.jsxs("div",{className:"space-y-6",children:[Object.entries(C).map(([H,W])=>e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b",children:e.jsx("h2",{className:"font-semibold text-gray-900",children:H})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tn quy ch"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Phin bn"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"S rule"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"T ngy"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Thao tc"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:W.map(M=>{var F;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("button",{onClick:()=>s(`/quy-che/${M.id}`),className:"text-blue-600 hover:text-blue-800 font-medium",children:M.tenQuyChe}),M.moTa&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:M.moTa})]}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:["v",M.phienBan]})}),e.jsx("td",{className:"px-4 py-3 text-center",children:((F=M._count)==null?void 0:F.rules)||0}),e.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:new Date(M.tuNgay).toLocaleDateString("vi-VN")}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx(s2,{trangThai:M.trangThai})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>s(`/quy-che/${M.id}`),className:"p-1 text-gray-400 hover:text-blue-600",title:"Cu hnh",children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),M.trangThai==="NHAP"&&e.jsx("button",{onClick:()=>E(M.id),className:"p-1 text-gray-400 hover:text-green-600",title:"Kch hot",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),M.trangThai==="HIEU_LUC"&&e.jsx("button",{onClick:()=>T(M.id),className:"p-1 text-gray-400 hover:text-yellow-600",title:"Ngng",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("button",{onClick:()=>_(M.id,M.tenQuyChe),className:"p-1 text-gray-400 hover:text-purple-600",title:"Nhn bn",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),M.trangThai==="NHAP"&&e.jsx("button",{onClick:()=>P(M.id),className:"p-1 text-gray-400 hover:text-red-600",title:"Xa",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},M.id)})})]})]},H)),Object.keys(C).length===0&&e.jsx("div",{className:"bg-white rounded-lg shadow p-10 text-center text-gray-500",children:'Cha c quy ch no. Bm "To quy ch mi"  bt u.'})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsx("h3",{className:"text-lg font-semibold",children:"To quy ch mi"})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phng ban ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:y.phongBanId,onChange:H=>j({...y,phongBanId:Number(H.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:0,children:"-- Chn phng ban --"}),i.map(H=>e.jsx("option",{value:H.id,children:H.tenPhongBan},H.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn quy ch ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:y.tenQuyChe,onChange:H=>j({...y,tenQuyChe:H.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: Quy ch lng phng Kho 2026"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),e.jsx("textarea",{value:y.moTa,onChange:H=>j({...y,moTa:H.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:3,placeholder:"M t quy ch..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["p dng t ngy ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:y.tuNgay,onChange:H=>j({...y,tuNgay:H.target.value}),className:"w-full border rounded-lg px-3 py-2"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"To quy ch"})]})]})})]})}const a2=["Pht i tr: 1-2 ln 50k/ln, t ln 3 tr ln 100k/ln","Trch nhim kho: cp 1 500k, cp 2 1tr, cp 3 1.5tr","Tin trch nhim = lng c bn * 0.15","Thng chuyn cn: 200k/thng nu khng ngh","Ph cp trch nhim c nh 500k/thng"],fu={CO_DINH:"C nh",THEO_HE_SO:"Theo h s",BAC_THANG:"Bc thang",THEO_SU_KIEN:"Theo s kin",CONG_THUC:"Cng thc"},yf={CONG_DON:"Cng dn",GHI_DE:"Ghi "};function l2({isOpen:s,onClose:r,phongBanId:l,quyCheId:i,onRuleApplied:c}){const d=b.useRef(null),h=b.useRef(null),[p,f]=b.useState(""),[v,N]=b.useState(!1),[y,j]=b.useState(null),[S,w]=b.useState(null),[D,E]=b.useState(!1),[T,_]=b.useState(!1),[P,C]=b.useState(null),[H,W]=b.useState(!1),[M,F]=b.useState(null),[se,U]=b.useState(!1),[Y,pe]=b.useState(null),[J,de]=b.useState("goi-y"),[$,oe]=b.useState(!1),[K,G]=b.useState(!1),[le,re]=b.useState(!1),[R,g]=b.useState({luongCoBan:1e7,capTrachNhiem:2,heSoTrachNhiem:1.2,soLanDiTre:3,soLanNghiKhongPhep:0});b.useEffect(()=>{s&&l&&i&&(Ya.layContext(l,i).then(w).catch(console.error),setTimeout(()=>{var te;return(te=d.current)==null?void 0:te.focus()},100))},[s,l,i]),b.useEffect(()=>{s||(f(""),j(null),C(null),F(null),pe(null),U(!1),oe(!1),G(!1),re(!1))},[s]);const Q=b.useCallback(te=>{s&&(te.key==="Escape"&&r(),(te.ctrlKey||te.metaKey)&&te.key==="Enter"&&p.trim()&&!v&&te.preventDefault())},[s,p,v,r]);b.useEffect(()=>(document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)),[Q]);const A=async()=>{if(p.trim()){N(!0),j(null),C(null),F(null);try{const te=await Ya.goiYRule(l,i,p);j(te),te.ruleDeXuat&&pe({...te.ruleDeXuat})}catch(te){console.error("Li gi  rule:",te),j({hopLeSoBo:!1,canLamRo:["C li xy ra khi x l yu cu. Vui lng th li."]})}finally{N(!1)}}},X=async()=>{if(!Y)return;const te=Re();if(te.length>0){C({hopLe:!1,loi:["[Client] "+te.join(", [Client] ")]});return}_(!0);try{const Pe=await Ja.validate({loaiRule:Y.loaiRule,dieuKienJson:Y.dieuKienJson,congThucJson:Y.congThucJson});C({hopLe:Pe.hopLe,loi:Pe.danhSachLoi||[]})}catch(Pe){console.error("Li validate:",Pe),C({hopLe:!1,loi:["C li xy ra khi validate server"]})}finally{_(!1)}},fe=async()=>{if(Y){W(!0);try{const te=await Ja.preview({quyCheId:i,duLieuGiaLap:R});F({soTien:te.tongTien,trace:te.trace.map(Pe=>`${Pe.ruleName}: ${Pe.message}  ${Pe.output.toLocaleString("vi-VN")}`).join(`
`)})}catch(te){console.error("Li preview:",te)}finally{W(!1)}}},xe=async()=>{if(Y)try{await navigator.clipboard.writeText(JSON.stringify(Y,null,2)),re(!0),setTimeout(()=>re(!1),2e3)}catch(te){console.error("Li copy:",te)}},Se=()=>{y!=null&&y.ruleDeXuat&&pe({...y.ruleDeXuat})},Re=()=>{const te=[];if(!Y)return["Khng c rule  validate"];(!Y.tenRule||Y.tenRule.trim().length<3)&&te.push("Tn rule phi c t nht 3 k t"),Y.khoanLuongMa||te.push("Cha chn khon lng");const Pe=Y.congThucJson;switch(Y.loaiRule){case"CO_DINH":(!Pe.soTien||Pe.soTien<=0)&&te.push("S tin c nh phi ln hn 0");break;case"THEO_HE_SO":Pe.base||te.push("Cha chn ngun tnh (base)"),(!Pe.heSo||Pe.heSo<=0)&&te.push("H s phi ln hn 0");break;case"BAC_THANG":{const cn=Pe.bac;!cn||cn.length===0?te.push("Phi c t nht 1 bc thang"):cn.forEach((jn,lr)=>{(jn.from===void 0||jn.to===void 0)&&te.push(`Bc ${lr+1}: Cha nh ngha khong from-to`),!jn.soTien&&!jn.soTienMoiLan&&te.push(`Bc ${lr+1}: Cha nh ngha s tin`)})}break;case"CONG_THUC":(!Pe.bieuThuc||Pe.bieuThuc.trim().length===0)&&te.push("Cha nhp biu thc cng thc");break;case"THEO_SU_KIEN":Pe.maSuKien||te.push("Cha chn m s kin");break}return te},Oe=async()=>{if(!(y!=null&&y.auditId)||!Y)return;const te=Re();if(te.length>0){C({hopLe:!1,loi:te}),alert(`Vui lng sa cc li trc khi p dng:

`+te.join(`
`));return}if(confirm(`Xc nhn p dng rule "${Y.tenRule}"?

Loi: ${fu[Y.loaiRule]}
Khon lng: ${Y.khoanLuongMa}`)){E(!0);try{await Ya.apDungRule(i,y.auditId,Y),alert("  p dng rule thnh cng!"),c(),r()}catch(cn){console.error("Li p dng rule:",cn);const jn=cn instanceof Error?cn.message:"Li khng xc nh";alert(` C li khi p dng rule: ${jn}`)}finally{E(!1)}}},Un=te=>{f(te)},ar=te=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(te);return s?e.jsxs("div",{className:"fixed inset-0 z-50 flex overflow-hidden",children:[e.jsx("div",{className:"flex-1 bg-black/50 backdrop-blur-sm animate-fadeIn",onClick:r}),e.jsxs("div",{ref:h,className:"w-[600px] max-w-full bg-white shadow-2xl flex flex-col h-full animate-slideInRight",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(AN,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-lg",children:"Tr l AI gi  Rule"}),e.jsx("p",{className:"text-sm text-white/80",children:"Nhp ting Vit  To rule t ng"})]})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-white/20 rounded-lg transition-all hover:rotate-90",title:"ng (Escape)",children:e.jsx(nr,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex border-b bg-gray-50",children:[e.jsxs("button",{onClick:()=>de("goi-y"),className:`flex-1 py-3 text-sm font-medium transition-all ${J==="goi-y"?"border-b-2 border-blue-600 text-blue-600 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(qN,{className:"h-4 w-4 inline mr-2"}),"Gi  Rule"]}),e.jsxs("button",{onClick:()=>de("lich-su"),className:`flex-1 py-3 text-sm font-medium transition-all ${J==="lich-su"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(ld,{className:"h-4 w-4 inline mr-2"}),"Lch s"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[J==="goi-y"&&e.jsxs(e.Fragment,{children:[S&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[e.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Ng cnh hin ti:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Phng ban:"})," ",e.jsx("span",{className:"font-medium",children:S.phongBan.tenPhongBan})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Quy ch:"})," ",e.jsxs("span",{className:"font-medium",children:["v",S.quyChe.phienBan]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Khon lng:"})," ",e.jsxs("span",{className:"font-medium",children:[S.khoanLuongs.length," khon"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"S kin:"})," ",e.jsxs("span",{className:"font-medium",children:[S.danhMucSuKien.length," mc"]})]})]})]}),e.jsxs("div",{className:"animate-slideInUp",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:" Mu gi :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a2.map((te,Pe)=>e.jsx("button",{onClick:()=>Un(te),className:"text-xs px-3 py-1.5 bg-blue-50 text-blue-700 rounded-full hover:bg-blue-100 hover:scale-105 transition-all",children:te.length>40?te.substring(0,37)+"...":te},Pe))})]}),e.jsxs("div",{className:"animate-slideInUp",style:{animationDelay:"0.1s"},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" M t bng ting Vit:"}),e.jsx("textarea",{ref:d,value:p,onChange:te=>f(te.target.value),onKeyDown:te=>{(te.ctrlKey||te.metaKey)&&te.key==="Enter"&&(te.preventDefault(),p.trim()&&!v&&A())},placeholder:"V d: Pht i tr 1-2 ln 50k/ln, t ln 3 tr ln 100k/ln",className:"w-full h-28 px-3 py-2 border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",disabled:v}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"/Ctrl + Enter  gi"}),e.jsxs("span",{className:"text-xs text-gray-400",children:[p.length," k t"]})]}),e.jsx("button",{onClick:A,disabled:!p.trim()||v,className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:v?e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"h-4 w-4 animate-spin"}),"ang x l..."]}):e.jsxs(e.Fragment,{children:[e.jsx(JN,{className:"h-4 w-4"}),"To  xut"]})})]}),y&&e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:`p-3 flex items-center gap-2 ${y.hopLeSoBo?"bg-green-50":"bg-yellow-50"}`,children:[y.hopLeSoBo?e.jsx(Hi,{className:"h-5 w-5 text-green-600"}):e.jsx(zN,{className:"h-5 w-5 text-yellow-600"}),e.jsx("span",{className:`font-medium ${y.hopLeSoBo?"text-green-700":"text-yellow-700"}`,children:y.hopLeSoBo?" to  xut thnh cng":"Cn lm r thm"})]}),y.canLamRo.length>0&&e.jsxs("div",{className:"p-3 bg-yellow-50 border-t",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Cu hi:"}),e.jsx("ul",{className:"space-y-1",children:y.canLamRo.map((te,Pe)=>e.jsxs("li",{className:"text-sm text-yellow-700 flex items-start gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:te})]},Pe))})]}),y.ruleDeXuat&&Y&&e.jsxs("div",{className:"p-3 space-y-3",children:[y.tomTatRule&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Tm tt:"})," ",e.jsx("span",{className:"font-medium",children:y.tomTatRule})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Loi rule:"})," ",e.jsx("span",{className:"font-medium text-blue-600",children:fu[Y.loaiRule]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Ch  gp:"})," ",e.jsx("span",{className:"font-medium",children:yf[Y.cheDoGop]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Khon lng:"})," ",e.jsx("span",{className:"font-medium",children:Y.khoanLuongMa})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"u tin:"})," ",e.jsx("span",{className:"font-medium",children:Y.thuTuUuTien})]})]}),e.jsxs("div",{className:"pt-2 border-t flex items-center gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>U(!se),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:[se?e.jsx(Bi,{className:"h-4 w-4"}):e.jsx(ig,{className:"h-4 w-4"}),se?"n JSON":"Xem JSON"]}),e.jsxs("button",{onClick:xe,className:"text-gray-600 hover:text-gray-800 text-sm flex items-center gap-1",children:[e.jsx(FN,{className:"h-4 w-4"}),le?" copy!":"Copy JSON"]}),e.jsxs("button",{onClick:()=>oe(!$),className:"text-purple-600 hover:text-purple-800 text-sm flex items-center gap-1",children:[e.jsx(Jr,{className:"h-4 w-4"}),$?"n form":"Chnh sa"]}),e.jsxs("button",{onClick:Se,className:"text-orange-600 hover:text-orange-800 text-sm flex items-center gap-1",children:[e.jsx(id,{className:"h-4 w-4"}),"Reset"]})]}),se&&e.jsx("pre",{className:"mt-2 p-2 bg-gray-800 text-green-400 rounded text-xs overflow-x-auto max-h-48",children:JSON.stringify(Y,null,2)}),$&&e.jsxs("div",{className:"mt-2 p-3 bg-white border rounded-lg space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Tn rule"}),e.jsx("input",{type:"text",value:Y.tenRule,onChange:te=>pe({...Y,tenRule:te.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Loi rule"}),e.jsx("select",{value:Y.loaiRule,onChange:te=>pe({...Y,loaiRule:te.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm",children:Object.entries(fu).map(([te,Pe])=>e.jsx("option",{value:te,children:Pe},te))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Ch  gp"}),e.jsx("select",{value:Y.cheDoGop,onChange:te=>pe({...Y,cheDoGop:te.target.value}),className:"w-full px-2 py-1.5 border rounded text-sm",children:Object.entries(yf).map(([te,Pe])=>e.jsx("option",{value:te,children:Pe},te))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Th t u tin"}),e.jsx("input",{type:"number",value:Y.thuTuUuTien,onChange:te=>pe({...Y,thuTuUuTien:Number(te.target.value)}),className:"w-24 px-2 py-1.5 border rounded text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"choPhepChinhTay",checked:Y.choPhepChinhTay,onChange:te=>pe({...Y,choPhepChinhTay:te.target.checked})}),e.jsx("label",{htmlFor:"choPhepChinhTay",className:"text-sm text-gray-700",children:"Cho php chnh tay"})]})]})]}),y.giaiThich&&y.giaiThich.length>0&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"Gii thch:"}),e.jsx("ul",{className:"space-y-1",children:y.giaiThich.map((te,Pe)=>e.jsxs("li",{className:"text-sm text-blue-700 flex items-start gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:te})]},Pe))})]}),y.canhBao&&y.canhBao.length>0&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[e.jsxs("div",{className:"text-sm font-medium text-orange-800 mb-1 flex items-center gap-1",children:[e.jsx(Wa,{className:"h-4 w-4"}),"Cnh bo:"]}),e.jsx("ul",{className:"space-y-1",children:y.canhBao.map((te,Pe)=>e.jsxs("li",{className:"text-sm text-orange-700 flex items-start gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:te})]},Pe))})]}),P&&e.jsxs("div",{className:`rounded-lg p-3 ${P.hopLe?"bg-green-50":"bg-red-50"}`,children:[e.jsxs("div",{className:`text-sm font-medium mb-1 flex items-center gap-1 ${P.hopLe?"text-green-800":"text-red-800"}`,children:[P.hopLe?e.jsx(Hi,{className:"h-4 w-4"}):e.jsx(Wa,{className:"h-4 w-4"}),P.hopLe?"Validate thnh cng":"Validate tht bi"]}),P.loi.length>0&&e.jsx("ul",{className:"space-y-1",children:P.loi.map((te,Pe)=>e.jsxs("li",{className:"text-sm text-red-700 flex items-start gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:te})]},Pe))})]}),M&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-medium text-purple-800 mb-1",children:"Preview (d liu gi lp):"}),e.jsx("div",{className:"text-lg font-bold text-purple-600",children:ar(M.soTien)}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:M.trace})]}),e.jsxs("div",{className:"border rounded-lg",children:[e.jsxs("button",{onClick:()=>G(!K),className:"w-full px-3 py-2 flex items-center justify-between text-sm text-gray-600 hover:bg-gray-50",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Jr,{className:"h-4 w-4"}),"Ci t d liu gi lp"]}),e.jsx("span",{children:K?"":""})]}),K&&e.jsx("div",{className:"p-3 border-t space-y-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Lng c bn"}),e.jsx("input",{type:"number",value:R.luongCoBan,onChange:te=>g({...R,luongCoBan:Number(te.target.value)}),className:"w-full px-2 py-1 border rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"H s trch nhim"}),e.jsx("input",{type:"number",step:"0.1",value:R.heSoTrachNhiem,onChange:te=>g({...R,heSoTrachNhiem:Number(te.target.value)}),className:"w-full px-2 py-1 border rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Cp trch nhim"}),e.jsx("input",{type:"number",value:R.capTrachNhiem,onChange:te=>g({...R,capTrachNhiem:Number(te.target.value)}),className:"w-full px-2 py-1 border rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"S ln i tr"}),e.jsx("input",{type:"number",value:R.soLanDiTre,onChange:te=>g({...R,soLanDiTre:Number(te.target.value)}),className:"w-full px-2 py-1 border rounded text-sm"})]})]})})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs("button",{onClick:X,disabled:T,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 disabled:opacity-50 transition",children:[T?e.jsx(Ft,{className:"h-4 w-4 animate-spin"}):e.jsx(Ki,{className:"h-4 w-4"}),"Validate"]}),e.jsxs("button",{onClick:fe,disabled:H,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 border border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 disabled:opacity-50 transition",children:[H?e.jsx(Ft,{className:"h-4 w-4 animate-spin"}):e.jsx(Bi,{className:"h-4 w-4"}),"Preview"]}),e.jsxs("button",{onClick:Oe,disabled:D,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition",children:[D?e.jsx(Ft,{className:"h-4 w-4 animate-spin"}):e.jsx(Xi,{className:"h-4 w-4"}),"p dng"]})]})]})]})]}),J==="lich-su"&&e.jsx(i2,{quyCheId:i,onTaiSuDung:te=>{f(te),de("goi-y")}})]})]})]}):null}function i2({quyCheId:s,onTaiSuDung:r}){const[l,i]=b.useState([]),[c,d]=b.useState(!0);b.useEffect(()=>{Ya.lichSuDeXuat(s).then(i).catch(console.error).finally(()=>d(!1))},[s]);const h=async f=>{if(confirm("Hy  xut ny?"))try{await Ya.huyDeXuat(f),i(v=>v.map(N=>N.id===f?{...N,trangThai:"HUY"}:N))}catch(v){console.error("Li hy:",v)}};if(c)return e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Ft,{className:"h-6 w-6 animate-spin text-gray-400"})});if(l.length===0)return e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cha c lch s  xut no"});const p={DE_XUAT:{text:" xut",color:"bg-yellow-100 text-yellow-800"},DA_AP_DUNG:{text:" p dng",color:"bg-green-100 text-green-800"},HUY:{text:" hy",color:"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"space-y-3",children:l.map(f=>{var v,N;return e.jsxs("div",{className:"border rounded-lg p-3 hover:border-gray-300 transition",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(f.taoLuc).toLocaleString("vi-VN"),f.nguoiTao&&`  ${f.nguoiTao.hoTen}`]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${((v=p[f.trangThai])==null?void 0:v.color)||"bg-gray-100"}`,children:((N=p[f.trangThai])==null?void 0:N.text)||f.trangThai})]}),e.jsx("div",{className:"text-sm text-gray-700 line-clamp-2",children:f.promptGoc}),f.rule&&e.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:[" Rule: ",f.rule.tenRule]}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsxs("button",{onClick:()=>r==null?void 0:r(f.promptGoc),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx(id,{className:"h-3 w-3"}),"Ti s dng"]}),f.trangThai==="DE_XUAT"&&e.jsxs("button",{onClick:()=>h(f.id),className:"text-xs text-red-600 hover:text-red-800 flex items-center gap-1",children:[e.jsx(tr,{className:"h-3 w-3"}),"Hy"]})]})]},f.id)})})}const gd={CO_DINH:"C nh",THEO_HE_SO:"Theo h s",BAC_THANG:"Bc thang",THEO_SU_KIEN:"Theo s kin",CONG_THUC:"Cng thc"},o2={CO_DINH:"bg-blue-100 text-blue-800",THEO_HE_SO:"bg-green-100 text-green-800",BAC_THANG:"bg-purple-100 text-purple-800",THEO_SU_KIEN:"bg-orange-100 text-orange-800",CONG_THUC:"bg-pink-100 text-pink-800"},c2=({rule:s,index:r,isSelected:l,onSelect:i,onDragStart:c,onDragOver:d,onDrop:h,isDragging:p})=>{var f;return e.jsx("div",{draggable:!0,onDragStart:c,onDragOver:d,onDrop:h,onClick:i,className:`
        p-3 rounded-lg border-2 cursor-pointer transition-all
        ${l?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}
        ${p?"opacity-50":""}
      `,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"cursor-grab text-gray-400 hover:text-gray-600 mt-1",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["#",r+1]}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${o2[s.loaiRule]}`,children:gd[s.loaiRule]})]}),e.jsx("h4",{className:"font-medium text-gray-900 truncate",children:s.tenRule}),e.jsx("p",{className:"text-sm text-gray-500 truncate mt-1",children:(f=s.khoanLuong)==null?void 0:f.tenKhoan})]}),e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${s.trangThai?"bg-green-500":"bg-gray-300"}`})]})})},u2=({value:s,onChange:r})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S tin c nh"}),e.jsx("input",{type:"number",value:s.soTien||"",onChange:l=>r({soTien:Number(l.target.value)}),className:"w-full border rounded-lg px-3 py-2",placeholder:"1000000"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.soTien?new Intl.NumberFormat("vi-VN").format(s.soTien)+"":""})]}),d2=({value:s,onChange:r})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base (ngun tnh)"}),e.jsxs("select",{value:s.base||"",onChange:l=>r({...s,base:l.target.value,heSo:s.heSo||1}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Chn --"}),e.jsx("option",{value:"LUONG_CO_BAN",children:"Lng c bn"}),e.jsx("option",{value:"HE_SO_TRACH_NHIEM",children:"H s trch nhim"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H s"}),e.jsx("input",{type:"number",step:"0.01",value:s.heSo||"",onChange:l=>r({...s,base:s.base||"LUONG_CO_BAN",heSo:Number(l.target.value)}),className:"w-full border rounded-lg px-3 py-2",placeholder:"0.2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cng thm (ty chn)"}),e.jsx("input",{type:"number",value:s.congThem||"",onChange:l=>r({...s,base:s.base||"LUONG_CO_BAN",heSo:s.heSo||1,congThem:Number(l.target.value)||void 0}),className:"w-full border rounded-lg px-3 py-2",placeholder:"200000"})]})]}),h2=({value:s,onChange:r})=>{const l=s.bac||[{from:1,to:1,soTien:0}],i=()=>{const h=l[l.length-1];r({field:s.field||"cap_trach_nhiem",bac:[...l,{from:((h==null?void 0:h.to)||0)+1,to:((h==null?void 0:h.to)||0)+1,soTien:0}]})},c=h=>{l.length<=1||r({field:s.field||"cap_trach_nhiem",bac:l.filter((p,f)=>f!==h)})},d=(h,p)=>{r({field:s.field||"cap_trach_nhiem",bac:l.map((f,v)=>v===h?{...f,...p}:f)})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng d liu"}),e.jsxs("select",{value:s.field||"",onChange:h=>r({...s,field:h.target.value,bac:l}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Chn --"}),e.jsx("option",{value:"cap_trach_nhiem",children:"Cp trch nhim"}),e.jsx("option",{value:"he_so_trach_nhiem",children:"H s trch nhim"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bc thang"}),e.jsx("button",{type:"button",onClick:i,className:"text-sm text-blue-600 hover:text-blue-800",children:"+ Thm bc"})]}),e.jsx("div",{className:"space-y-2",children:l.map((h,p)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsxs("span",{className:"text-sm text-gray-500 w-16",children:["Bc ",p+1]}),e.jsx("input",{type:"number",value:h.from,onChange:f=>d(p,{from:Number(f.target.value)}),className:"w-20 border rounded px-2 py-1 text-sm",placeholder:"T"}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("input",{type:"number",value:h.to,onChange:f=>d(p,{to:Number(f.target.value)}),className:"w-20 border rounded px-2 py-1 text-sm",placeholder:"n"}),e.jsx("input",{type:"number",value:h.soTien||"",onChange:f=>d(p,{soTien:Number(f.target.value)}),className:"flex-1 border rounded px-2 py-1 text-sm",placeholder:"S tin"}),l.length>1&&e.jsx("button",{type:"button",onClick:()=>c(p),className:"text-red-500 hover:text-red-700",children:""})]},p))})]})]})},m2=({value:s,onChange:r})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Biu thc cng thc"}),e.jsx("textarea",{value:s.bieuThuc||"",onChange:l=>r({bieuThuc:l.target.value}),className:"w-full border rounded-lg px-3 py-2 font-mono text-sm",rows:3,placeholder:"LUONG_CO_BAN * HE_SO_TRACH_NHIEM + 200000"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bin cho php: LUONG_CO_BAN, HE_SO_TRACH_NHIEM, CAP_TRACH_NHIEM, CONG_CHUAN, CONG_THUC_TE, ..."})]});function p2(){var le,re,R,g,Q;const{id:s}=td(),r=Cs(),[l,i]=b.useState(null),[c,d]=b.useState([]),[h,p]=b.useState([]),[f,v]=b.useState(null),[N,y]=b.useState(!0),[j,S]=b.useState(!1),[w,D]=b.useState(null),[E,T]=b.useState(!1),[_,P]=b.useState(!1),[C,H]=b.useState(null),[W,M]=b.useState("thongtin"),[F,se]=b.useState({tenRule:"",moTa:"",khoanLuongId:0,loaiRule:"CO_DINH",congThucJson:{soTien:0},dieuKienJson:{},cheDoGop:"GHI_DE",choPhepChinhTay:!0});b.useEffect(()=>{s&&U()},[s]);const U=async()=>{y(!0);try{const[A,X]=await Promise.all([On.layChiTiet(Number(s)),Wt.layTatCa()]);i(A),d(A.rules||[]),p(X),A.rules&&A.rules.length>0&&Y(A.rules[0])}catch(A){console.error("Li load d liu:",A)}finally{y(!1)}},Y=A=>{v(A),se({tenRule:A.tenRule,moTa:A.moTa||"",khoanLuongId:A.khoanLuongId,loaiRule:A.loaiRule,congThucJson:JSON.parse(A.congThucJson),dieuKienJson:A.dieuKienJson?JSON.parse(A.dieuKienJson):{},cheDoGop:A.cheDoGop,choPhepChinhTay:A.choPhepChinhTay}),M("thongtin"),H(null)},pe=A=>{D(A)},J=A=>{A.preventDefault()},de=async A=>{if(w===null||w===A){D(null);return}const X=[...c],[fe]=X.splice(w,1);X.splice(A,0,fe),d(X),D(null);try{await On.sapXepRules(Number(s),X.map(xe=>xe.id))}catch(xe){console.error("Li sp xp:",xe),U()}},$=async()=>{var A,X,fe;if(f){S(!0);try{await Ja.capNhat(f.id,{tenRule:F.tenRule,moTa:F.moTa,loaiRule:F.loaiRule,congThucJson:F.congThucJson,dieuKienJson:F.dieuKienJson,cheDoGop:F.cheDoGop,choPhepChinhTay:F.choPhepChinhTay}),U()}catch(xe){console.error("Li lu rule:",xe),alert(((fe=(X=(A=xe.response)==null?void 0:A.data)==null?void 0:X.loi)==null?void 0:fe.join(`
`))||"Li lu rule")}finally{S(!1)}}},oe=async()=>{if(f&&confirm("Xa rule ny?"))try{await Ja.xoa(f.id),v(null),U()}catch(A){console.error("Li xa:",A),alert("Khng th xa rule ny")}},K=async()=>{if(s)try{const A=await Ja.preview({quyCheId:Number(s),duLieuGiaLap:{LUONG_CO_BAN:1e7,CAP_TRACH_NHIEM:2,HE_SO_TRACH_NHIEM:1.2}});H(A),M("preview")}catch(A){console.error("Li preview:",A),alert("Li chy th")}},G=async A=>{try{let X={soTien:0};A.loaiRule==="THEO_HE_SO"?X={base:"LUONG_CO_BAN",heSo:.1}:A.loaiRule==="BAC_THANG"?X={field:"cap_trach_nhiem",bac:[{from:1,to:1,soTien:5e5}]}:A.loaiRule==="CONG_THUC"&&(X={bieuThuc:"LUONG_CO_BAN * 0.1"}),await On.taoRule(Number(s),{khoanLuongId:A.khoanLuongId,tenRule:A.tenRule,loaiRule:A.loaiRule,congThucJson:X}),T(!1),U()}catch(X){console.error("Li thm rule:",X),alert("Li thm rule")}};return N?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"})}):l?e.jsxs("div",{className:"h-screen flex flex-col",children:[e.jsx("div",{className:"bg-white border-b px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/quy-che"),className:"p-2 hover:bg-gray-100 rounded",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:l.tenQuyChe}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(le=l.phongBan)==null?void 0:le.tenPhongBan,"  Phin bn ",l.phienBan]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[!l.coDuocSua&&e.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:" Quy ch  kho"}),e.jsx("button",{onClick:K,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Chy th"}),e.jsxs("button",{onClick:()=>P(!0),disabled:!l.coDuocSua,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73A2 2 0 0 1 12 2z"}),e.jsx("path",{d:"M9 14a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"}),e.jsx("path",{d:"M15 14a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})]}),"Tr l AI"]}),e.jsx("button",{onClick:()=>T(!0),disabled:!l.coDuocSua,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"+ Thm rule"})]})]})}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 border-r bg-gray-50 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b bg-white",children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Danh sch Rule (",c.length,")"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ko th  sp xp th t u tin"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[c.map((A,X)=>e.jsx(c2,{rule:A,index:X,isSelected:(f==null?void 0:f.id)===A.id,onSelect:()=>Y(A),onDragStart:()=>pe(X),onDragOver:J,onDrop:()=>de(X),isDragging:w===X},A.id)),c.length===0&&e.jsxs("div",{className:"text-center text-gray-500 py-10",children:["Cha c rule no.",e.jsx("br",{}),e.jsx("button",{onClick:()=>T(!0),className:"text-blue-600 hover:underline mt-2",children:"Thm rule u tin"})]})]})]}),e.jsx("div",{className:"flex-1 flex flex-col bg-white overflow-hidden",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex px-6",children:["thongtin","dieukien","congthuc","preview"].map(A=>e.jsx("button",{onClick:()=>M(A),className:`px-4 py-3 text-sm font-medium border-b-2 -mb-px ${W===A?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:{thongtin:"Thng tin",dieukien:"iu kin",congthuc:"Cch tnh",preview:"Xem th"}[A]},A))})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[W==="thongtin"&&e.jsxs("div",{className:"space-y-4 max-w-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn rule"}),e.jsx("input",{type:"text",value:F.tenRule,onChange:A=>se({...F,tenRule:A.target.value}),className:"w-full border rounded-lg px-3 py-2",disabled:!l.coDuocSua})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Khon lng"}),e.jsx("select",{value:F.khoanLuongId,onChange:A=>se({...F,khoanLuongId:Number(A.target.value)}),className:"w-full border rounded-lg px-3 py-2",disabled:!l.coDuocSua,children:h.map(A=>e.jsxs("option",{value:A.id,children:[A.tenKhoan," (",A.loai==="THU_NHAP"?"+":"-",")"]},A.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi rule"}),e.jsx("select",{value:F.loaiRule,onChange:A=>se({...F,loaiRule:A.target.value}),className:"w-full border rounded-lg px-3 py-2",disabled:!l.coDuocSua,children:Object.entries(gd).map(([A,X])=>e.jsx("option",{value:A,children:X},A))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),e.jsx("textarea",{value:F.moTa,onChange:A=>se({...F,moTa:A.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:3,disabled:!l.coDuocSua})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:F.choPhepChinhTay,onChange:A=>se({...F,choPhepChinhTay:A.target.checked}),disabled:!l.coDuocSua}),e.jsx("span",{className:"text-sm",children:"Cho php chnh tay"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"Ch  gp:"}),e.jsxs("select",{value:F.cheDoGop,onChange:A=>se({...F,cheDoGop:A.target.value}),className:"border rounded px-2 py-1 text-sm",disabled:!l.coDuocSua,children:[e.jsx("option",{value:"GHI_DE",children:"Ghi "}),e.jsx("option",{value:"CONG_DON",children:"Cng dn"})]})]})]})]}),W==="dieukien"&&e.jsxs("div",{className:"max-w-lg space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"iu kin p dng rule.  trng = p dng cho tt c nhn vin."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vai tr"}),e.jsx("input",{type:"text",value:(((R=(re=F.dieuKienJson)==null?void 0:re.apDungCho)==null?void 0:R.vaiTro)||[]).join(", "),onChange:A=>{var X;return se({...F,dieuKienJson:{apDungCho:{...(X=F.dieuKienJson)==null?void 0:X.apDungCho,vaiTro:A.target.value?A.target.value.split(",").map(fe=>fe.trim()):void 0}}})},className:"w-full border rounded-lg px-3 py-2",placeholder:"TO_TRUONG, QUAN_LY",disabled:!l.coDuocSua}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Phn cch bng du phy"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cp trch nhim"}),e.jsx("input",{type:"text",value:(((Q=(g=F.dieuKienJson)==null?void 0:g.apDungCho)==null?void 0:Q.capTrachNhiem)||[]).join(", "),onChange:A=>{var X;return se({...F,dieuKienJson:{apDungCho:{...(X=F.dieuKienJson)==null?void 0:X.apDungCho,capTrachNhiem:A.target.value?A.target.value.split(",").map(fe=>Number(fe.trim())).filter(fe=>!isNaN(fe)):void 0}}})},className:"w-full border rounded-lg px-3 py-2",placeholder:"1, 2, 3",disabled:!l.coDuocSua})]})]}),W==="congthuc"&&e.jsxs("div",{className:"max-w-lg",children:[F.loaiRule==="CO_DINH"&&e.jsx(u2,{value:F.congThucJson,onChange:A=>se({...F,congThucJson:A})}),F.loaiRule==="THEO_HE_SO"&&e.jsx(d2,{value:F.congThucJson,onChange:A=>se({...F,congThucJson:A})}),F.loaiRule==="BAC_THANG"&&e.jsx(h2,{value:F.congThucJson,onChange:A=>se({...F,congThucJson:A})}),F.loaiRule==="CONG_THUC"&&e.jsx(m2,{value:F.congThucJson,onChange:A=>se({...F,congThucJson:A})}),F.loaiRule==="THEO_SU_KIEN"&&e.jsx("div",{className:"text-gray-500",children:"Form s kin s c thm sau..."})]}),W==="preview"&&C&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:e.jsxs("h4",{className:"font-semibold text-blue-900",children:["Tng tin: ",new Intl.NumberFormat("vi-VN").format(C.tongTien),""]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Chi tit"}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm",children:"Khon lng"}),e.jsx("th",{className:"px-4 py-2 text-right text-sm",children:"S tin"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm",children:"Gii thch"})]})}),e.jsx("tbody",{children:C.chiTiet.map((A,X)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-2",children:A.khoanLuong}),e.jsx("td",{className:"px-4 py-2 text-right font-mono",children:new Intl.NumberFormat("vi-VN").format(A.soTien)}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:A.giaiThich})]},X))})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Trace"}),e.jsx("div",{className:"space-y-2",children:C.trace.map((A,X)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded text-sm",children:[e.jsx("div",{className:"font-medium",children:A.ruleName}),e.jsx("div",{className:"text-gray-600",children:A.message}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Output: ",new Intl.NumberFormat("vi-VN").format(A.output),""]})]},X))})]})]})]}),l.coDuocSua&&e.jsxs("div",{className:"border-t px-6 py-4 flex justify-between",children:[e.jsx("button",{onClick:oe,className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:"Xa rule"}),e.jsx("button",{onClick:$,disabled:j,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:j?"ang lu...":"Lu thay i"})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Chn mt rule  xem chi tit"})})]}),E&&e.jsx(f2,{khoanLuongs:h,onClose:()=>T(!1),onAdd:G}),e.jsx(l2,{isOpen:_,onClose:()=>P(!1),phongBanId:l.phongBanId,quyCheId:l.id,onRuleApplied:U})]}):e.jsx("div",{className:"p-6 text-center text-gray-500",children:"Khng tm thy quy ch"})}function f2({khoanLuongs:s,onClose:r,onAdd:l}){var d;const[i,c]=b.useState({khoanLuongId:((d=s[0])==null?void 0:d.id)||0,tenRule:"",loaiRule:"CO_DINH"});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsx("h3",{className:"text-lg font-semibold",children:"Thm Rule mi"})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn rule"}),e.jsx("input",{type:"text",value:i.tenRule,onChange:h=>c({...i,tenRule:h.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"VD: Ph cp trch nhim t trng"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Khon lng"}),e.jsx("select",{value:i.khoanLuongId,onChange:h=>c({...i,khoanLuongId:Number(h.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:s.map(h=>e.jsxs("option",{value:h.id,children:[h.tenKhoan," (",h.loai==="THU_NHAP"?"+":"-",")"]},h.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi rule"}),e.jsx("select",{value:i.loaiRule,onChange:h=>c({...i,loaiRule:h.target.value}),className:"w-full border rounded-lg px-3 py-2",children:Object.entries(gd).map(([h,p])=>e.jsx("option",{value:h,children:p},h))})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t flex justify-end gap-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsx("button",{onClick:()=>l(i),disabled:!i.tenRule||!i.khoanLuongId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Thm rule"})]})]})})}const gu={NHAP:{label:"Nhp",color:"bg-gray-100 text-gray-800"},DA_DUYET:{label:" duyt",color:"bg-green-100 text-green-800"},TU_CHOI:{label:"T chi",color:"bg-red-100 text-red-800"},HUY:{label:"Hu",color:"bg-gray-400 text-white"}},Qa={THUONG:{label:"Thng",color:"bg-green-100 text-green-800",icon:""},PHAT:{label:"Pht",color:"bg-red-100 text-red-800",icon:""}};function g2(){const[s,r]=b.useState([]),[l,i]=b.useState([]),[c,d]=b.useState([]),[h,p]=b.useState([]),[f,v]=b.useState(!0),[N,y]=b.useState(!1),[j,S]=b.useState(!1),[w,D]=b.useState([]),[E,T]=b.useState({}),[_,P]=b.useState({nhanVienId:0,phongBanId:0,ngay:new Date().toISOString().split("T")[0],loaiSuKien:"THUONG",maSuKien:"",giaTri:1,soTien:0,ghiChu:""}),[C,H]=b.useState({maSuKien:"",tenSuKien:"",loai:"THUONG",moTa:"",soTienMacDinh:0});b.useEffect(()=>{W()},[]);const W=async()=>{v(!0);try{const K={...E,tuNgay:E.tuNgay?new Date(E.tuNgay):void 0,denNgay:E.denNgay?new Date(E.denNgay):void 0},[G,le,re,R]=await Promise.all([Bs.layDanhSach(K),Bs.layDanhMucSuKien(),ln.layTatCa(),Fn.layTatCa()]);r(Array.isArray(G)?G:[]),i(le),d(re);const g="data"in R?R.data:R;p(Array.isArray(g)?g:[])}catch(K){console.error("Li load d liu:",K)}finally{v(!1)}},M=()=>{W()},F=async()=>{try{await Bs.tao({..._,ngay:new Date(_.ngay)}),y(!1),W(),J()}catch(K){console.error("Li to s kin:",K),alert("Li to s kin")}},se=async K=>{try{await Bs.duyet(K,{trangThai:"DA_DUYET"}),W()}catch(G){console.error("Li duyt:",G),alert("Li duyt s kin")}},U=async K=>{const G=prompt("L do t chi:");if(G)try{await Bs.duyet(K,{trangThai:"TU_CHOI",lyDo:G}),W()}catch(le){console.error("Li t chi:",le)}},Y=async()=>{if(w.length!==0&&confirm(`Duyt ${w.length} s kin?`))try{await Bs.duyetNhieu({danhSachId:w,trangThai:"DA_DUYET"}),D([]),W()}catch(K){console.error("Li duyt nhiu:",K)}},pe=async()=>{try{await Bs.taoDanhMucSuKien(C),S(!1),W(),H({maSuKien:"",tenSuKien:"",loai:"THUONG",moTa:"",soTienMacDinh:0})}catch(K){console.error("Li to danh mc:",K),alert("Li to danh mc")}},J=()=>{P({nhanVienId:0,phongBanId:0,ngay:new Date().toISOString().split("T")[0],loaiSuKien:"THUONG",maSuKien:"",giaTri:1,soTien:0,ghiChu:""})},de=K=>{D(G=>G.includes(K)?G.filter(le=>le!==K):[...G,K])},$=()=>{const K=s.filter(G=>G.trangThai==="NHAP").map(G=>G.id);w.length===K.length?D([]):D(K)},oe=K=>{const G=l.find(le=>le.maSuKien===K);P({..._,maSuKien:K,loaiSuKien:(G==null?void 0:G.loai)||"THUONG",soTien:(G==null?void 0:G.soTienMacDinh)||0})};return f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"S kin Thng/Pht"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Qun l cc s kin thng, pht cho nhn vin"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>S(!0),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Danh mc s kin"}),e.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(ws,{size:18}),"Thm s kin"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Phng ban"}),e.jsxs("select",{value:E.phongBanId||"",onChange:K=>T({...E,phongBanId:Number(K.target.value)||void 0}),className:"border rounded-lg px-3 py-2 w-48",children:[e.jsx("option",{value:"",children:"Tt c"}),c.map(K=>e.jsx("option",{value:K.id,children:K.tenPhongBan},K.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Loi"}),e.jsxs("select",{value:E.loaiSuKien||"",onChange:K=>T({...E,loaiSuKien:K.target.value||void 0}),className:"border rounded-lg px-3 py-2 w-32",children:[e.jsx("option",{value:"",children:"Tt c"}),e.jsx("option",{value:"THUONG",children:"Thng"}),e.jsx("option",{value:"PHAT",children:"Pht"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Trng thi"}),e.jsxs("select",{value:E.trangThai||"",onChange:K=>T({...E,trangThai:K.target.value||void 0}),className:"border rounded-lg px-3 py-2 w-32",children:[e.jsx("option",{value:"",children:"Tt c"}),Object.entries(gu).map(([K,{label:G}])=>e.jsx("option",{value:K,children:G},K))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"T ngy"}),e.jsx("input",{type:"date",value:E.tuNgay||"",onChange:K=>T({...E,tuNgay:K.target.value}),className:"border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"n ngy"}),e.jsx("input",{type:"date",value:E.denNgay||"",onChange:K=>T({...E,denNgay:K.target.value}),className:"border rounded-lg px-3 py-2"})]}),e.jsxs("button",{onClick:M,className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 flex items-center gap-2",children:[e.jsx(KN,{size:16}),"Lc"]})]})}),w.length>0&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-4 flex items-center justify-between",children:[e.jsxs("span",{className:"text-blue-800",children:[" chn ",w.length," s kin"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:Y,className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Duyt tt c"}),e.jsx("button",{onClick:()=>D([]),className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 text-sm",children:"B chn"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left w-10",children:e.jsx("input",{type:"checkbox",checked:s.filter(K=>K.trangThai==="NHAP").length>0&&w.length===s.filter(K=>K.trangThai==="NHAP").length,onChange:$})}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Ngy"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Nhn vin"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Phng ban"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Loi"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"M s kin"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-600",children:"Gi tr"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-600",children:"S tin"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-600",children:"Trng thi"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-600",children:"Thao tc"})]})}),e.jsxs("tbody",{children:[s.map(K=>{var G,le,re;return e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:K.trangThai==="NHAP"&&e.jsx("input",{type:"checkbox",checked:w.includes(K.id),onChange:()=>de(K.id)})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(K.ngay).toLocaleDateString("vi-VN")}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm font-medium",children:(G=K.nhanVien)==null?void 0:G.hoTen}),e.jsx("div",{className:"text-xs text-gray-500",children:(le=K.nhanVien)==null?void 0:le.maNhanVien})]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:(re=K.phongBan)==null?void 0:re.tenPhongBan}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${Qa[K.loaiSuKien].color}`,children:[Qa[K.loaiSuKien].icon," ",Qa[K.loaiSuKien].label]})}),e.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:K.maSuKien}),e.jsx("td",{className:"px-4 py-3 text-sm text-right",children:K.giaTri}),e.jsxs("td",{className:"px-4 py-3 text-sm text-right font-mono",children:[new Intl.NumberFormat("vi-VN").format(K.soTien),""]}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${gu[K.trangThai].color}`,children:gu[K.trangThai].label})}),e.jsx("td",{className:"px-4 py-3 text-center",children:K.trangThai==="NHAP"&&e.jsxs("div",{className:"flex justify-center gap-1",children:[e.jsx("button",{onClick:()=>se(K.id),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Duyt",children:e.jsx(Xi,{size:16})}),e.jsx("button",{onClick:()=>U(K.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"T chi",children:e.jsx(nr,{size:16})})]})})]},K.id)}),s.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-4 py-10 text-center text-gray-500",children:"Khng c s kin no"})})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsx("h3",{className:"text-lg font-semibold",children:"Thm s kin Thng/Pht"})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nhn vin"}),e.jsxs("select",{value:_.nhanVienId,onChange:K=>{const G=h.find(le=>le.id===Number(K.target.value));P({..._,nhanVienId:Number(K.target.value),phongBanId:(G==null?void 0:G.phongBanId)||_.phongBanId})},className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Chn --"}),h.map(K=>e.jsxs("option",{value:K.id,children:[K.hoTen," (",K.maNhanVien,")"]},K.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy"}),e.jsx("input",{type:"date",value:_.ngay,onChange:K=>P({..._,ngay:K.target.value}),className:"w-full border rounded-lg px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi s kin"}),e.jsxs("select",{value:_.maSuKien,onChange:K=>oe(K.target.value),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Chn s kin --"}),e.jsx("optgroup",{label:"Thng",children:l.filter(K=>K.loai==="THUONG").map(K=>e.jsxs("option",{value:K.maSuKien,children:[K.tenSuKien," (",K.maSuKien,")"]},K.maSuKien))}),e.jsx("optgroup",{label:"Pht",children:l.filter(K=>K.loai==="PHAT").map(K=>e.jsxs("option",{value:K.maSuKien,children:[K.tenSuKien," (",K.maSuKien,")"]},K.maSuKien))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi tr (ln/ngy/...)"}),e.jsx("input",{type:"number",value:_.giaTri,onChange:K=>P({..._,giaTri:Number(K.target.value)}),className:"w-full border rounded-lg px-3 py-2",min:1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S tin"}),e.jsx("input",{type:"number",value:_.soTien,onChange:K=>P({..._,soTien:Number(K.target.value)}),className:"w-full border rounded-lg px-3 py-2"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[new Intl.NumberFormat("vi-VN").format(_.soTien),""]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),e.jsx("textarea",{value:_.ghiChu,onChange:K=>P({..._,ghiChu:K.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{y(!1),J()},className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsx("button",{onClick:F,disabled:!_.nhanVienId||!_.maSuKien,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Thm s kin"})]})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Danh mc S kin"}),e.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-gray-100 rounded",children:e.jsx(nr,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Thm danh mc mi"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",placeholder:"M s kin",value:C.maSuKien,onChange:K=>H({...C,maSuKien:K.target.value}),className:"border rounded px-3 py-2"}),e.jsx("input",{type:"text",placeholder:"Tn s kin",value:C.tenSuKien,onChange:K=>H({...C,tenSuKien:K.target.value}),className:"border rounded px-3 py-2"}),e.jsxs("select",{value:C.loai,onChange:K=>H({...C,loai:K.target.value}),className:"border rounded px-3 py-2",children:[e.jsx("option",{value:"THUONG",children:"Thng"}),e.jsx("option",{value:"PHAT",children:"Pht"})]}),e.jsx("input",{type:"number",placeholder:"S tin mc nh",value:C.soTienMacDinh||"",onChange:K=>H({...C,soTienMacDinh:Number(K.target.value)}),className:"border rounded px-3 py-2"})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("button",{onClick:pe,disabled:!C.maSuKien||!C.tenSuKien,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:"Thm"})})]}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-sm",children:"M"}),e.jsx("th",{className:"px-3 py-2 text-left text-sm",children:"Tn"}),e.jsx("th",{className:"px-3 py-2 text-left text-sm",children:"Loi"}),e.jsx("th",{className:"px-3 py-2 text-right text-sm",children:"S tin mc nh"})]})}),e.jsx("tbody",{children:l.map(K=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-3 py-2 font-mono text-sm",children:K.maSuKien}),e.jsx("td",{className:"px-3 py-2",children:K.tenSuKien}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${Qa[K.loai].color}`,children:Qa[K.loai].label})}),e.jsx("td",{className:"px-3 py-2 text-right font-mono",children:K.soTienMacDinh?new Intl.NumberFormat("vi-VN").format(K.soTienMacDinh)+"":"-"})]},K.id))})]})]})]})})]})}const x2={CO_DINH:"C nh",THEO_HE_SO:"Theo h s",BAC_THANG:"Bc thang",THEO_SU_KIEN:"Theo s kin",CONG_THUC:"Cng thc"};function y2(){const[s]=Vv(),r=Number(s.get("bangLuongId"))||0,[l,i]=b.useState(null),[c,d]=b.useState([]),[h,p]=b.useState(!0),[f,v]=b.useState(""),[N,y]=b.useState([]);b.useEffect(()=>{r&&j()},[r]);const j=async()=>{p(!0);try{const[T,_]=await Promise.all([an.layTheoId(r),n2.xemTrace(r)]);i(T),d(_)}catch(T){console.error("Li load d liu:",T)}finally{p(!1)}},S=c.reduce((T,_)=>{const P=_.nhanVienId;return T[P]||(T[P]={nhanVien:_.nhanVien,traces:[]}),T[P].traces.push(_),T},{}),w=Object.entries(S).filter(([T,_])=>{var C,H;if(!f)return!0;const P=f.toLowerCase();return((C=_.nhanVien)==null?void 0:C.hoTen.toLowerCase().includes(P))||((H=_.nhanVien)==null?void 0:H.maNhanVien.toLowerCase().includes(P))}),D=T=>{y(_=>_.includes(T)?_.filter(P=>P!==T):[..._,T])},E=T=>new Intl.NumberFormat("vi-VN").format(T);return h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(Gt,{to:`/bang-luong/${r}`,className:"p-2 hover:bg-gray-100 rounded",children:e.jsx(rd,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rule Trace - Gii trnh tnh lng"}),l&&e.jsxs("p",{className:"text-gray-500 mt-1",children:[l.phongBan.tenPhongBan," - Thng ",l.thang,"/",l.nam]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(od,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Tm theo tn hoc m nhn vin...",value:f,onChange:T=>v(T.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]})}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("span",{className:"text-blue-800",children:["Tng: ",Object.keys(S).length," nhn vin, ",c.length," dng trace"]})}),e.jsx("button",{onClick:()=>{N.length===Object.keys(S).length?y([]):y(Object.keys(S).map(Number))},className:"text-sm text-blue-600 hover:underline",children:N.length===Object.keys(S).length?"Thu gn tt c":"M rng tt c"})]}),e.jsxs("div",{className:"space-y-4",children:[w.map(([T,_])=>{var W,M;const P=Number(T),C=N.includes(P),H=_.traces.reduce((F,se)=>F+se.outputSoTien,0);return e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("button",{onClick:()=>D(P),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[C?e.jsx(rg,{size:18,className:"text-gray-400"}):e.jsx(IN,{size:18,className:"text-gray-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:(W=_.nhanVien)==null?void 0:W.hoTen}),e.jsx("div",{className:"text-sm text-gray-500",children:(M=_.nhanVien)==null?void 0:M.maNhanVien})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium text-blue-600",children:[E(H),""]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[_.traces.length," rules"]})]})]}),C&&e.jsx("div",{className:"border-t",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Quy ch"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Rule"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Khon lng"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"S tin"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Gii thch"})]})}),e.jsx("tbody",{children:_.traces.map(F=>{var se,U,Y,pe,J,de;return e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("div",{className:"text-sm",children:(se=F.quyChe)==null?void 0:se.tenQuyChe}),e.jsxs("div",{className:"text-xs text-gray-500",children:["v",(U=F.quyChe)==null?void 0:U.phienBan]})]}),e.jsx("td",{className:"px-4 py-2",children:F.quyCheRule?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm",children:F.quyCheRule.tenRule}),e.jsx("div",{className:"text-xs text-gray-500",children:x2[F.quyCheRule.loaiRule]})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"-"})}),e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("div",{className:"text-sm",children:(Y=F.khoanLuong)==null?void 0:Y.tenKhoan}),e.jsx("div",{className:"text-xs text-gray-500",children:(pe=F.khoanLuong)==null?void 0:pe.maKhoan})]}),e.jsx("td",{className:"px-4 py-2 text-right",children:e.jsxs("span",{className:`font-mono text-sm ${((J=F.khoanLuong)==null?void 0:J.loai)==="KHAU_TRU"?"text-red-600":"text-green-600"}`,children:[((de=F.khoanLuong)==null?void 0:de.loai)==="KHAU_TRU"?"-":"+",E(F.outputSoTien),""]})}),e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:F.messageGiaiThich}),F.inputJson&&e.jsxs("details",{className:"mt-1",children:[e.jsx("summary",{className:"text-xs text-blue-600 cursor-pointer",children:"Xem input"}),e.jsx("pre",{className:"mt-1 text-xs bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(JSON.parse(F.inputJson),null,2)})]})]})]},F.id)})})]})})]},P)}),w.length===0&&e.jsx("div",{className:"text-center text-gray-500 py-10",children:"Khng c d liu trace"})]})]})}function v2(){return e.jsxs(Dv,{children:[e.jsx(Qe,{path:"/dang-nhap",element:e.jsx(Q1,{})}),e.jsxs(Qe,{path:"/",element:e.jsx(Aj,{}),children:[e.jsx(Qe,{index:!0,element:e.jsx(Kj,{})}),e.jsx(Qe,{path:"bang-luong",element:e.jsx(Uj,{})}),e.jsx(Qe,{path:"bang-luong/:id",element:e.jsx(H1,{})}),e.jsx(Qe,{path:"nhan-vien",element:e.jsx(F1,{})}),e.jsx(Qe,{path:"nhan-vien/:id",element:e.jsx(B1,{})}),e.jsx(Qe,{path:"phong-ban",element:e.jsx($1,{})}),e.jsx(Qe,{path:"khoan-luong",element:e.jsx(K1,{})}),e.jsx(Qe,{path:"cham-cong",element:e.jsx(V1,{})}),e.jsx(Qe,{path:"import-excel",element:e.jsx(U1,{})}),e.jsx(Qe,{path:"cai-dat",element:e.jsx(q1,{})}),e.jsx(Qe,{path:"quy-che",element:e.jsx(Dn,{children:e.jsx(r2,{})})}),e.jsx(Qe,{path:"quy-che/:id",element:e.jsx(Dn,{children:e.jsx(p2,{})})}),e.jsx(Qe,{path:"su-kien",element:e.jsx(Dn,{children:e.jsx(g2,{})})}),e.jsx(Qe,{path:"rule-trace",element:e.jsx(Dn,{children:e.jsx(y2,{})})}),e.jsx(Qe,{path:"kpi/template",element:e.jsx(Dn,{children:e.jsx(W1,{})})}),e.jsx(Qe,{path:"kpi/ky-danh-gia",element:e.jsx(Dn,{children:e.jsx(J1,{})})}),e.jsx(Qe,{path:"kpi/cau-hinh-thuong",element:e.jsx(Dn,{children:e.jsx(Y1,{})})}),e.jsx(Qe,{path:"quan-tri/nguoi-dung",element:e.jsx(Dn,{children:e.jsx(Z1,{})})}),e.jsx(Qe,{path:"quan-tri/audit-log",element:e.jsx(Dn,{children:e.jsx(e2,{})})}),e.jsx(Qe,{path:"*",element:e.jsx(Pv,{to:"/",replace:!0})})]})]})}const N2=new Ty({defaultOptions:{queries:{staleTime:300*1e3,retry:1}}});ey.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(Cy,{client:N2,children:e.jsx(Bv,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs(Oj,{children:[e.jsx(v2,{}),e.jsx(DN,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}})]})})})}));
