{"id":"APPROVAL-WORKFLOWS-REPORT-0","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"üìë M·ª•c l·ª•c","sectionPath":"APPROVAL-WORKFLOWS-REPORT > üìë M·ª•c l·ª•c","contentMd":"## üìë M·ª•c l·ª•c\n\n1. [T·ªïng quan](#1-t·ªïng-quan)\n2. [ƒê∆°n Ngh·ªâ ph√©p (Leave Request)](#2-ƒë∆°n-ngh·ªâ-ph√©p-leave-request)\n3. [ƒê∆°n Y√™u c·∫ßu (General Request - OT, Tr·ªÖ, S·ªõm, WFH)](#3-ƒë∆°n-y√™u-c·∫ßu-general-request)\n4. [B·∫£ng L∆∞∆°ng (Payroll)](#4-b·∫£ng-l∆∞∆°ng-payroll)\n5. [Phi·∫øu ƒêi·ªÅu ch·ªânh L∆∞∆°ng (Salary Adjustment)](#5-phi·∫øu-ƒëi·ªÅu-ch·ªânh-l∆∞∆°ng-salary-adjustment)\n6. [B·∫£ng ·ª®ng l∆∞∆°ng (Advance Salary)](#6-b·∫£ng-·ª©ng-l∆∞∆°ng-advance-salary)\n7. [Y√™u c·∫ßu S·ª≠a c√¥ng (Timesheet Correction)](#7-y√™u-c·∫ßu-s·ª≠a-c√¥ng-timesheet-correction)\n8. [ƒê√°nh gi√° KPI](#8-ƒë√°nh-gi√°-kpi)\n9. [Ma tr·∫≠n T·ªïng h·ª£p](#9-ma-tr·∫≠n-t·ªïng-h·ª£p)\n10. [ƒê·ªÅ xu·∫•t C·∫£i ti·∫øn](#10-ƒë·ªÅ-xu·∫•t-c·∫£i-ti·∫øn)\n\n---","tokenCount":157,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-1","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"Ki·∫øn tr√∫c chung","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 1. T·ªïng quan","contentMd":"### Ki·∫øn tr√∫c chung\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ                     APPROVAL WORKFLOWS                          ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ                                                                 ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ\n‚îÇ  ‚îÇ Leave       ‚îÇ  ‚îÇ Request     ‚îÇ  ‚îÇ Payroll     ‚îÇ             ‚îÇ\n‚îÇ  ‚îÇ (Ngh·ªâ ph√©p) ‚îÇ  ‚îÇ (Y√™u c·∫ßu)   ‚îÇ  ‚îÇ (B·∫£ng l∆∞∆°ng)‚îÇ             ‚îÇ\n‚îÇ  ‚îÇ 1-level     ‚îÇ  ‚îÇ 1-2 level   ‚îÇ  ‚îÇ Lock-based  ‚îÇ             ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ\n‚îÇ                                                                 ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ\n‚îÇ  ‚îÇ Adjustment  ‚îÇ  ‚îÇ Advance     ‚îÇ  ‚îÇ Timesheet   ‚îÇ             ‚îÇ\n‚îÇ  ‚îÇ (ƒêi·ªÅu ch·ªânh)‚îÇ  ‚îÇ (·ª®ng l∆∞∆°ng) ‚îÇ  ‚îÇ (S·ª≠a c√¥ng)  ‚îÇ             ‚îÇ\n‚îÇ  ‚îÇ 1-level     ‚îÇ  ‚îÇ Lock-based  ‚îÇ  ‚îÇ 1-level     ‚îÇ             ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ\n‚îÇ                                                                 ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                               ‚îÇ\n‚îÇ  ‚îÇ KPI         ‚îÇ                                               ‚îÇ\n‚îÇ  ‚îÇ (ƒê√°nh gi√°)  ‚îÇ                                               ‚îÇ\n‚îÇ  ‚îÇ 2-phase     ‚îÇ                                               ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                               ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n---","tokenCount":379,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-2","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"2.1 Th√¥ng tin Model","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 2. ƒê∆°n Ngh·ªâ ph√©p (Leave Request)","contentMd":"### 2.1 Th√¥ng tin Model\n\n| Thu·ªôc t√≠nh | Gi√° tr·ªã |\n|------------|---------|\n| **Model** | `DonNghiPhep` |\n| **Schema** | `backend/prisma/schema.prisma` |\n| **Service** | `backend/src/modules/nghi-phep/nghi-phep.service.ts` |\n| **Controller** | `backend/src/modules/nghi-phep/nghi-phep.controller.ts` |","tokenCount":76,"tags":[],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/don"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-3","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"2.2 C√°c tr·∫°ng th√°i","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 2. ƒê∆°n Ngh·ªâ ph√©p (Leave Request)","contentMd":"### 2.2 C√°c tr·∫°ng th√°i\n\n| Tr·∫°ng th√°i | M√¥ t·∫£ | Cho ph√©p s·ª≠a |\n|------------|-------|--------------|\n| `NHAP` | Nh√°p - nh√¢n vi√™n c√≥ th·ªÉ s·ª≠a/x√≥a | ‚úÖ |\n| `GUI_DUYET` | G·ª≠i duy·ªát - ch·ªù qu·∫£n l√Ω duy·ªát | ‚ùå |\n| `DA_DUYET` | ƒê√£ duy·ªát - t·ª± ƒë·ªông map v√†o ch·∫•m c√¥ng | ‚ùå |\n| `TU_CHOI` | T·ª´ ch·ªëi - c√≥ th·ªÉ s·ª≠a v√† g·ª≠i l·∫°i | ‚úÖ |\n| `HUY` | ƒê√£ h·ªßy | ‚ùå |","tokenCount":84,"tags":[],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/don"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-4","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"2.3 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi tr·∫°ng th√°i","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 2. ƒê∆°n Ngh·ªâ ph√©p (Leave Request)","contentMd":"### 2.3 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi tr·∫°ng th√°i\n\n```\n                          guiDuyet()\n      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n      ‚îÇ                                                  ‚îÇ\n      ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ\n      ‚îÇ    ‚îÇ  NHAP   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ GUI_DUYET  ‚îÇ           ‚îÇ\n      ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ\n      ‚îÇ         ‚ñ≤                    ‚îÇ                  ‚îÇ\n      ‚îÇ         ‚îÇ                    ‚îÇ                  ‚îÇ\n      ‚îÇ    s·ª≠a ƒë∆°n              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ\n      ‚îÇ         ‚îÇ               ‚îÇ         ‚îÇ             ‚îÇ\n      ‚îÇ         ‚îÇ          duyet()   tuChoi()           ‚îÇ\n      ‚îÇ         ‚îÇ               ‚îÇ         ‚îÇ             ‚îÇ\n      ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚ñº         ‚ñº             ‚îÇ\n      ‚îÇ    ‚îÇ TU_CHOI ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ             ‚îÇ\n      ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îÇ             ‚îÇ\n      ‚îÇ         ‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ\n      ‚îÇ         ‚îÇ              ‚îÇ     DA_DUYET        ‚îÇ  ‚îÇ\n      ‚îÇ         ‚îÇ              ‚îÇ (auto-map ch·∫•m c√¥ng)‚îÇ  ‚îÇ\n      ‚îÇ         ‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ\n      ‚îÇ         ‚îÇ                         ‚îÇ             ‚îÇ\n      ‚îÇ         ‚îÇ         huy()           ‚îÇ             ‚îÇ\n      ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ\n      ‚îÇ                           ‚îÇ      HUY      ‚îÇ     ‚îÇ\n      ‚îÇ                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ\n      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```","tokenCount":370,"tags":[],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/don"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-5","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"2.4 API Endpoints","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 2. ƒê∆°n Ngh·ªâ ph√©p (Leave Request)","contentMd":"### 2.4 API Endpoints\n\n| Endpoint | Method | Permission | M√¥ t·∫£ |\n|----------|--------|------------|-------|\n| `/nghi-phep/don` | POST | `NGHI_PHEP_TAO_DON` | T·∫°o ƒë∆°n m·ªõi |\n| `/nghi-phep/don/:id` | PUT | `NGHI_PHEP_SUA_DON` | C·∫≠p nh·∫≠t (ch·ªâ NHAP/TU_CHOI) |\n| `/nghi-phep/don/:id/gui-duyet` | POST | `NGHI_PHEP_GUI_DUYET` | G·ª≠i duy·ªát |\n| `/nghi-phep/don/:id/duyet` | POST | `NGHI_PHEP_DUYET` | Duy·ªát ƒë∆°n |\n| `/nghi-phep/don/:id/tu-choi` | POST | `NGHI_PHEP_DUYET` | T·ª´ ch·ªëi (y√™u c·∫ßu l√Ω do) |\n| `/nghi-phep/don/:id/huy` | POST | `NGHI_PHEP_HUY_DON` | H·ªßy ƒë∆°n |","tokenCount":140,"tags":[],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/don"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-6","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"2.5 Quy t·∫Øc nghi·ªáp v·ª•","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 2. ƒê∆°n Ngh·ªâ ph√©p (Leave Request)","contentMd":"### 2.5 Quy t·∫Øc nghi·ªáp v·ª•\n\n1. **Ch·ªâ s·ª≠a ƒë∆∞·ª£c ·ªü tr·∫°ng th√°i NHAP ho·∫∑c TU_CHOI**\n2. **T·ª± ƒë·ªông lo·∫°i tr·ª´ ng√†y cu·ªëi tu·∫ßn** khi t√≠nh s·ªë ng√†y ngh·ªâ\n3. **Khi duy·ªát**: T·ª± ƒë·ªông t·∫°o `ChiTietNghiPhepNgay` cho t·ª´ng ng√†y\n4. **Khi h·ªßy ƒë∆°n ƒë√£ duy·ªát**: X√≥a mapping ch·∫•m c√¥ng\n5. **Duy·ªát 1 c·∫•p** - ch·ªâ c·∫ßn 1 ng∆∞·ªùi duy·ªát\n\n---","tokenCount":76,"tags":[],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/don"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-7","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"3.1 Th√¥ng tin Model","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 3. ƒê∆°n Y√™u c·∫ßu (General Request)","contentMd":"### 3.1 Th√¥ng tin Model\n\n| Thu·ªôc t√≠nh | Gi√° tr·ªã |\n|------------|---------|\n| **Model** | `DonYeuCau` |\n| **Config Model** | `RequestWorkflowConfig` |\n| **Service** | `backend/src/modules/yeu-cau/yeu-cau.service.ts` |\n| **Controller** | `backend/src/modules/yeu-cau/yeu-cau.controller.ts` |","tokenCount":73,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/don","/yeu-cau/inbox/cap-1","/yeu-cau/inbox/cap-2","/yeu-cau/inbox/duyet-batch","/yeu-cau/my-requests"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-8","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"3.2 Lo·∫°i y√™u c·∫ßu h·ªó tr·ª£","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 3. ƒê∆°n Y√™u c·∫ßu (General Request)","contentMd":"### 3.2 Lo·∫°i y√™u c·∫ßu h·ªó tr·ª£\n\n| M√£ lo·∫°i | T√™n | Y√™u c·∫ßu gi·ªù |\n|---------|-----|-------------|\n| `OT` | L√†m th√™m gi·ªù | ‚úÖ |\n| `TRE_GIO` | ƒêi tr·ªÖ | ‚úÖ |\n| `VE_SOM` | V·ªÅ s·ªõm | ‚úÖ |\n| `CONG_TAC` | C√¥ng t√°c | ‚ùå |\n| `WFH` | L√†m vi·ªác t·ª´ xa | ‚ùå |\n| `NGHI_PHEP` | Ngh·ªâ ph√©p nƒÉm | ‚úÖ (ng√†y) |\n| `NGHI_KHONG_LUONG` | Ngh·ªâ kh√¥ng l∆∞∆°ng | ‚úÖ (ng√†y) |\n| `NGHI_OM` | Ngh·ªâ ·ªëm | ‚úÖ (ng√†y) |\n| `NGHI_THAI_SAN` | Ngh·ªâ thai s·∫£n | ‚úÖ (ng√†y) |\n| `NGHI_VIEC_RIENG` | Ngh·ªâ vi·ªác ri√™ng | ‚úÖ (ng√†y) |","tokenCount":117,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/don","/yeu-cau/inbox/cap-1","/yeu-cau/inbox/cap-2","/yeu-cau/inbox/duyet-batch","/yeu-cau/my-requests"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-9","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"3.3 C√°c tr·∫°ng th√°i","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 3. ƒê∆°n Y√™u c·∫ßu (General Request)","contentMd":"### 3.3 C√°c tr·∫°ng th√°i\n\n| Tr·∫°ng th√°i | M√¥ t·∫£ | C·∫•p duy·ªát |\n|------------|-------|-----------|\n| `NHAP` | Nh√°p | - |\n| `CHO_DUYET_1` | Ch·ªù duy·ªát c·∫•p 1 | Manager |\n| `CHO_DUYET_2` | Ch·ªù duy·ªát c·∫•p 2 | HR |\n| `DA_DUYET` | ƒê√£ duy·ªát ho√†n to√†n | - |\n| `TU_CHOI_1` | T·ª´ ch·ªëi c·∫•p 1 | - |\n| `TU_CHOI_2` | T·ª´ ch·ªëi c·∫•p 2 | - |\n| `HUY` | ƒê√£ h·ªßy | - |","tokenCount":85,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/don","/yeu-cau/inbox/cap-1","/yeu-cau/inbox/cap-2","/yeu-cau/inbox/duyet-batch","/yeu-cau/my-requests"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-10","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"3.4 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi (2 c·∫•p duy·ªát)","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 3. ƒê∆°n Y√™u c·∫ßu (General Request)","contentMd":"### 3.4 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi (2 c·∫•p duy·ªát)\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ                                                                ‚îÇ\n‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    guiDuyet()    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ\n‚îÇ   ‚îÇ  NHAP   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ CHO_DUYET_1 ‚îÇ                ‚îÇ\n‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ\n‚îÇ        ‚ñ≤                             ‚îÇ                        ‚îÇ\n‚îÇ        ‚îÇ                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ\n‚îÇ        ‚îÇ                       ‚îÇ           ‚îÇ                  ‚îÇ\n‚îÇ   (s·ª≠a ƒë∆°n)            duyetCap1()   tuChoiCap1()             ‚îÇ\n‚îÇ        ‚îÇ                       ‚îÇ           ‚îÇ                  ‚îÇ\n‚îÇ        ‚îÇ                       ‚ñº           ‚ñº                  ‚îÇ\n‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ\n‚îÇ   ‚îÇ TU_CHOI ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ CHO_DUYET_2 ‚îÇ  ‚îÇTU_CHOI_1‚îÇ         ‚îÇ\n‚îÇ   ‚îÇ  (any)  ‚îÇ           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ\n‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ                              ‚îÇ\n‚îÇ                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                        ‚îÇ\n‚îÇ                          ‚îÇ           ‚îÇ                        ‚îÇ\n‚îÇ                   duyetCap2()   tuChoiCap2()                  ‚îÇ\n‚îÇ                          ‚îÇ           ‚îÇ                        ‚îÇ\n‚îÇ                          ‚ñº           ‚ñº                        ‚îÇ\n‚îÇ                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ\n‚îÇ                   ‚îÇ DA_DUYET  ‚îÇ  ‚îÇTU_CHOI_2‚îÇ                  ‚îÇ\n‚îÇ                   ‚îÇ(map c√¥ng) ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ\n‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                               ‚îÇ\n‚îÇ                                                                ‚îÇ\n‚îÇ   ‚Äª HR Override: C√≥ th·ªÉ ƒë·ªïi quy·∫øt ƒë·ªãnh ·ªü b·∫•t k·ª≥ tr·∫°ng th√°i   ‚îÇ\n‚îÇ                                                                ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```","tokenCount":475,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/don","/yeu-cau/inbox/cap-1","/yeu-cau/inbox/cap-2","/yeu-cau/inbox/duyet-batch","/yeu-cau/my-requests"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-11","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"3.5 C·∫•u h√¨nh Workflow","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 3. ƒê∆°n Y√™u c·∫ßu (General Request)","contentMd":"### 3.5 C·∫•u h√¨nh Workflow\n\n```typescript\ninterface RequestWorkflowConfig {\n  loaiYeuCauId: number;      // Lo·∫°i y√™u c·∫ßu √°p d·ª•ng\n  phongBanId?: number;       // Ph√≤ng ban (null = t·∫•t c·∫£)\n  soCap: 1 | 2;              // S·ªë c·∫•p duy·ªát\n  nguoiDuyet1: \n    | 'QUAN_LY_TRUC_TIEP'    // Qu·∫£n l√Ω tr·ª±c ti·∫øp\n    | 'TRUONG_PHONG'         // Tr∆∞·ªüng ph√≤ng\n    | 'NGUOI_DUNG_CU_THE';   // Ng∆∞·ªùi d√πng c·ª• th·ªÉ\n  nguoiDuyet2: \n    | 'HR'                   // Ph√≤ng HR\n    | 'NGUOI_DUNG_CU_THE';   // Ng∆∞·ªùi d√πng c·ª• th·ªÉ\n  tuDongDuyetNeuQuaHan: boolean;  // T·ª± ƒë·ªông duy·ªát sau h·∫°n\n  soNgayQuaHan?: number;     // S·ªë ng√†y qu√° h·∫°n\n}\n```","tokenCount":154,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/don","/yeu-cau/inbox/cap-1","/yeu-cau/inbox/cap-2","/yeu-cau/inbox/duyet-batch","/yeu-cau/my-requests"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-12","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"3.6 API Endpoints","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 3. ƒê∆°n Y√™u c·∫ßu (General Request)","contentMd":"### 3.6 API Endpoints\n\n| Endpoint | Method | Permission | M√¥ t·∫£ |\n|----------|--------|------------|-------|\n| `/yeu-cau/don` | POST | `YEU_CAU_TAO_DON` | T·∫°o ƒë∆°n |\n| `/yeu-cau/don/:id` | PUT | - | C·∫≠p nh·∫≠t |\n| `/yeu-cau/don/:id/gui-duyet` | POST | - | G·ª≠i duy·ªát |\n| `/yeu-cau/don/:id/duyet-cap-1` | POST | `YEU_CAU_DUYET_CAP_1` | Duy·ªát c·∫•p 1 |\n| `/yeu-cau/don/:id/duyet-cap-2` | POST | `YEU_CAU_DUYET_CAP_2` | Duy·ªát c·∫•p 2 |\n| `/yeu-cau/don/:id/tu-choi-cap-1` | POST | `YEU_CAU_DUYET_CAP_1` | T·ª´ ch·ªëi c·∫•p 1 |\n| `/yeu-cau/don/:id/tu-choi-cap-2` | POST | `YEU_CAU_DUYET_CAP_2` | T·ª´ ch·ªëi c·∫•p 2 |\n| `/yeu-cau/don/:id/override` | POST | `YEU_CAU_OVERRIDE` | HR override |\n| `/yeu-cau/don/:id/huy` | POST | - | H·ªßy ƒë∆°n |\n| `/yeu-cau/inbox/cap-1` | GET | `YEU_CAU_DUYET_CAP_1` | Inbox c·∫•p 1 |\n| `/yeu-cau/inbox/cap-2` | GET | `YEU_CAU_DUYET_CAP_2` | Inbox c·∫•p 2 |\n| `/yeu-cau/inbox/duyet-batch` | POST | - | Duy·ªát h√†ng lo·∫°t |\n| `/yeu-cau/my-requests` | GET | - | ƒê∆°n c·ªßa t√¥i |","tokenCount":243,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/don","/yeu-cau/inbox/cap-1","/yeu-cau/inbox/cap-2","/yeu-cau/inbox/duyet-batch","/yeu-cau/my-requests"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-13","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"3.7 Quy t·∫Øc nghi·ªáp v·ª•","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 3. ƒê∆°n Y√™u c·∫ßu (General Request)","contentMd":"### 3.7 Quy t·∫Øc nghi·ªáp v·ª•\n\n1. **C·∫•u h√¨nh 1 ho·∫∑c 2 c·∫•p duy·ªát** theo lo·∫°i y√™u c·∫ßu v√† ph√≤ng ban\n2. **Override**: HR c√≥ th·ªÉ ƒë·ªïi quy·∫øt ƒë·ªãnh b·∫•t k·ª≥ l√∫c n√†o\n3. **T·ª± ƒë·ªông t√≠nh gi·ªù** t·ª´ gi·ªù b·∫Øt ƒë·∫ßu/k·∫øt th√∫c (x·ª≠ l√Ω qua ƒë√™m)\n4. **Khi duy·ªát**: T·∫°o `RequestMappingChamCong` ƒë·ªÉ t√≠ch h·ª£p ch·∫•m c√¥ng\n5. **Th√¥ng b√°o** khi duy·ªát/t·ª´ ch·ªëi\n\n---","tokenCount":81,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/don","/yeu-cau/inbox/cap-1","/yeu-cau/inbox/cap-2","/yeu-cau/inbox/duyet-batch","/yeu-cau/my-requests"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-14","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"4.1 Th√¥ng tin Model","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 4. B·∫£ng L∆∞∆°ng (Payroll)","contentMd":"### 4.1 Th√¥ng tin Model\n\n| Thu·ªôc t√≠nh | Gi√° tr·ªã |\n|------------|---------|\n| **Model** | `BangLuong` |\n| **Service** | `backend/src/modules/bang-luong/bang-luong.service.ts` |\n| **Controller** | `backend/src/modules/bang-luong/bang-luong.controller.ts` |","tokenCount":64,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/bang-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-15","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"4.2 C√°c tr·∫°ng th√°i","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 4. B·∫£ng L∆∞∆°ng (Payroll)","contentMd":"### 4.2 C√°c tr·∫°ng th√°i\n\n| Tr·∫°ng th√°i | M√¥ t·∫£ | S·ª≠a ƒë∆∞·ª£c | M·ªü kh√≥a ƒë∆∞·ª£c |\n|------------|-------|----------|--------------|\n| `NHAP` | ƒêang nh·∫≠p li·ªáu | ‚úÖ | - |\n| `DA_CHOT` | ƒê√£ ch·ªët - t·∫°o snapshot | ‚ùå | ‚úÖ (Admin) |\n| `KHOA` | Kh√≥a vƒ©nh vi·ªÖn | ‚ùå | ‚ùå |","tokenCount":63,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/bang-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-16","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"4.3 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 4. B·∫£ng L∆∞∆°ng (Payroll)","contentMd":"### 4.3 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ                                                             ‚îÇ\n‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     chot()      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     khoa()     ‚îÇ\n‚îÇ    ‚îÇ  NHAP   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ DA_CHOT  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ\n‚îÇ    ‚îÇ         ‚îÇ                 ‚îÇ          ‚îÇ                ‚îÇ\n‚îÇ    ‚îÇ‚Ä¢ S·ª≠a OK ‚îÇ                 ‚îÇ‚Ä¢ Snapshot‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ\n‚îÇ    ‚îÇ‚Ä¢ T√≠nh   ‚îÇ   moKhoa()      ‚îÇ‚Ä¢ BHXH    ‚îÇ    ‚îÇ KHOA  ‚îÇ   ‚îÇ\n‚îÇ    ‚îÇ  l∆∞∆°ng  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚Ä¢ Thu·∫ø    ‚îÇ    ‚îÇ       ‚îÇ   ‚îÇ\n‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  (ADMIN + l√Ω do)‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ‚Ä¢ Final‚îÇ   ‚îÇ\n‚îÇ         ‚îÇ                                       ‚îÇ‚Ä¢ Lock ‚îÇ   ‚îÇ\n‚îÇ         ‚îÇ           calcBHXH()                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ\n‚îÇ         ‚îÇ           calcThue()                      ‚ñ≤      ‚îÇ\n‚îÇ         ‚îÇ           createSnapshot()                ‚îÇ      ‚îÇ\n‚îÇ         ‚ñº                                          ‚îÇ      ‚îÇ\n‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ      ‚îÇ\n‚îÇ    ‚îÇ              SIDE EFFECTS                    ‚îÇ ‚îÇ      ‚îÇ\n‚îÇ    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ      ‚îÇ\n‚îÇ    ‚îÇ ‚Ä¢ T·∫°o SnapshotBangLuong                     ‚îÇ ‚îÇ      ‚îÇ\n‚îÇ    ‚îÇ ‚Ä¢ T√≠nh BangTinhBHXH cho t·ª´ng NV             ‚îÇ‚îÄ‚îò      ‚îÇ\n‚îÇ    ‚îÇ ‚Ä¢ T√≠nh BangTinhThue cho t·ª´ng NV             ‚îÇ        ‚îÇ\n‚îÇ    ‚îÇ ‚Ä¢ Ghi ngayChotLuong, nguoiChotLuong         ‚îÇ        ‚îÇ\n‚îÇ    ‚îÇ ‚Ä¢ Log v√†o LichSuChinhSua                    ‚îÇ        ‚îÇ\n‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ\n‚îÇ                                                             ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```","tokenCount":402,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/bang-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-17","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"4.4 API Endpoints","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 4. B·∫£ng L∆∞∆°ng (Payroll)","contentMd":"### 4.4 API Endpoints\n\n| Endpoint | Method | Permission | M√¥ t·∫£ |\n|----------|--------|------------|-------|\n| `/bang-luong` | POST | - | T·∫°o b·∫£ng l∆∞∆°ng |\n| `/bang-luong/:id` | PUT | - | C·∫≠p nh·∫≠t (ch·ªâ NHAP) |\n| `/bang-luong/:id/chot` | POST | - | Ch·ªët l∆∞∆°ng |\n| `/bang-luong/:id/khoa` | POST | - | Kh√≥a vƒ©nh vi·ªÖn |\n| `/bang-luong/:id/mo-khoa` | POST | `ADMIN` | M·ªü kh√≥a (c·∫ßn l√Ω do ‚â•10 k√Ω t·ª±) |\n| `/bang-luong/:id/tinh-lai` | POST | - | T√≠nh l·∫°i to√†n b·ªô |\n| `/bang-luong/:id/tinh-bhxh-thue` | POST | - | T√≠nh BHXH/Thu·∫ø |\n| `/bang-luong/:id/export-excel` | GET | - | Xu·∫•t Excel |","tokenCount":145,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/bang-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-18","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"4.5 Quy t·∫Øc nghi·ªáp v·ª•","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 4. B·∫£ng L∆∞∆°ng (Payroll)","contentMd":"### 4.5 Quy t·∫Øc nghi·ªáp v·ª•\n\n1. **Lock mechanism** ngƒÉn ch·ªânh s·ª≠a sau khi ch·ªët\n2. **Khi ch·ªët** (`chotBangLuong()`):\n   - T√≠nh BHXH cho t·∫•t c·∫£ nh√¢n vi√™n\n   - T√≠nh thu·∫ø TNCN cho t·∫•t c·∫£ nh√¢n vi√™n\n   - T·∫°o `SnapshotBangLuong` l∆∞u to√†n b·ªô d·ªØ li·ªáu\n   - Ghi `ngayChotLuong` v√† `nguoiChotLuong`\n3. **M·ªü kh√≥a y√™u c·∫ßu l√Ω do** (t·ªëi thi·ªÉu 10 k√Ω t·ª±)\n4. **Tr·∫°ng th√°i KHOA l√† vƒ©nh vi·ªÖn** - kh√¥ng th·ªÉ m·ªü kh√≥a\n5. **Ph·ª• c·∫•p c·ªë ƒë·ªãnh** (`nguon = CO_DINH`) kh√¥ng th·ªÉ s·ª≠a trong b·∫£ng l∆∞∆°ng\n6. **M·ªçi thay ƒë·ªïi ƒë∆∞·ª£c log** v√†o `LichSuChinhSua`\n\n---","tokenCount":130,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/bang-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-19","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"5.1 Th√¥ng tin Model","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 5. Phi·∫øu ƒêi·ªÅu ch·ªânh L∆∞∆°ng (Salary Adjustment)","contentMd":"### 5.1 Th√¥ng tin Model\n\n| Thu·ªôc t√≠nh | Gi√° tr·ªã |\n|------------|---------|\n| **Model** | `PhieuDieuChinh` |\n| **Child Model** | `ChiTietPhieuDieuChinh` |\n| **Service** | `backend/src/modules/bang-luong/snapshot-dieu-chinh.service.ts` |","tokenCount":60,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/snapshot-dieu-chinh/phieu-dieu-chinh"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-20","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"5.3 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 5. Phi·∫øu ƒêi·ªÅu ch·ªânh L∆∞∆°ng (Salary Adjustment)","contentMd":"### 5.3 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ                                                             ‚îÇ\n‚îÇ    (T·∫°o m·ªõi)                                                ‚îÇ\n‚îÇ        ‚îÇ                                                    ‚îÇ\n‚îÇ        ‚ñº                                                    ‚îÇ\n‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                            ‚îÇ\n‚îÇ    ‚îÇ CHO_DUYET ‚îÇ                                            ‚îÇ\n‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                            ‚îÇ\n‚îÇ         ‚îÇ                                                   ‚îÇ\n‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                  ‚îÇ\n‚îÇ    ‚îÇ    ‚îÇ                ‚îÇ                                  ‚îÇ\n‚îÇ duyet() ‚îÇ           tuChoi()                                ‚îÇ\n‚îÇ    ‚îÇ    ‚îÇ                ‚îÇ                                  ‚îÇ\n‚îÇ    ‚ñº    ‚îÇ                ‚ñº                                  ‚îÇ\n‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                            ‚îÇ\n‚îÇ ‚îÇ DA_DUYET  ‚îÇ       ‚îÇ TU_CHOI ‚îÇ                            ‚îÇ\n‚îÇ ‚îÇ           ‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ\n‚îÇ ‚îÇ‚Ä¢ C·∫≠p nh·∫≠t ‚îÇ            ‚îÇ                                  ‚îÇ\n‚îÇ ‚îÇ  chi ti·∫øt ‚îÇ            ‚îÇ                                  ‚îÇ\n‚îÇ ‚îÇ  b·∫£ng l∆∞∆°ng‚îÇ       huy()                                  ‚îÇ\n‚îÇ ‚îÇ‚Ä¢ Audit log‚îÇ            ‚îÇ                                  ‚îÇ\n‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚ñº                                  ‚îÇ\n‚îÇ                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                             ‚îÇ\n‚îÇ                     ‚îÇ   HUY   ‚îÇ                             ‚îÇ\n‚îÇ                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                             ‚îÇ\n‚îÇ                                                             ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```","tokenCount":440,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/snapshot-dieu-chinh/phieu-dieu-chinh"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-21","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"5.5 API Endpoints","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 5. Phi·∫øu ƒêi·ªÅu ch·ªânh L∆∞∆°ng (Salary Adjustment)","contentMd":"### 5.5 API Endpoints\n\n| Endpoint | Method | M√¥ t·∫£ |\n|----------|--------|-------|\n| `/snapshot-dieu-chinh/phieu-dieu-chinh` | POST | T·∫°o phi·∫øu ƒëi·ªÅu ch·ªânh |\n| `/snapshot-dieu-chinh/phieu-dieu-chinh/:id/duyet` | POST | Duy·ªát |\n| `/snapshot-dieu-chinh/phieu-dieu-chinh/:id/tu-choi` | POST | T·ª´ ch·ªëi |\n| `/snapshot-dieu-chinh/phieu-dieu-chinh/:id/huy` | POST | H·ªßy |","tokenCount":92,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/snapshot-dieu-chinh/phieu-dieu-chinh"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-22","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"5.6 Quy t·∫Øc nghi·ªáp v·ª•","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 5. Phi·∫øu ƒêi·ªÅu ch·ªânh L∆∞∆°ng (Salary Adjustment)","contentMd":"### 5.6 Quy t·∫Øc nghi·ªáp v·ª•\n\n1. **D√πng ƒë·ªÉ ƒëi·ªÅu ch·ªânh l∆∞∆°ng sau khi ƒë√£ ch·ªët**\n2. **Khi duy·ªát**: C·∫≠p nh·∫≠t `ChiTietBangLuong` v·ªõi gi√° tr·ªã m·ªõi\n3. **Audit trail**: T·∫°o `LichSuChinhSua` cho m·ªçi thay ƒë·ªïi\n4. **Kh√¥ng th·ªÉ h·ªßy phi·∫øu ƒë√£ duy·ªát**\n5. **√Åp d·ª•ng v√†o k·ª≥ l∆∞∆°ng ti·∫øp theo**\n\n---","tokenCount":69,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/snapshot-dieu-chinh/phieu-dieu-chinh"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-23","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"6.1 Th√¥ng tin Model","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 6. B·∫£ng ·ª®ng l∆∞∆°ng (Advance Salary)","contentMd":"### 6.1 Th√¥ng tin Model\n\n| Thu·ªôc t√≠nh | Gi√° tr·ªã |\n|------------|---------|\n| **Model** | `BangUngLuong` |\n| **Child Model** | `ChiTietBangUngLuong` |\n| **Service** | `backend/src/modules/ung-luong/ung-luong.service.ts` |\n| **Controller** | `backend/src/modules/ung-luong/ung-luong.controller.ts` |","tokenCount":75,"tags":[],"module":"ADVANCE","persona":["HR","Admin","Employee"],"routes":["/ung-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-24","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"6.2 C√°c tr·∫°ng th√°i","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 6. B·∫£ng ·ª®ng l∆∞∆°ng (Advance Salary)","contentMd":"### 6.2 C√°c tr·∫°ng th√°i\n\n| Tr·∫°ng th√°i | M√¥ t·∫£ | S·ª≠a ƒë∆∞·ª£c |\n|------------|-------|----------|\n| `NHAP` | ƒêang t√≠nh to√°n ƒëi·ªÅu ki·ªán | ‚úÖ |\n| `DA_CHOT` | ƒê√£ ch·ªët - snapshot | ‚ùå |\n| `DA_KHOA` | Kh√≥a vƒ©nh vi·ªÖn | ‚ùå |","tokenCount":53,"tags":[],"module":"ADVANCE","persona":["HR","Admin","Employee"],"routes":["/ung-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-25","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"6.3 ƒêi·ªÅu ki·ªán ƒë∆∞·ª£c ·ª©ng l∆∞∆°ng","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 6. B·∫£ng ·ª®ng l∆∞∆°ng (Advance Salary)","contentMd":"### 6.3 ƒêi·ªÅu ki·ªán ƒë∆∞·ª£c ·ª©ng l∆∞∆°ng\n\n```typescript\ninterface DieuKienUngLuong {\n  soNgayCongToiThieu: number;     // S·ªë ng√†y c√¥ng t·ªëi thi·ªÉu\n  soNgayNghiKhongPhepToiDa: number; // S·ªë ng√†y ngh·ªâ kh√¥ng ph√©p t·ªëi ƒëa\n  tiLeUngToiDa: number;           // T·ª∑ l·ªá ·ª©ng t·ªëi ƒëa (%)\n  soTienUngToiDa: number;         // S·ªë ti·ªÅn ·ª©ng t·ªëi ƒëa\n}\n```","tokenCount":82,"tags":[],"module":"ADVANCE","persona":["HR","Admin","Employee"],"routes":["/ung-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-26","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"6.4 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 6. B·∫£ng ·ª®ng l∆∞∆°ng (Advance Salary)","contentMd":"### 6.4 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ                                                             ‚îÇ\n‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                              ‚îÇ\n‚îÇ    ‚îÇ  NHAP   ‚îÇ                                              ‚îÇ\n‚îÇ    ‚îÇ         ‚îÇ                                              ‚îÇ\n‚îÇ    ‚îÇ‚Ä¢ Sinh   ‚îÇ                                              ‚îÇ\n‚îÇ    ‚îÇ  danh   ‚îÇ                                              ‚îÇ\n‚îÇ    ‚îÇ  s√°ch   ‚îÇ                                              ‚îÇ\n‚îÇ    ‚îÇ‚Ä¢ Set    ‚îÇ     chot()      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     khoa()     ‚îÇ\n‚îÇ    ‚îÇ  t·ª∑ l·ªá/ ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ DA_CHOT  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ\n‚îÇ    ‚îÇ  s·ªë ti·ªÅn‚îÇ                 ‚îÇ          ‚îÇ                ‚îÇ\n‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   moKhoa()      ‚îÇ‚Ä¢ Snapshot‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ\n‚îÇ         ‚ñ≤      ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚Ä¢ T·∫°o     ‚îÇ    ‚îÇ DA_KHOA ‚îÇ ‚îÇ\n‚îÇ         ‚îÇ       (ADMIN)        ‚îÇ  phi·∫øu   ‚îÇ    ‚îÇ         ‚îÇ ‚îÇ\n‚îÇ         ‚îÇ                      ‚îÇ  ƒëi·ªÅu    ‚îÇ    ‚îÇ‚Ä¢ Final  ‚îÇ ‚îÇ\n‚îÇ    Ki·ªÉm tra                    ‚îÇ  ch·ªânh   ‚îÇ    ‚îÇ‚Ä¢ Lock   ‚îÇ ‚îÇ\n‚îÇ    ƒëi·ªÅu ki·ªán                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ\n‚îÇ                                                             ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```","tokenCount":311,"tags":[],"module":"ADVANCE","persona":["HR","Admin","Employee"],"routes":["/ung-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-27","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"6.5 API Endpoints","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 6. B·∫£ng ·ª®ng l∆∞∆°ng (Advance Salary)","contentMd":"### 6.5 API Endpoints\n\n| Endpoint | Method | M√¥ t·∫£ |\n|----------|--------|-------|\n| `/ung-luong` | POST | T·∫°o b·∫£ng ·ª©ng l∆∞∆°ng |\n| `/ung-luong/:id/sinh-danh-sach` | POST | Sinh danh s√°ch NV ƒë·ªß ƒëi·ªÅu ki·ªán |\n| `/ung-luong/:id/set-ti-le` | POST | Set t·ª∑ l·ªá % ·ª©ng |\n| `/ung-luong/:id/set-so-tien-co-dinh` | POST | Set s·ªë ti·ªÅn c·ªë ƒë·ªãnh |\n| `/ung-luong/:id/chot` | POST | Ch·ªët |\n| `/ung-luong/:id/khoa` | POST | Kh√≥a |\n| `/ung-luong/:id/mo-khoa` | POST | M·ªü kh√≥a (ADMIN) |","tokenCount":117,"tags":[],"module":"ADVANCE","persona":["HR","Admin","Employee"],"routes":["/ung-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-28","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"6.6 Quy t·∫Øc nghi·ªáp v·ª•","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 6. B·∫£ng ·ª®ng l∆∞∆°ng (Advance Salary)","contentMd":"### 6.6 Quy t·∫Øc nghi·ªáp v·ª•\n\n1. **Ki·ªÉm tra ƒëi·ªÅu ki·ªán t·ª± ƒë·ªông**:\n   - S·ªë ng√†y c√¥ng t·ªëi thi·ªÉu\n   - S·ªë ng√†y ngh·ªâ kh√¥ng ph√©p t·ªëi ƒëa\n   - S·ªë ti·ªÅn ·ª©ng t·ªëi ƒëa\n2. **C√≥ th·ªÉ set theo t·ª∑ l·ªá ho·∫∑c s·ªë ti·ªÅn c·ªë ƒë·ªãnh**\n3. **Validate kh√¥ng v∆∞·ª£t qu√° s·ªë ti·ªÅn t·ªëi ƒëa cho ph√©p**\n4. **T·∫°o phi·∫øu ƒëi·ªÅu ch·ªânh (kh·∫•u tr·ª´)** cho k·ª≥ l∆∞∆°ng ti·∫øp theo\n5. **Snapshot l∆∞u d·ªØ li·ªáu ƒë·∫ßu v√†o** ƒë·ªÉ audit\n\n---","tokenCount":92,"tags":[],"module":"ADVANCE","persona":["HR","Admin","Employee"],"routes":["/ung-luong"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-29","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"7.1 Th√¥ng tin Model","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 7. Y√™u c·∫ßu S·ª≠a c√¥ng (Timesheet Correction)","contentMd":"### 7.1 Th√¥ng tin Model\n\n| Thu·ªôc t√≠nh | Gi√° tr·ªã |\n|------------|---------|\n| **Model** | `YeuCauSuaCong` |\n| **Service** | `backend/src/modules/cham-cong/timesheet.service.ts` |\n| **Controller** | `backend/src/modules/cham-cong/timesheet.controller.ts` |","tokenCount":64,"tags":[],"module":"ATTENDANCE","persona":["HR","Admin","Employee"],"routes":["/timesheet/yeu-cau-sua-cong","/timesheet/sua-cong-truc-tiep"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-30","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"7.3 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 7. Y√™u c·∫ßu S·ª≠a c√¥ng (Timesheet Correction)","contentMd":"### 7.3 S∆° ƒë·ªì chuy·ªÉn ƒë·ªïi\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ                                                             ‚îÇ\n‚îÇ    (T·∫°o y√™u c·∫ßu)                                            ‚îÇ\n‚îÇ        ‚îÇ                                                    ‚îÇ\n‚îÇ        ‚ñº                                                    ‚îÇ\n‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                            ‚îÇ\n‚îÇ    ‚îÇ CHO_DUYET ‚îÇ                                            ‚îÇ\n‚îÇ    ‚îÇ           ‚îÇ                                            ‚îÇ\n‚îÇ    ‚îÇ‚Ä¢ L∆∞u gi√°  ‚îÇ                                            ‚îÇ\n‚îÇ    ‚îÇ  tr·ªã c≈©   ‚îÇ                                            ‚îÇ\n‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                            ‚îÇ\n‚îÇ         ‚îÇ                                                   ‚îÇ\n‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                  ‚îÇ\n‚îÇ    ‚îÇ                     ‚îÇ                                  ‚îÇ\n‚îÇ duyet()             tuChoi()                                ‚îÇ\n‚îÇ    ‚îÇ                     ‚îÇ                                  ‚îÇ\n‚îÇ    ‚ñº                     ‚ñº                                  ‚îÇ\n‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                            ‚îÇ\n‚îÇ ‚îÇ DA_DUYET  ‚îÇ       ‚îÇ TU_CHOI ‚îÇ                            ‚îÇ\n‚îÇ ‚îÇ           ‚îÇ       ‚îÇ         ‚îÇ                            ‚îÇ\n‚îÇ ‚îÇ‚Ä¢ C·∫≠p nh·∫≠t ‚îÇ       ‚îÇ‚Ä¢ Y√™u c·∫ßu‚îÇ                            ‚îÇ\n‚îÇ ‚îÇ  ch·∫•m c√¥ng‚îÇ       ‚îÇ  l√Ω do  ‚îÇ                            ‚îÇ\n‚îÇ ‚îÇ‚Ä¢ Audit log‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ\n‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                               ‚îÇ\n‚îÇ                                                             ‚îÇ\n‚îÇ   ‚Äª HR c√≥ th·ªÉ s·ª≠a tr·ª±c ti·∫øp (bypass workflow)              ‚îÇ\n‚îÇ                                                             ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```","tokenCount":455,"tags":[],"module":"ATTENDANCE","persona":["HR","Admin","Employee"],"routes":["/timesheet/yeu-cau-sua-cong","/timesheet/sua-cong-truc-tiep"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-31","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"7.4 API Endpoints","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 7. Y√™u c·∫ßu S·ª≠a c√¥ng (Timesheet Correction)","contentMd":"### 7.4 API Endpoints\n\n| Endpoint | Method | M√¥ t·∫£ |\n|----------|--------|-------|\n| `/timesheet/yeu-cau-sua-cong` | GET | Danh s√°ch y√™u c·∫ßu |\n| `/timesheet/yeu-cau-sua-cong` | POST | T·∫°o y√™u c·∫ßu |\n| `/timesheet/yeu-cau-sua-cong/:id/duyet` | POST | Duy·ªát/T·ª´ ch·ªëi |\n| `/timesheet/sua-cong-truc-tiep` | PUT | S·ª≠a tr·ª±c ti·∫øp (HR) |","tokenCount":83,"tags":[],"module":"ATTENDANCE","persona":["HR","Admin","Employee"],"routes":["/timesheet/yeu-cau-sua-cong","/timesheet/sua-cong-truc-tiep"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-32","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"7.5 Quy t·∫Øc nghi·ªáp v·ª•","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 7. Y√™u c·∫ßu S·ª≠a c√¥ng (Timesheet Correction)","contentMd":"### 7.5 Quy t·∫Øc nghi·ªáp v·ª•\n\n1. **Kh√¥ng ƒë∆∞·ª£c s·ª≠a c√¥ng c·ªßa k·ª≥ l∆∞∆°ng ƒë√£ ch·ªët**\n2. **L∆∞u gi√° tr·ªã c≈©** (`gioVaoCu`, `gioRaCu`, `trangThaiCu`) ƒë·ªÉ audit\n3. **Khi duy·ªát**: C·∫≠p nh·∫≠t `ChiTietChamCong` v√† t·∫°o `LichSuSuaCong`\n4. **T·ª´ ch·ªëi y√™u c·∫ßu l√Ω do**\n5. **HR c√≥ th·ªÉ s·ª≠a tr·ª±c ti·∫øp** kh√¥ng c·∫ßn qua workflow\n\n---","tokenCount":75,"tags":[],"module":"ATTENDANCE","persona":["HR","Admin","Employee"],"routes":["/timesheet/yeu-cau-sua-cong","/timesheet/sua-cong-truc-tiep"],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-33","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"8.1 Th√¥ng tin Model","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 8. ƒê√°nh gi√° KPI","contentMd":"### 8.1 Th√¥ng tin Model\n\n| Thu·ªôc t√≠nh | Gi√° tr·ªã |\n|------------|---------|\n| **Model ƒë√°nh gi√°** | `DanhGiaKPINhanVien` |\n| **Model k·ª≥** | `KyDanhGiaKPI` |\n| **Model k·∫øt qu·∫£** | `KetQuaKPI` |\n| **Model template** | `TemplateKPI`, `ChiTieuKPI` |","tokenCount":62,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-34","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"8.2 Tr·∫°ng th√°i ƒê√°nh gi√° c√° nh√¢n","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 8. ƒê√°nh gi√° KPI","contentMd":"### 8.2 Tr·∫°ng th√°i ƒê√°nh gi√° c√° nh√¢n\n\n| Tr·∫°ng th√°i | M√¥ t·∫£ |\n|------------|-------|\n| `NHAP` | ƒêang nh·∫≠p ƒëi·ªÉm |\n| `CHO_DUYET` | G·ª≠i duy·ªát |\n| `DA_DUYET` | ƒê√£ duy·ªát - t√≠nh th∆∞·ªüng |\n| `TU_CHOI` | T·ª´ ch·ªëi |","tokenCount":51,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-35","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"8.3 Tr·∫°ng th√°i K·ª≥ ƒë√°nh gi√°","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 8. ƒê√°nh gi√° KPI","contentMd":"### 8.3 Tr·∫°ng th√°i K·ª≥ ƒë√°nh gi√°\n\n| Tr·∫°ng th√°i | M√¥ t·∫£ |\n|------------|-------|\n| `MO` | M·ªü - cho ph√©p nh·∫≠p li·ªáu |\n| `DONG` | ƒê√≥ng - kh√¥ng nh·∫≠p li·ªáu |\n| `DUYET` | Duy·ªát - k·∫øt qu·∫£ ƒë∆∞·ª£c ph√™ duy·ªát |\n| `HOAN_THANH` | Ho√†n th√†nh - th∆∞·ªüng ƒë√£ √°p d·ª•ng |","tokenCount":62,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-36","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"8.4 X·∫øp lo·∫°i KPI","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 8. ƒê√°nh gi√° KPI","contentMd":"### 8.4 X·∫øp lo·∫°i KPI\n\n| X·∫øp lo·∫°i | ƒêi·ªÉm t·ªëi thi·ªÉu | H·ªá s·ªë th∆∞·ªüng |\n|----------|----------------|--------------|\n| `XUAT_SAC` | ‚â• 95% | Cao nh·∫•t |\n| `TOT` | ‚â• 80% | Cao |\n| `KHA` | ‚â• 65% | Trung b√¨nh |\n| `TRUNG_BINH` | ‚â• 50% | Th·∫•p |\n| `YEU` | < 50% | Kh√¥ng th∆∞·ªüng |","tokenCount":67,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-37","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"8.5 Quy t·∫Øc nghi·ªáp v·ª•","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 8. ƒê√°nh gi√° KPI","contentMd":"### 8.5 Quy t·∫Øc nghi·ªáp v·ª•\n\n1. **Template KPI** ƒë·ªãnh nghƒ©a c√°c ti√™u ch√≠ v√† tr·ªçng s·ªë (t·ªïng = 100%)\n2. **T·ª± ƒë·ªông t√≠nh ƒëi·ªÉm** v√† x·∫øp lo·∫°i\n3. **H·ªá s·ªë th∆∞·ªüng** d·ª±a tr√™n x·∫øp lo·∫°i\n4. **2 phase**: ƒê√°nh gi√° c√° nh√¢n ‚Üí Ph√™ duy·ªát k·ª≥\n\n---","tokenCount":56,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-38","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"9.1 So s√°nh c√°c Workflow","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 9. Ma tr·∫≠n T·ªïng h·ª£p","contentMd":"### 9.1 So s√°nh c√°c Workflow\n\n| Workflow | S·ªë c·∫•p | S·ªë tr·∫°ng th√°i | Ng∆∞·ªùi duy·ªát | Th√¥ng b√°o | Lock |\n|----------|--------|---------------|-------------|-----------|------|\n| Ngh·ªâ ph√©p | 1 | 5 | Manager/HR | ‚ùå | ‚ùå |\n| Y√™u c·∫ßu (OT,...) | 1-2 | 6 | Manager ‚Üí HR | ‚úÖ | ‚ùå |\n| B·∫£ng l∆∞∆°ng | Lock-based | 3 | Admin | Audit | ‚úÖ |\n| ƒêi·ªÅu ch·ªânh l∆∞∆°ng | 1 | 4 | Admin | Audit | ‚ùå |\n| ·ª®ng l∆∞∆°ng | Lock-based | 3 | Admin | Audit | ‚úÖ |\n| S·ª≠a c√¥ng | 1 | 3 | HR | ‚ùå | ‚ùå |\n| KPI | 2-phase | 4+4 | Manager ‚Üí HR | ‚ùå | ‚ùå |","tokenCount":126,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-39","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"9.2 Ma tr·∫≠n Quy·ªÅn","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 9. Ma tr·∫≠n T·ªïng h·ª£p","contentMd":"### 9.2 Ma tr·∫≠n Quy·ªÅn\n\n| Quy·ªÅn | M√¥ t·∫£ | √Åp d·ª•ng cho |\n|-------|-------|-------------|\n| `NGHI_PHEP_TAO_DON` | T·∫°o ƒë∆°n ngh·ªâ ph√©p | Employee |\n| `NGHI_PHEP_DUYET` | Duy·ªát ƒë∆°n ngh·ªâ ph√©p | Manager/HR |\n| `YEU_CAU_TAO_DON` | T·∫°o ƒë∆°n y√™u c·∫ßu | Employee |\n| `YEU_CAU_DUYET_CAP_1` | Duy·ªát c·∫•p 1 | Manager |\n| `YEU_CAU_DUYET_CAP_2` | Duy·ªát c·∫•p 2 | HR |\n| `YEU_CAU_OVERRIDE` | Override quy·∫øt ƒë·ªãnh | HR |\n| `BANG_LUONG_CHOT` | Ch·ªët b·∫£ng l∆∞∆°ng | Payroll |\n| `BANG_LUONG_KHOA` | Kh√≥a b·∫£ng l∆∞∆°ng | Admin |\n| `BANG_LUONG_MO_KHOA` | M·ªü kh√≥a b·∫£ng l∆∞∆°ng | Admin |\n\n---","tokenCount":138,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-40","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"10.1 V·∫•n ƒë·ªÅ hi·ªán t·∫°i","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 10. ƒê·ªÅ xu·∫•t C·∫£i ti·∫øn","contentMd":"### 10.1 V·∫•n ƒë·ªÅ hi·ªán t·∫°i\n\n| # | V·∫•n ƒë·ªÅ | M·ª©c ƒë·ªô | Module |\n|---|--------|--------|--------|\n| 1 | ƒê∆°n ngh·ªâ ph√©p v√† ƒê∆°n y√™u c·∫ßu c√≥ logic ri√™ng bi·ªát, n√™n h·ª£p nh·∫•t | Medium | nghi-phep, yeu-cau |\n| 2 | Thi·∫øu th√¥ng b√°o cho ƒë∆°n ngh·ªâ ph√©p | Medium | nghi-phep |\n| 3 | Thi·∫øu auto-approve sau deadline cho ngh·ªâ ph√©p | Low | nghi-phep |\n| 4 | Ch∆∞a c√≥ workflow duy·ªát cho KPI | Medium | kpi |\n| 5 | Thi·∫øu email notification | High | T·∫•t c·∫£ |\n| 6 | Ch∆∞a c√≥ dashboard duy·ªát t·∫≠p trung | Medium | T·∫•t c·∫£ |","tokenCount":123,"tags":[],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-41","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"10.2 ƒê·ªÅ xu·∫•t","sectionPath":"APPROVAL-WORKFLOWS-REPORT > 10. ƒê·ªÅ xu·∫•t C·∫£i ti·∫øn","contentMd":"### 10.2 ƒê·ªÅ xu·∫•t\n\n1. **H·ª£p nh·∫•t workflow ngh·ªâ ph√©p v√†o ƒë∆°n y√™u c·∫ßu**\n   - ƒê∆°n gi·∫£n h√≥a code v√† logic\n   - S·ª≠ d·ª•ng chung c·∫•u h√¨nh workflow\n\n2. **Th√™m Email/Push Notification**\n   - Th√¥ng b√°o khi c√≥ ƒë∆°n c·∫ßn duy·ªát\n   - Th√¥ng b√°o khi ƒë∆°n ƒë∆∞·ª£c duy·ªát/t·ª´ ch·ªëi\n\n3. **Dashboard duy·ªát t·∫≠p trung**\n   - Hi·ªÉn th·ªã t·∫•t c·∫£ ƒë∆°n ch·ªù duy·ªát\n   - Filter theo lo·∫°i, ph√≤ng ban, th·ªùi gian\n\n4. **Auto-escalation**\n   - T·ª± ƒë·ªông chuy·ªÉn c·∫•p n·∫øu qu√° h·∫°n\n   - Th√¥ng b√°o reminder\n\n5. **Audit trail c·∫£i ti·∫øn**\n   - Ghi log chi ti·∫øt h∆°n\n   - Dashboard xem l·ªãch s·ª≠ thay ƒë·ªïi\n\n---","tokenCount":137,"tags":[],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"APPROVAL-WORKFLOWS-REPORT-42","docId":"APPROVAL-WORKFLOWS-REPORT","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/APPROVAL-WORKFLOWS-REPORT.md","title":"Ph·ª• l·ª•c: Tham chi·∫øu Code","sectionPath":"APPROVAL-WORKFLOWS-REPORT > Ph·ª• l·ª•c: Tham chi·∫øu Code","contentMd":"## Ph·ª• l·ª•c: Tham chi·∫øu Code\n\n| Module | File ch√≠nh |\n|--------|-----------|\n| Ngh·ªâ ph√©p | `backend/src/modules/nghi-phep/` |\n| Y√™u c·∫ßu | `backend/src/modules/yeu-cau/` |\n| B·∫£ng l∆∞∆°ng | `backend/src/modules/bang-luong/` |\n| ·ª®ng l∆∞∆°ng | `backend/src/modules/ung-luong/` |\n| Ch·∫•m c√¥ng | `backend/src/modules/cham-cong/` |\n| KPI | `backend/src/modules/kpi/` |\n| Schema | `backend/prisma/schema.prisma` |\n\n---\n\n*B√°o c√°o ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông b·ªüi System Review Tool*","tokenCount":114,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-0","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"Overview","sectionPath":"CHATBOT_API > Overview","contentMd":"## Overview\n\nHRM Chatbot l√† module h·ªó tr·ª£ ng∆∞·ªùi d√πng t√¨m hi·ªÉu v√† s·ª≠ d·ª•ng h·ªá th·ªëng HRM th√¥ng qua giao di·ªán chat. Chatbot s·ª≠ d·ª•ng Knowledge Base ƒë∆∞·ª£c x√¢y d·ª±ng t·ª´ source code v√† documentation c·ªßa h·ªá th·ªëng.","tokenCount":51,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-1","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"1. Ask Question","sectionPath":"CHATBOT_API > Endpoints","contentMd":"### 1. Ask Question\n\nG·ª≠i c√¢u h·ªèi v√† nh·∫≠n c√¢u tr·∫£ l·ªùi t·ª´ chatbot.\n\n**Endpoint:** `POST /api/chatbot/ask`\n\n**Request Body:**\n\n```json\n{\n  \"question\": \"L√†m sao ƒë·ªÉ xem b·∫£ng l∆∞∆°ng c·ªßa t√¥i?\",\n  \"context\": \"bang-luong\",  // optional: module context\n  \"topK\": 5                  // optional: s·ªë l∆∞·ª£ng chunks t·ªëi ƒëa (default: 5)\n}\n```\n\n**Response:**\n\n```json\n{\n  \"answer\": \"ƒê·ªÉ xem b·∫£ng l∆∞∆°ng c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ:\\n\\n1. ƒêƒÉng nh·∫≠p v√†o h·ªá th·ªëng\\n2. V√†o menu 'B·∫£ng l∆∞∆°ng' ·ªü sidebar\\n3. Ch·ªçn th√°ng mu·ªën xem\\n4. H·ªá th·ªëng s·∫Ω hi·ªÉn th·ªã chi ti·∫øt l∆∞∆°ng c·ªßa b·∫°n\\n\\nN·∫øu b·∫°n l√† nh√¢n vi√™n, b·∫°n c≈©ng c√≥ th·ªÉ xem qua Employee Portal.\",\n  \"relatedChunks\": [\n    {\n      \"chunkId\": \"bang-luong_workflow_001\",\n      \"content\": \"Module B·∫£ng L∆∞∆°ng cho ph√©p...\",\n      \"module\": \"bang-luong\",\n      \"workflow\": \"xem-luong\",\n      \"type\": \"workflow\",\n      \"tags\": [\"salary\", \"view\", \"employee\"],\n      \"score\": 0.92\n    }\n  ],\n  \"questionType\": \"how-to\",\n  \"confidence\": 0.85,\n  \"suggestedQuestions\": [\n    \"L√†m sao ƒë·ªÉ in b·∫£ng l∆∞∆°ng?\",\n    \"B·∫£ng l∆∞∆°ng ƒë∆∞·ª£c t√≠nh nh∆∞ th·∫ø n√†o?\"\n  ]\n}\n```\n\n**Question Types:**\n\n| Type | Description | Example |\n|------|-------------|---------|\n| `how-to` | H∆∞·ªõng d·∫´n c√°ch l√†m | \"L√†m sao ƒë·ªÉ...\" |\n| `what-is` | ƒê·ªãnh nghƒ©a/gi·∫£i th√≠ch | \"... l√† g√¨?\" |\n| `where` | V·ªã tr√≠/ƒë·ªãa ƒëi·ªÉm | \"·ªû ƒë√¢u ƒë·ªÉ xem...\" |\n| `why` | L√Ω do | \"T·∫°i sao...\" |\n| `general` | C√¢u h·ªèi chung | C√°c c√¢u h·ªèi kh√°c |\n\n---","tokenCount":346,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-2","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"2. Get FAQs","sectionPath":"CHATBOT_API > Endpoints","contentMd":"### 2. Get FAQs\n\nL·∫•y danh s√°ch c√¢u h·ªèi th∆∞·ªùng g·∫∑p.\n\n**Endpoint:** `GET /api/chatbot/faqs`\n\n**Query Parameters:**\n\n| Param | Type | Description |\n|-------|------|-------------|\n| `category` | string | L·ªçc theo danh m·ª•c (module name) |\n| `limit` | number | S·ªë l∆∞·ª£ng t·ªëi ƒëa (default: 20, max: 50) |\n\n**Response:**\n\n```json\n{\n  \"faqs\": [\n    {\n      \"id\": \"faq_001\",\n      \"question\": \"L√†m sao ƒë·ªÉ xem b·∫£ng l∆∞∆°ng c·ªßa t√¥i?\",\n      \"answer\": \"Truy c·∫≠p menu 'B·∫£ng l∆∞∆°ng' v√† ch·ªçn th√°ng c·∫ßn xem.\",\n      \"category\": \"bang-luong\",\n      \"tags\": [\"salary\", \"view\"]\n    },\n    {\n      \"id\": \"faq_002\",\n      \"question\": \"L√†m sao ƒë·ªÉ xin ngh·ªâ ph√©p?\",\n      \"answer\": \"V√†o Employee Portal > Y√™u c·∫ßu > T·∫°o y√™u c·∫ßu ngh·ªâ ph√©p m·ªõi.\",\n      \"category\": \"nghi-phep\",\n      \"tags\": [\"leave\", \"request\"]\n    }\n  ],\n  \"total\": 16\n}\n```\n\n---","tokenCount":205,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-3","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"3. Get Glossary Term","sectionPath":"CHATBOT_API > Endpoints","contentMd":"### 3. Get Glossary Term\n\nTra c·ª©u thu·∫≠t ng·ªØ chuy√™n ng√†nh.\n\n**Endpoint:** `GET /api/chatbot/glossary`\n\n**Query Parameters:**\n\n| Param | Type | Description |\n|-------|------|-------------|\n| `term` | string | Thu·∫≠t ng·ªØ c·∫ßn tra (ƒë·ªÉ tr·ªëng = l·∫•y t·∫•t c·∫£) |\n\n**Example: Get specific term**\n\n```\nGET /api/chatbot/glossary?term=BHXH\n```\n\n**Response:**\n\n```json\n{\n  \"term\": \"BHXH\",\n  \"definition\": \"B·∫£o hi·ªÉm x√£ h·ªôi - ƒë√≥ng 8% l∆∞∆°ng cƒÉn b·∫£n, c√¥ng ty ƒë√≥ng 17.5%\",\n  \"related\": [\"BHYT\", \"BHTN\", \"KPCƒê\"],\n  \"module\": \"bhxh-thue\"\n}\n```\n\n**Example: Get all terms**\n\n```\nGET /api/chatbot/glossary\n```\n\n**Response:**\n\n```json\n{\n  \"terms\": [\n    {\n      \"term\": \"BHXH\",\n      \"definition\": \"B·∫£o hi·ªÉm x√£ h·ªôi...\",\n      \"related\": [\"BHYT\", \"BHTN\"]\n    },\n    {\n      \"term\": \"BHYT\",\n      \"definition\": \"B·∫£o hi·ªÉm y t·∫ø...\",\n      \"related\": [\"BHXH\"]\n    }\n  ],\n  \"total\": 15\n}\n```\n\n---","tokenCount":216,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-4","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"4. Get Statistics","sectionPath":"CHATBOT_API > Endpoints","contentMd":"### 4. Get Statistics\n\nL·∫•y th·ªëng k√™ v·ªÅ Knowledge Base.\n\n**Endpoint:** `GET /api/chatbot/stats`\n\n**Response:**\n\n```json\n{\n  \"totalChunks\": 141,\n  \"glossaryTerms\": 15,\n  \"faqCount\": 16,\n  \"byModule\": {\n    \"bang-luong\": 25,\n    \"cham-cong\": 18,\n    \"nhan-vien\": 15,\n    \"bhxh-thue\": 12,\n    \"hop-dong\": 10,\n    \"nghi-phep\": 9,\n    \"san-luong\": 8,\n    \"phan-ca\": 7,\n    \"kpi\": 6,\n    \"rbac\": 5,\n    \"other\": 26\n  },\n  \"byType\": {\n    \"concept\": 50,\n    \"workflow\": 40,\n    \"api\": 30,\n    \"faq\": 21\n  },\n  \"lastUpdated\": \"2026-01-24T10:30:00.000Z\"\n}\n```\n\n---","tokenCount":139,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-5","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"Custom Integration","sectionPath":"CHATBOT_API > Frontend Integration","contentMd":"### Custom Integration\n\n```typescript\nimport apiClient from '../api/client';\n\n// Ask a question\nconst askQuestion = async (question: string) => {\n  const response = await apiClient.post('/chatbot/ask', {\n    question,\n    topK: 5\n  });\n  return response.data;\n};\n\n// Get FAQs\nconst getFAQs = async (category?: string) => {\n  const response = await apiClient.get('/chatbot/faqs', {\n    params: { category, limit: 10 }\n  });\n  return response.data.faqs;\n};\n\n// Search glossary\nconst getGlossary = async (term: string) => {\n  const response = await apiClient.get('/chatbot/glossary', {\n    params: { term }\n  });\n  return response.data;\n};\n```\n\n---","tokenCount":162,"tags":[],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-6","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"Search Algorithm","sectionPath":"CHATBOT_API > Search Algorithm","contentMd":"## Search Algorithm\n\nChatbot s·ª≠ d·ª•ng keyword-based search v·ªõi scoring:\n\n1. **Keyword Extraction**: T√°ch keywords t·ª´ c√¢u h·ªèi\n2. **Chunk Matching**: T√¨m chunks c√≥ ch·ª©a keywords\n3. **Scoring**: \n   - Content match: +1 ƒëi·ªÉm/keyword\n   - Tag match: +0.5 ƒëi·ªÉm/keyword\n   - Module/workflow match: +0.3 ƒëi·ªÉm\n4. **Ranking**: S·∫Øp x·∫øp theo score gi·∫£m d·∫ßn\n5. **Answer Generation**: T·ªïng h·ª£p t·ª´ top-K chunks\n\n---","tokenCount":100,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-7","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"Limitations","sectionPath":"CHATBOT_API > Limitations","contentMd":"## Limitations\n\n1. **Keyword-based**: Ch∆∞a h·ªó tr·ª£ semantic search (c·∫ßn embedding)\n2. **Vietnamese only**: T·ªëi ∆∞u cho ti·∫øng Vi·ªát\n3. **No conversation history**: M·ªói c√¢u h·ªèi ƒë·ªôc l·∫≠p\n4. **Static KB**: C·∫ßn rebuild khi c√≥ code m·ªõi\n\n---","tokenCount":58,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"CHATBOT_API-8","docId":"CHATBOT_API","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/CHATBOT_API.md","title":"Roadmap","sectionPath":"CHATBOT_API > Roadmap","contentMd":"## Roadmap\n\n- [ ] Vector search v·ªõi embeddings\n- [ ] Conversation context\n- [ ] Multi-language support\n- [ ] Real-time KB updates\n- [ ] Analytics dashboard\n\n---\n\n*Documentation version: 1.0.0*\n*Last updated: January 2026*","tokenCount":56,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-0","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"üìã M·ª•c L·ª•c","sectionPath":"DEPLOY_ATLANTIC_CLOUD > üìã M·ª•c L·ª•c","contentMd":"## üìã M·ª•c L·ª•c\n\n1. [Chu·∫©n B·ªã](#1-chu·∫©n-b·ªã)\n2. [T·∫°o Server tr√™n Atlantic.Net](#2-t·∫°o-server-tr√™n-atlanticnet)\n3. [C√†i ƒê·∫∑t Docker tr√™n Server](#3-c√†i-ƒë·∫∑t-docker-tr√™n-server)\n4. [Upload Code l√™n Server](#4-upload-code-l√™n-server)\n5. [C·∫•u H√¨nh Environment](#5-c·∫•u-h√¨nh-environment)\n6. [Deploy Application](#6-deploy-application)\n7. [C·∫•u H√¨nh SSL (HTTPS)](#7-c·∫•u-h√¨nh-ssl-https)\n8. [Backup & Monitoring](#8-backup--monitoring)\n9. [Troubleshooting](#9-troubleshooting)\n\n---","tokenCount":117,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-1","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"B∆∞·ªõc 2: T·∫°o Cloud Server","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 2. T·∫°o Server tr√™n Atlantic.Net","contentMd":"### B∆∞·ªõc 2: T·∫°o Cloud Server\n1. Click **\"Create Server\"** ho·∫∑c **\"Add Server\"**\n2. Ch·ªçn **Location**: Ch·ªçn region g·∫ßn nh·∫•t (Orlando, New York, etc.)\n3. Ch·ªçn **Image**: Ubuntu 22.04 LTS\n4. Ch·ªçn **Size**: \n   - Minimum: 2GB RAM, 1 vCPU ($10/month)\n   - Recommended: 4GB RAM, 2 vCPU ($20/month)\n5. **SSH Keys**: Add SSH public key c·ªßa b·∫°n\n6. **Hostname**: `hrm-lite-prod`\n7. Click **\"Create Server\"**","tokenCount":100,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-2","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"C√†i ƒë·∫∑t Docker:","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 3. C√†i ƒê·∫∑t Docker tr√™n Server","contentMd":"### C√†i ƒë·∫∑t Docker:\n```bash\n# Update system\napt update && apt upgrade -y\n\n# Install dependencies\napt install -y apt-transport-https ca-certificates curl software-properties-common\n\n# Add Docker GPG key\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n\n# Add Docker repository\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | tee /etc/apt/sources.list.d/docker.list > /dev/null\n\n# Install Docker\napt update\napt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\n# Enable Docker to start on boot\nsystemctl enable docker\nsystemctl start docker\n\n# Verify installation\ndocker --version\ndocker compose version\n```","tokenCount":207,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-3","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"T·∫°o user deploy (khuy·∫øn ngh·ªã):","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 3. C√†i ƒê·∫∑t Docker tr√™n Server","contentMd":"### T·∫°o user deploy (khuy·∫øn ngh·ªã):\n```bash\n# T·∫°o user\nadduser deploy\nusermod -aG docker deploy\nusermod -aG sudo deploy\n\n# Cho ph√©p SSH\nmkdir -p /home/deploy/.ssh\ncp ~/.ssh/authorized_keys /home/deploy/.ssh/\nchown -R deploy:deploy /home/deploy/.ssh\nchmod 700 /home/deploy/.ssh\nchmod 600 /home/deploy/.ssh/authorized_keys\n```\n\n---","tokenCount":82,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-4","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"Option A: S·ª≠ d·ª•ng rsync (Recommended)","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 4. Upload Code l√™n Server","contentMd":"### Option A: S·ª≠ d·ª•ng rsync (Recommended)\n```bash\n# T·ª´ m√°y local, ch·∫°y:\ncd /Volumes/DATA/VSCODE/tinh-luong\n\n# Sync code l√™n server\nrsync -avz --progress \\\n  --exclude 'node_modules' \\\n  --exclude '.git' \\\n  --exclude 'dist' \\\n  --exclude '.env' \\\n  --exclude '.env.v2' \\\n  --exclude 'postgres_data*' \\\n  --exclude 'redis_data*' \\\n  ./ deploy@YOUR_SERVER_IP:/home/deploy/hrm-lite/\n```","tokenCount":97,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-5","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"Option C: S·ª≠ d·ª•ng SCP","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 4. Upload Code l√™n Server","contentMd":"### Option C: S·ª≠ d·ª•ng SCP\n```bash\n# T·ª´ m√°y local:\n# T·∫°o archive\ntar --exclude='node_modules' --exclude='.git' --exclude='dist' \\\n  -czvf hrm-lite.tar.gz -C /Volumes/DATA/VSCODE tinh-luong\n\n# Upload\nscp hrm-lite.tar.gz deploy@YOUR_SERVER_IP:/home/deploy/\n\n# Tr√™n server, extract:\ncd /home/deploy\ntar -xzvf hrm-lite.tar.gz\nmv tinh-luong hrm-lite\n```\n\n---","tokenCount":88,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-6","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"N·ªôi dung file .env.v2 cho Production:","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 5. C·∫•u H√¨nh Environment","contentMd":"### N·ªôi dung file .env.v2 cho Production:\n```env\n# ========================================\n# HRM-LITE v2 - PRODUCTION\n# ========================================\n\n# Database - PostgreSQL\nPOSTGRES_USER=hrmlite\nPOSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_123!\nPOSTGRES_DB=hrm_lite\nDB_PORT=5432\n\n# Redis Cache\nREDIS_PORT=6379\n\n# Backend API\nAPI_PORT=3001\nNODE_ENV=production\nLOG_LEVEL=info\n\n# JWT Authentication (QUAN TR·ªåNG: ƒê·ªïi secret key!)\nJWT_SECRET=CHANGE_ME_TO_RANDOM_STRING_64_CHARS_MINIMUM_!@#$%^&*\nJWT_EXPIRATION=24h\nJWT_REFRESH_EXPIRATION=7d\n\n# CORS Origins - Thay YOUR_DOMAIN b·∫±ng domain th·ª±c\nCORS_ORIGINS=http://YOUR_SERVER_IP,https://YOUR_DOMAIN.com,https://www.YOUR_DOMAIN.com\n\n# Rate Limiting\nTHROTTLE_TTL=60\nTHROTTLE_LIMIT=100\n\n# Frontend Web\nWEB_PORT=80\nWEB_SSL_PORT=443\nVITE_API_URL=/api\n\n# Tools (t·∫Øt tr√™n production)\n# ADMINER_PORT=8080\n```","tokenCount":215,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-7","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"B∆∞·ªõc 1: Build v√† Start Docker","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 6. Deploy Application","contentMd":"### B∆∞·ªõc 1: Build v√† Start Docker\n```bash\ncd /home/deploy/hrm-lite\n\n# Pull images v√† build\ndocker compose -f docker-compose.v2.yml build --no-cache\n\n# Start containers\ndocker compose -f docker-compose.v2.yml up -d\n\n# Ki·ªÉm tra status\ndocker compose -f docker-compose.v2.yml ps\n```","tokenCount":71,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-8","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"B∆∞·ªõc 2: Ch·∫°y Database Migrations","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 6. Deploy Application","contentMd":"### B∆∞·ªõc 2: Ch·∫°y Database Migrations\n```bash\n# V√†o backend container\ndocker exec -it hrm-lite-backend-v2 sh\n\n# Ch·∫°y Prisma migrations\nnpx prisma migrate deploy\n\n# Seed data (n·∫øu c·∫ßn)\nnpx prisma db seed\n\n# Exit\nexit\n```","tokenCount":55,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-9","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"B∆∞·ªõc 3: Ki·ªÉm tra logs","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 6. Deploy Application","contentMd":"### B∆∞·ªõc 3: Ki·ªÉm tra logs\n```bash\n# Xem logs t·∫•t c·∫£ services\ndocker compose -f docker-compose.v2.yml logs -f\n\n# Xem logs t·ª´ng service\ndocker logs -f hrm-lite-backend-v2\ndocker logs -f hrm-lite-frontend-v2\ndocker logs -f hrm-lite-db-v2\n```","tokenCount":60,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-10","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"Option A: S·ª≠ d·ª•ng Certbot + Let's Encrypt","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 7. C·∫•u H√¨nh SSL (HTTPS)","contentMd":"### Option A: S·ª≠ d·ª•ng Certbot + Let's Encrypt\n\n```bash\n# C√†i ƒë·∫∑t Certbot\napt install -y certbot\n\n# T·∫°m d·ª´ng frontend ƒë·ªÉ l·∫•y cert\ndocker stop hrm-lite-frontend-v2\n\n# L·∫•y certificate\ncertbot certonly --standalone -d YOUR_DOMAIN.com -d www.YOUR_DOMAIN.com\n\n# Start l·∫°i frontend\ndocker start hrm-lite-frontend-v2\n```","tokenCount":79,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-11","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"C·∫≠p nh·∫≠t Nginx config trong frontend:","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 7. C·∫•u H√¨nh SSL (HTTPS)","contentMd":"### C·∫≠p nh·∫≠t Nginx config trong frontend:\n\nT·∫°o file `frontend/nginx-ssl.conf`:\n```nginx\nserver {\n    listen 80;\n    server_name YOUR_DOMAIN.com www.YOUR_DOMAIN.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name YOUR_DOMAIN.com www.YOUR_DOMAIN.com;\n    \n    ssl_certificate /etc/letsencrypt/live/YOUR_DOMAIN.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/YOUR_DOMAIN.com/privkey.pem;\n    \n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256;\n    ssl_prefer_server_ciphers off;\n    \n    root /usr/share/nginx/html;\n    index index.html;\n    \n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n    \n    location /api/ {\n        proxy_pass http://backend:3001/;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n```","tokenCount":299,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-12","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"Backup Database h√†ng ng√†y:","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 8. Backup & Monitoring","contentMd":"### Backup Database h√†ng ng√†y:\n```bash\n# T·∫°o script backup\nnano /home/deploy/backup-db.sh\n```\n\n```bash\n#!/bin/bash\nBACKUP_DIR=\"/home/deploy/backups\"\nDATE=$(date +%Y%m%d_%H%M%S)\nmkdir -p $BACKUP_DIR\n\n# Backup PostgreSQL\ndocker exec hrm-lite-db-v2 pg_dump -U hrmlite hrm_lite | gzip > $BACKUP_DIR/hrm_lite_$DATE.sql.gz\n\n# X√≥a backup c≈© h∆°n 7 ng√†y\nfind $BACKUP_DIR -type f -mtime +7 -delete\n\necho \"Backup completed: $BACKUP_DIR/hrm_lite_$DATE.sql.gz\"\n```\n\n```bash\n# Ph√¢n quy·ªÅn v√† schedule cron\nchmod +x /home/deploy/backup-db.sh\ncrontab -e\n\n# Th√™m d√≤ng n√†y ƒë·ªÉ backup l√∫c 2h s√°ng m·ªói ng√†y\n0 2 * * * /home/deploy/backup-db.sh >> /home/deploy/backup.log 2>&1\n```","tokenCount":165,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-13","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"Monitor containers:","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 8. Backup & Monitoring","contentMd":"### Monitor containers:\n```bash\n# Xem resource usage\ndocker stats\n\n# Setup auto-restart n·∫øu container crash\ndocker update --restart=always hrm-lite-db-v2\ndocker update --restart=always hrm-lite-redis-v2\ndocker update --restart=always hrm-lite-backend-v2\ndocker update --restart=always hrm-lite-frontend-v2\n```\n\n---","tokenCount":79,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-14","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"Rebuild sau khi update code:","sectionPath":"DEPLOY_ATLANTIC_CLOUD > 9. Troubleshooting","contentMd":"### Rebuild sau khi update code:\n```bash\ncd /home/deploy/hrm-lite\n\n# Pull code m·ªõi (n·∫øu d√πng Git)\ngit pull origin main\n\n# Ho·∫∑c rsync t·ª´ local\n# (ch·∫°y t·ª´ m√°y local)\n\n# Rebuild v√† deploy\ndocker compose -f docker-compose.v2.yml build --no-cache backend frontend\ndocker compose -f docker-compose.v2.yml up -d\n```\n\n---","tokenCount":79,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-15","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"üöÄ Quick Deploy Script","sectionPath":"DEPLOY_ATLANTIC_CLOUD > üöÄ Quick Deploy Script","contentMd":"## üöÄ Quick Deploy Script\n\nT·∫°o file `deploy.sh` ƒë·ªÉ deploy nhanh:\n\n```bash\n#!/bin/bash\nset -e\n\necho \"üöÄ Deploying HRM-Lite to Production...\"\n\ncd /home/deploy/hrm-lite\n\n# Pull latest code (n·∫øu d√πng Git)\n# git pull origin main\n\n# Rebuild containers\necho \"üì¶ Building containers...\"\ndocker compose -f docker-compose.v2.yml build --no-cache\n\n# Restart services\necho \"üîÑ Restarting services...\"\ndocker compose -f docker-compose.v2.yml up -d\n\n# Wait for health check\necho \"‚è≥ Waiting for health check...\"\nsleep 10\n\n# Run migrations\necho \"üìä Running database migrations...\"\ndocker exec hrm-lite-backend-v2 npx prisma migrate deploy\n\n# Check status\necho \"‚úÖ Deployment complete!\"\ndocker compose -f docker-compose.v2.yml ps\n\necho \"\"\necho \"üåê Application is running at:\"\necho \"   http://YOUR_SERVER_IP\"\necho \"   https://YOUR_DOMAIN.com\"\n```\n\n```bash\nchmod +x /home/deploy/hrm-lite/deploy.sh\n```\n\n---","tokenCount":222,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_ATLANTIC_CLOUD-16","docId":"DEPLOY_ATLANTIC_CLOUD","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_ATLANTIC_CLOUD.md","title":"üìû Li√™n H·ªá H·ªó Tr·ª£","sectionPath":"DEPLOY_ATLANTIC_CLOUD > üìû Li√™n H·ªá H·ªó Tr·ª£","contentMd":"## üìû Li√™n H·ªá H·ªó Tr·ª£\n\n- Atlantic.Net Support: https://cloud.atlantic.net/support\n- Docker Documentation: https://docs.docker.com\n- Prisma Documentation: https://www.prisma.io/docs\n\n---\n\n*T√†i li·ªáu c·∫≠p nh·∫≠t: Th√°ng 01/2026*","tokenCount":55,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_PRODUCTION-0","docId":"DEPLOY_PRODUCTION","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_PRODUCTION.md","title":"Prerequisites","sectionPath":"DEPLOY_PRODUCTION > Prerequisites","contentMd":"## Prerequisites\n\n1. **Server Requirements**:\n   - Linux server (Ubuntu 22.04+ recommended)\n   - Docker & Docker Compose installed\n   - 2GB+ RAM\n   - 20GB+ disk space\n\n2. **Domain & SSL**:\n   - Domain pointing to server IP\n   - SSL certificate (Let's Encrypt recommended)","tokenCount":68,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_PRODUCTION-1","docId":"DEPLOY_PRODUCTION","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_PRODUCTION.md","title":"2. Configure Environment","sectionPath":"DEPLOY_PRODUCTION > Quick Start","contentMd":"### 2. Configure Environment\n\nEdit `.env.prod`:\n\n```env\n# Required - Change these!\nPOSTGRES_PASSWORD=your_strong_db_password_here\nJWT_SECRET=your_32_char_random_string_here\n\n# Optional\nREDIS_URL=redis://redis:6379\nOPENAI_API_KEY=sk-xxx  # For future AI features\n```","tokenCount":67,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_PRODUCTION-2","docId":"DEPLOY_PRODUCTION","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_PRODUCTION.md","title":"3. Setup SSL Certificates","sectionPath":"DEPLOY_PRODUCTION > Quick Start","contentMd":"### 3. Setup SSL Certificates\n\nOption A: Let's Encrypt (free):\n```bash\nmkdir -p certs\ncertbot certonly --standalone -d yourdomain.com\ncp /etc/letsencrypt/live/yourdomain.com/fullchain.pem certs/\ncp /etc/letsencrypt/live/yourdomain.com/privkey.pem certs/\n```\n\nOption B: Self-signed (testing only):\n```bash\nmkdir -p certs\nopenssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n  -keyout certs/privkey.pem \\\n  -out certs/fullchain.pem\n```","tokenCount":109,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_PRODUCTION-3","docId":"DEPLOY_PRODUCTION","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_PRODUCTION.md","title":"4. Deploy","sectionPath":"DEPLOY_PRODUCTION > Quick Start","contentMd":"### 4. Deploy\n\n```bash\n# Build and start\ndocker-compose -f docker-compose.prod.yml --env-file .env.prod up -d --build\n\n# Check status\ndocker-compose -f docker-compose.prod.yml ps\n\n# View logs\ndocker-compose -f docker-compose.prod.yml logs -f\n```","tokenCount":62,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_PRODUCTION-4","docId":"DEPLOY_PRODUCTION","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_PRODUCTION.md","title":"Database Backup","sectionPath":"DEPLOY_PRODUCTION > Management Commands","contentMd":"### Database Backup\n```bash\n# Backup\ndocker exec hrm-lite-db-prod pg_dump -U hrm_admin hrm_lite > backup_$(date +%Y%m%d).sql\n\n# Restore\ncat backup_20260123.sql | docker exec -i hrm-lite-db-prod psql -U hrm_admin hrm_lite\n```","tokenCount":57,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_PRODUCTION-5","docId":"DEPLOY_PRODUCTION","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_PRODUCTION.md","title":"Security Checklist","sectionPath":"DEPLOY_PRODUCTION > Security Checklist","contentMd":"## Security Checklist\n\n- [ ] Changed default passwords in `.env.prod`\n- [ ] SSL certificate installed\n- [ ] Firewall configured (only 80/443 open)\n- [ ] Database not exposed to public\n- [ ] Regular backups configured\n- [ ] Monitoring setup (optional)","tokenCount":63,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"DEPLOY_PRODUCTION-6","docId":"DEPLOY_PRODUCTION","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/DEPLOY_PRODUCTION.md","title":"Monitoring (Optional)","sectionPath":"DEPLOY_PRODUCTION > Monitoring (Optional)","contentMd":"## Monitoring (Optional)\n\nAdd Prometheus + Grafana:\n```yaml\n# Add to docker-compose.prod.yml\nprometheus:\n  image: prom/prometheus\n  volumes:\n    - ./prometheus.yml:/etc/prometheus/prometheus.yml\n  ports:\n    - \"9090:9090\"\n```","tokenCount":57,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-0","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"üìå Quy t·∫Øc t√≠nh l∆∞∆°ng s·∫£n l∆∞·ª£ng","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üìå Quy t·∫Øc t√≠nh l∆∞∆°ng s·∫£n l∆∞·ª£ng","contentMd":"## üìå Quy t·∫Øc t√≠nh l∆∞∆°ng s·∫£n l∆∞·ª£ng\n\n| Lo·∫°i | ƒê∆°n gi√° | Gi·∫£i th√≠ch |\n|------|---------|------------|\n| **S·∫£n ph·∫©m ƒë·∫°t** | +320ƒë/SP | M·ªói SP ƒë·∫°t ƒë∆∞·ª£c c·ªông 320ƒë |\n| **S·∫£n ph·∫©m l·ªói** | -1,600ƒë/SP | M·ªói SP l·ªói b·ªã tr·ª´ = 5 SP ƒë·∫°t √ó 320ƒë |","tokenCount":59,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-1","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"1. B·∫£ng `quy_che` - Qu·∫£n l√Ω quy ch·∫ø","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üèóÔ∏è C·∫•u tr√∫c h·ªá th·ªëng Quy ch·∫ø l∆∞∆°ng","contentMd":"### 1. B·∫£ng `quy_che` - Qu·∫£n l√Ω quy ch·∫ø\n```sql\n-- T·∫°o quy ch·∫ø cho ph√≤ng ban\nINSERT INTO quy_che (phong_ban_id, ten_quy_che, mo_ta, tu_ngay, trang_thai)\nVALUES (\n    10,  -- ID ph√≤ng Chia h√†ng\n    'Quy ch·∫ø l∆∞∆°ng s·∫£n l∆∞·ª£ng Chia h√†ng',\n    'C√¥ng th·ª©c: (SP ƒë·∫°t - SP l·ªói √ó 5) √ó 320ƒë',\n    '2025-01-01',\n    'HIEU_LUC'\n);\n```","tokenCount":81,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-2","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"2. B·∫£ng `quy_che_rule` - C√°c rule trong quy ch·∫ø","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üèóÔ∏è C·∫•u tr√∫c h·ªá th·ªëng Quy ch·∫ø l∆∞∆°ng","contentMd":"### 2. B·∫£ng `quy_che_rule` - C√°c rule trong quy ch·∫ø\n```sql\n-- T·∫°o rule t√≠nh s·∫£n l∆∞·ª£ng\nINSERT INTO quy_che_rule (\n    quy_che_id, khoan_luong_id, ten_rule, loai_rule, cong_thuc_json\n) VALUES (\n    1,   -- ID quy ch·∫ø\n    31,  -- ID kho·∫£n l∆∞∆°ng SAN_LUONG\n    'Ti·ªÅn s·∫£n l∆∞·ª£ng chia h√†ng',\n    'CONG_THUC',\n    '{\"bieuThuc\": \"(TONG_SP_DAT - TONG_SP_LOI * 5) * 320\"}'\n);\n```","tokenCount":93,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-3","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"3. B·∫£ng `bang_luong_quy_che` - Li√™n k·∫øt quy ch·∫ø v·ªõi b·∫£ng l∆∞∆°ng","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üèóÔ∏è C·∫•u tr√∫c h·ªá th·ªëng Quy ch·∫ø l∆∞∆°ng","contentMd":"### 3. B·∫£ng `bang_luong_quy_che` - Li√™n k·∫øt quy ch·∫ø v·ªõi b·∫£ng l∆∞∆°ng\n```sql\n-- √Åp d·ª•ng quy ch·∫ø cho b·∫£ng l∆∞∆°ng\nINSERT INTO bang_luong_quy_che (bang_luong_id, quy_che_id, nguoi_ap_dung)\nVALUES (17, 2, 'HR Admin');  -- B·∫£ng l∆∞∆°ng T01/2026 + Quy ch·∫ø #2\n```\n\n---","tokenCount":64,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-4","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"Bi·∫øn s·∫£n l∆∞·ª£ng Chia h√†ng:","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üìä C√°c bi·∫øn s·ª≠ d·ª•ng trong c√¥ng th·ª©c","contentMd":"### Bi·∫øn s·∫£n l∆∞·ª£ng Chia h√†ng:\n| Bi·∫øn | M√¥ t·∫£ | Ngu·ªìn |\n|------|-------|-------|\n| `TONG_SP_DAT` | T·ªïng s·∫£n ph·∫©m ƒë·∫°t | snapshot_san_luong_chia_hang |\n| `TONG_SP_LOI` | T·ªïng s·∫£n ph·∫©m l·ªói | snapshot_san_luong_chia_hang |","tokenCount":55,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-5","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"Bi·∫øn s·∫£n l∆∞·ª£ng Giao h√†ng:","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üìä C√°c bi·∫øn s·ª≠ d·ª•ng trong c√¥ng th·ª©c","contentMd":"### Bi·∫øn s·∫£n l∆∞·ª£ng Giao h√†ng:\n| Bi·∫øn | M√¥ t·∫£ | Ngu·ªìn |\n|------|-------|-------|\n| `TONG_KHOI_LUONG_THANH_CONG` | T·ªïng kh·ªëi l∆∞·ª£ng (kg) | snapshot_giao_hang |\n| `TONG_SO_LAN_TRE_GIO` | S·ªë l·∫ßn tr·ªÖ gi·ªù | snapshot_giao_hang |\n| `TONG_SO_LAN_KHONG_LAY_PHIEU` | S·ªë l·∫ßn kh√¥ng l·∫•y phi·∫øu | snapshot_giao_hang |","tokenCount":76,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-6","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"3. `BAC_THANG` - B·∫≠c thang ƒëi·ªÅu ki·ªán","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üîß C√°c lo·∫°i rule h·ªó tr·ª£","contentMd":"### 3. `BAC_THANG` - B·∫≠c thang ƒëi·ªÅu ki·ªán\n```json\n{\n  \"field\": \"TONG_SP_DAT\",\n  \"bac\": [\n    { \"from\": 0, \"to\": 1000, \"soTien\": 0 },\n    { \"from\": 1001, \"to\": 3000, \"soTien\": 200000 },\n    { \"from\": 3001, \"to\": 5000, \"soTien\": 500000 },\n    { \"from\": 5001, \"to\": 999999, \"soTien\": 1000000 }\n  ]\n}\n```\nK·∫øt qu·∫£: Tr·∫£ v·ªÅ s·ªë ti·ªÅn theo b·∫≠c","tokenCount":84,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-7","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"Quy ch·∫ø","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > ‚öôÔ∏è API Endpoints","contentMd":"### Quy ch·∫ø\n```\nGET    /api/quy-che                    # L·∫•y danh s√°ch quy ch·∫ø\nPOST   /api/quy-che                    # T·∫°o quy ch·∫ø m·ªõi\nGET    /api/quy-che/:id               # Chi ti·∫øt quy ch·∫ø\nPUT    /api/quy-che/:id               # C·∫≠p nh·∫≠t quy ch·∫ø\nDELETE /api/quy-che/:id               # X√≥a quy ch·∫ø\n```","tokenCount":77,"tags":[],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-8","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"Rules","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > ‚öôÔ∏è API Endpoints","contentMd":"### Rules\n```\nGET    /api/quy-che-rule/quy-che/:quyCheId  # L·∫•y rules c·ªßa quy ch·∫ø\nPOST   /api/quy-che-rule                     # T·∫°o rule m·ªõi\nPUT    /api/quy-che-rule/:id                # C·∫≠p nh·∫≠t rule\nPOST   /api/quy-che-rule/validate           # Validate rule\nPOST   /api/quy-che-rule/preview            # Preview k·∫øt qu·∫£\n```","tokenCount":83,"tags":[],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-9","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"üìã Tr·∫°ng th√°i quy ch·∫ø","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üìã Tr·∫°ng th√°i quy ch·∫ø","contentMd":"## üìã Tr·∫°ng th√°i quy ch·∫ø\n\n| Tr·∫°ng th√°i | M√¥ t·∫£ |\n|------------|-------|\n| `NHAP` | ƒêang so·∫°n th·∫£o, ch∆∞a √°p d·ª•ng |\n| `HIEU_LUC` | ƒêang s·ª≠ d·ª•ng |\n| `TAM_DUNG` | T·∫°m ng·ª´ng |\n| `NGUNG` | ƒê√£ ng·ª´ng ho√†n to√†n |\n\n---","tokenCount":52,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-10","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"‚úÖ Ki·ªÉm tra tr∆∞·ªõc khi ch·∫°y","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > ‚úÖ Ki·ªÉm tra tr∆∞·ªõc khi ch·∫°y","contentMd":"## ‚úÖ Ki·ªÉm tra tr∆∞·ªõc khi ch·∫°y\n\n1. **C√≥ snapshot s·∫£n l∆∞·ª£ng?**\n```sql\nSELECT COUNT(*) FROM snapshot_san_luong_chia_hang \nWHERE bang_luong_id = 17;\n```\n\n2. **Quy ch·∫ø ƒë√£ li√™n k·∫øt?**\n```sql\nSELECT * FROM bang_luong_quy_che \nWHERE bang_luong_id = 17;\n```\n\n3. **Rule h·ª£p l·ªá?**\n```sql\nSELECT * FROM quy_che_rule \nWHERE quy_che_id = 2 AND trang_thai = true;\n```\n\n---","tokenCount":89,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_QUY_CHE_LUONG-11","docId":"HUONG_DAN_QUY_CHE_LUONG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_QUY_CHE_LUONG.md","title":"üìû H·ªó tr·ª£","sectionPath":"HUONG_DAN_QUY_CHE_LUONG > üìû H·ªó tr·ª£","contentMd":"## üìû H·ªó tr·ª£\n\nN·∫øu g·∫∑p v·∫•n ƒë·ªÅ:\n1. Ki·ªÉm tra log backend: `docker logs hrm-lite-backend-v2`\n2. Ki·ªÉm tra trace: `GET /api/rule-engine/trace/:bangLuongId`\n3. Xem l·ªãch s·ª≠: `GET /api/bang-luong/:id/lich-su`","tokenCount":50,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-0","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Menu Ch√≠nh","sectionPath":"HUONG_DAN_SU_DUNG > Menu Ch√≠nh","contentMd":"## Menu Ch√≠nh\n\nH·ªá th·ªëng HRM Lite c√≥ c√°c menu ch√≠nh sau:\n\n| Menu | ƒê∆∞·ªùng d·∫´n | M√¥ t·∫£ |\n|------|-----------|-------|\n| Trang ch·ªß | `/` | Dashboard t·ªïng quan |\n| B·∫£ng L∆∞∆°ng | `/bang-luong` | Qu·∫£n l√Ω b·∫£ng l∆∞∆°ng theo k·ª≥ |\n| Nh√¢n Vi√™n | `/nhan-vien` | Qu·∫£n l√Ω th√¥ng tin nh√¢n vi√™n |\n| Ph√≤ng Ban | `/phong-ban` | C∆° c·∫•u t·ªï ch·ª©c |\n| Kho·∫£n L∆∞∆°ng | `/khoan-luong` | Danh m·ª•c c√°c kho·∫£n l∆∞∆°ng |\n| Ch·∫•m C√¥ng | `/cham-cong` | Qu·∫£n l√Ω ch·∫•m c√¥ng |\n| ·ª®ng L∆∞∆°ng | `/ung-luong` | Qu·∫£n l√Ω t·∫°m ·ª©ng l∆∞∆°ng |\n| Quy Ch·∫ø | `/quy-che` | Rule Engine - Quy ch·∫ø t√≠nh l∆∞∆°ng |\n| Ngh·ªâ Ph√©p | `/nghi-phep/don-cua-toi` | ƒê∆°n ngh·ªâ c·ªßa t√¥i |\n| Duy·ªát Ngh·ªâ | `/nghi-phep/duyet` | Duy·ªát ƒë∆°n ngh·ªâ ph√©p |\n| X·∫øp Ca | `/phan-ca` | L·ªãch ph√¢n ca |\n| Ca L√†m Vi·ªác | `/ca-lam-viec` | Danh m·ª•c ca |\n| Y√™u C·∫ßu | `/yeu-cau/don-cua-toi` | ƒê∆°n y√™u c·∫ßu OT/Tr·ªÖ/S·ªõm |\n| Duy·ªát Y√™u C·∫ßu | `/yeu-cau/duyet` | Duy·ªát ƒë∆°n y√™u c·∫ßu |\n\n---\n\n# üìã B·∫¢NG L∆Ø∆†NG","tokenCount":222,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/bang-luong","/nhan-vien","/phong-ban","/khoan-luong","/cham-cong","/ung-luong","/quy-che","/nghi-phep/don-cua-toi","/nghi-phep/duyet","/phan-ca","/ca-lam-viec","/yeu-cau/don-cua-toi","/yeu-cau/duyet"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-1","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o b·∫£ng l∆∞∆°ng m·ªõi?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao t·∫°o b·∫£ng l∆∞∆°ng m·ªõi?","contentMd":"## L√†m sao t·∫°o b·∫£ng l∆∞∆°ng m·ªõi?\n\n**ƒê∆∞·ªùng d·∫´n:** `/bang-luong`\n\n**ƒêi·ªÅu ki·ªán:**\n- C√≥ quy·ªÅn `PAYROLL_CREATE` ho·∫∑c `ADMIN`\n- K·ª≥ l∆∞∆°ng ch∆∞a t·ªìn t·∫°i b·∫£ng l∆∞∆°ng\n\n**C√°c b∆∞·ªõc:**\n\n1. Truy c·∫≠p menu **B·∫£ng L∆∞∆°ng**\n2. Click n√∫t **+ T·∫°o B·∫£ng L∆∞∆°ng**\n3. ƒêi·ªÅn th√¥ng tin:\n   - **K·ª≥ l∆∞∆°ng**: Ch·ªçn th√°ng/nƒÉm (VD: 01/2026)\n   - **Ph√≤ng ban**: Ch·ªçn ph√≤ng ban ho·∫∑c \"T·∫•t c·∫£\"\n   - **Quy ch·∫ø l∆∞∆°ng**: Ch·ªçn quy ch·∫ø √°p d·ª•ng\n4. Click **T·∫°o**\n5. H·ªá th·ªëng t·∫°o b·∫£ng l∆∞∆°ng v·ªõi tr·∫°ng th√°i **NH√ÅP**\n\n**K·∫øt qu·∫£:** B·∫£ng l∆∞∆°ng m·ªõi xu·∫•t hi·ªán trong danh s√°ch\n\n**Tags:** `payroll`, `bang-luong`, `tao-moi`\n\n---","tokenCount":143,"tags":["payroll","tao-moi"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/bang-luong"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-2","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"B∆∞·ªõc 1: Sinh danh s√°ch nh√¢n vi√™n","sectionPath":"HUONG_DAN_SU_DUNG > C√°c b∆∞·ªõc t√≠nh l∆∞∆°ng ƒë·∫ßy ƒë·ªß","contentMd":"### B∆∞·ªõc 1: Sinh danh s√°ch nh√¢n vi√™n\n\n1. M·ªü b·∫£ng l∆∞∆°ng v·ª´a t·∫°o\n2. Click **Sinh Danh S√°ch**\n3. Ch·ªçn ph√≤ng ban c·∫ßn sinh (ho·∫∑c t·∫•t c·∫£)\n4. Click **Sinh**\n5. H·ªá th·ªëng l·∫•y nh√¢n vi√™n c√≥:\n   - Tr·∫°ng th√°i = \"ƒêang l√†m vi·ªác\"\n   - C√≥ h·ª£p ƒë·ªìng c√≤n hi·ªáu l·ª±c trong k·ª≥\n   - Thu·ªôc ph√≤ng ban ƒë∆∞·ª£c ch·ªçn","tokenCount":72,"tags":["payroll","workflow"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-3","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"B∆∞·ªõc 2: ƒê·ªìng b·ªô d·ªØ li·ªáu","sectionPath":"HUONG_DAN_SU_DUNG > C√°c b∆∞·ªõc t√≠nh l∆∞∆°ng ƒë·∫ßy ƒë·ªß","contentMd":"### B∆∞·ªõc 2: ƒê·ªìng b·ªô d·ªØ li·ªáu\n\n1. Click n√∫t **ƒê·ªìng B·ªô** (ho·∫∑c icon üîÑ)\n2. H·ªá th·ªëng t·ª± ƒë·ªông l·∫•y:\n   - D·ªØ li·ªáu ch·∫•m c√¥ng ‚Üí Ng√†y c√¥ng th·ª±c t·∫ø\n   - Ngh·ªâ ph√©p ƒë√£ duy·ªát ‚Üí Ng√†y ph√©p\n   - S·∫£n l∆∞·ª£ng (giao h√†ng, chia h√†ng)\n   - ƒêi·ªÉm KPI\n   - T·∫°m ·ª©ng ƒë√£ ch·ªët\n3. Ch·ªù k·∫øt qu·∫£ ƒë·ªìng b·ªô\n\n**L∆∞u √Ω:** N√™n ƒë·ªìng b·ªô sau khi ƒë√£ ho√†n t·∫•t nh·∫≠p ch·∫•m c√¥ng, duy·ªát ngh·ªâ ph√©p","tokenCount":87,"tags":["payroll","workflow"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-4","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"B∆∞·ªõc 3: Ki·ªÉm tra v√† ƒëi·ªÅu ch·ªânh","sectionPath":"HUONG_DAN_SU_DUNG > C√°c b∆∞·ªõc t√≠nh l∆∞∆°ng ƒë·∫ßy ƒë·ªß","contentMd":"### B∆∞·ªõc 3: Ki·ªÉm tra v√† ƒëi·ªÅu ch·ªânh\n\n1. Click v√†o t·ª´ng nh√¢n vi√™n ƒë·ªÉ xem chi ti·∫øt\n2. Ki·ªÉm tra c√°c c·ªôt:\n   - Ng√†y c√¥ng: C√≥ ƒë·ªß kh√¥ng?\n   - OT: ƒê√£ t√≠nh ƒë√∫ng?\n   - Ph·ª• c·∫•p: ƒê√£ √°p d·ª•ng?\n   - Kh·∫•u tr·ª´: BHXH, thu·∫ø ƒë√∫ng?\n3. N·∫øu c·∫ßn ƒëi·ªÅu ch·ªânh:\n   - Click **S·ª≠a** tr√™n d√≤ng nh√¢n vi√™n\n   - Thay ƒë·ªïi gi√° tr·ªã\n   - **L∆∞u** v√† ghi ch√∫ l√Ω do","tokenCount":82,"tags":["payroll","workflow"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-5","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao ch·ªët b·∫£ng l∆∞∆°ng?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao ch·ªët b·∫£ng l∆∞∆°ng?","contentMd":"## L√†m sao ch·ªët b·∫£ng l∆∞∆°ng?\n\n**ƒê∆∞·ªùng d·∫´n:** `/bang-luong/:id`\n\n**ƒêi·ªÅu ki·ªán ch·ªët:**\n- B·∫£ng l∆∞∆°ng ·ªü tr·∫°ng th√°i **NH√ÅP**\n- ƒê√£ ƒë·ªìng b·ªô d·ªØ li·ªáu\n- User c√≥ quy·ªÅn `PAYROLL_APPROVE` ho·∫∑c `ADMIN`\n\n**C√°c b∆∞·ªõc ch·ªët:**\n\n1. M·ªü chi ti·∫øt b·∫£ng l∆∞∆°ng\n2. Ki·ªÉm tra l·∫°i t·ªïng h·ª£p:\n   - T·ªïng l∆∞∆°ng NET\n   - T·ªïng BHXH\n   - T·ªïng thu·∫ø TNCN\n3. Click n√∫t **üîí Ch·ªët B·∫£ng L∆∞∆°ng**\n4. ƒê·ªçc c·∫£nh b√°o: \"Sau khi ch·ªët kh√¥ng th·ªÉ s·ª≠a ƒë·ªïi\"\n5. Click **X√°c Nh·∫≠n Ch·ªët**\n6. Tr·∫°ng th√°i chuy·ªÉn: **NH√ÅP** ‚Üí **ƒê√É CH·ªêT**\n\n**Sau khi ch·ªët:**\n- ‚ùå Kh√¥ng th·ªÉ s·ª≠a s·ªë li·ªáu\n- ‚úÖ C√≥ th·ªÉ t·∫°o Adjustment (ƒëi·ªÅu ch·ªânh)\n- ‚úÖ C√≥ th·ªÉ xu·∫•t Excel/PDF\n- ‚úÖ C√≥ th·ªÉ t·∫°o phi·∫øu l∆∞∆°ng\n\n**M·ªü l·∫°i b·∫£ng l∆∞∆°ng (Admin):**\n1. Click **M·ªü L·∫°i**\n2. Nh·∫≠p l√Ω do b·∫Øt bu·ªôc\n3. X√°c nh·∫≠n\n4. H·ªá th·ªëng ghi log audit\n\n**Tags:** `chot`, `lock`, `bang-luong`, `approve`, `finalize`\n\n---","tokenCount":198,"tags":["chot","finalize"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-6","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o phi·∫øu l∆∞∆°ng?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao t·∫°o phi·∫øu l∆∞∆°ng?","contentMd":"## L√†m sao t·∫°o phi·∫øu l∆∞∆°ng?\n\n**ƒê∆∞·ªùng d·∫´n:** `/bang-luong/:id/phieu-luong`\n\n**ƒêi·ªÅu ki·ªán:**\n- B·∫£ng l∆∞∆°ng ƒë√£ **CH·ªêT**\n- C√≥ quy·ªÅn xem b·∫£ng l∆∞∆°ng\n\n**C√°c b∆∞·ªõc:**\n\n1. M·ªü chi ti·∫øt b·∫£ng l∆∞∆°ng ƒë√£ ch·ªët\n2. Click tab **Phi·∫øu L∆∞∆°ng** ho·∫∑c n√∫t **üìÑ T·∫°o Phi·∫øu L∆∞∆°ng**\n3. Ch·ªçn template phi·∫øu l∆∞∆°ng:\n   - **M·∫´u chu·∫©n**: ƒê·∫ßy ƒë·ªß c√°c kho·∫£n\n   - **M·∫´u r√∫t g·ªçn**: Ch·ªâ hi·ªán t·ªïng\n   - **M·∫´u c√¥ng ty**: Theo logo c√¥ng ty\n4. Ch·ªçn nh√¢n vi√™n:\n   - T·∫•t c·∫£ nh√¢n vi√™n\n   - Ch·ªçn t·ª´ng ng∆∞·ªùi\n   - Theo ph√≤ng ban\n5. Click **T·∫°o Phi·∫øu**\n6. Xem preview\n7. **In** ho·∫∑c **Xu·∫•t PDF**\n\n**N·ªôi dung phi·∫øu l∆∞∆°ng:**\n- Th√¥ng tin nh√¢n vi√™n (m√£, t√™n, ph√≤ng ban)\n- K·ª≥ l∆∞∆°ng\n- Chi ti·∫øt thu nh·∫≠p (l∆∞∆°ng CB, ph·ª• c·∫•p, OT...)\n- Chi ti·∫øt kh·∫•u tr·ª´ (BHXH, thu·∫ø, t·∫°m ·ª©ng...)\n- L∆∞∆°ng NET th·ª±c nh·∫≠n\n\n**G·ª≠i phi·∫øu l∆∞∆°ng qua email:**\n1. Click **üìß G·ª≠i Email**\n2. Ch·ªçn nh√¢n vi√™n\n3. X√°c nh·∫≠n g·ª≠i\n\n**Tags:** `payslip`, `phieu-luong`, `in-phieu`, `pdf`, `email`\n\n---","tokenCount":225,"tags":["payslip","email"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-7","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao ghi nh·∫≠n kh·∫•u tr·ª´?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao ghi nh·∫≠n kh·∫•u tr·ª´?","contentMd":"## L√†m sao ghi nh·∫≠n kh·∫•u tr·ª´?\n\n**ƒê∆∞·ªùng d·∫´n:** `/bang-luong/:id` ho·∫∑c `/khoan-luong`\n\n**C√°c lo·∫°i kh·∫•u tr·ª´:**\n\n| Lo·∫°i | T·ª± ƒë·ªông | Th·ªß c√¥ng |\n|------|---------|----------|\n| BHXH (8%) | ‚úÖ | |\n| BHYT (1.5%) | ‚úÖ | |\n| BHTN (1%) | ‚úÖ | |\n| Thu·∫ø TNCN | ‚úÖ | |\n| T·∫°m ·ª©ng | ‚úÖ (t·ª´ b·∫£ng ·ª©ng l∆∞∆°ng) | |\n| Kh·∫•u tr·ª´ kh√°c | | ‚úÖ |","tokenCount":79,"tags":["deduction","thue"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/khoan-luong","/quy-che"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-8","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Ghi nh·∫≠n kh·∫•u tr·ª´ th·ªß c√¥ng","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao ghi nh·∫≠n kh·∫•u tr·ª´?","contentMd":"### Ghi nh·∫≠n kh·∫•u tr·ª´ th·ªß c√¥ng\n\n**C√°ch 1: Tr·ª±c ti·∫øp tr√™n b·∫£ng l∆∞∆°ng**\n1. M·ªü chi ti·∫øt b·∫£ng l∆∞∆°ng\n2. Click v√†o nh√¢n vi√™n\n3. T√¨m d√≤ng \"Kh·∫•u tr·ª´ kh√°c\" ho·∫∑c **+ Th√™m kho·∫£n**\n4. Nh·∫≠p:\n   - Lo·∫°i kh·∫•u tr·ª´: VD \"Tr·ª´ ti·ªÅn ƒëi·ªán tho·∫°i\"\n   - S·ªë ti·ªÅn: VD 200,000\n   - Ghi ch√∫: VD \"V∆∞·ª£t m·ª©c cho ph√©p\"\n5. **L∆∞u**\n\n**C√°ch 2: Qua Kho·∫£n L∆∞∆°ng**\n1. Truy c·∫≠p **Kho·∫£n L∆∞∆°ng** (`/khoan-luong`)\n2. T·∫°o kho·∫£n l∆∞∆°ng m·ªõi v·ªõi lo·∫°i = **KH·∫§U TR·ª™**\n3. C·∫•u h√¨nh c√¥ng th·ª©c ho·∫∑c s·ªë c·ªë ƒë·ªãnh\n4. √Åp d·ª•ng cho nh√¢n vi√™n/ph√≤ng ban\n\n**C√°ch 3: Qua Rule Engine**\n1. Truy c·∫≠p **Quy Ch·∫ø** (`/quy-che`)\n2. T·∫°o rule v·ªõi action = tr·ª´ l∆∞∆°ng\n3. ƒê·∫∑t ƒëi·ªÅu ki·ªán √°p d·ª•ng\n\n**Tags:** `deduction`, `khau-tru`, `tru-luong`, `bhxh`, `thue`\n\n---\n\n# üí∞ ·ª®NG L∆Ø∆†NG","tokenCount":175,"tags":["deduction","thue"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/khoan-luong","/quy-che"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-9","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o b·∫£ng ·ª©ng l∆∞∆°ng?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao t·∫°o b·∫£ng ·ª©ng l∆∞∆°ng?","contentMd":"## L√†m sao t·∫°o b·∫£ng ·ª©ng l∆∞∆°ng?\n\n**ƒê∆∞·ªùng d·∫´n:** `/ung-luong`\n\n**C√°c b∆∞·ªõc:**\n\n1. Truy c·∫≠p menu **·ª®ng L∆∞∆°ng**\n2. Click n√∫t **+ T·∫°o B·∫£ng ·ª®ng L∆∞∆°ng**\n3. ƒêi·ªÅn th√¥ng tin:\n   - **K·ª≥ ·ª©ng l∆∞∆°ng**: Th√°ng/nƒÉm\n   - **Ph√≤ng ban**: Ch·ªçn ho·∫∑c t·∫•t c·∫£\n   - **Ng√†y chi**: D·ª± ki·∫øn ng√†y chi ti·ªÅn\n4. Click **T·∫°o**\n5. Click **Sinh Danh S√°ch** ƒë·ªÉ l·∫•y nh√¢n vi√™n\n6. Nh·∫≠p s·ªë ti·ªÅn ·ª©ng cho t·ª´ng ng∆∞·ªùi\n\n**Nh·∫≠p nhanh theo t·ª∑ l·ªá:**\n1. Click **√Åp D·ª•ng Theo T·ª∑ L·ªá**\n2. Ch·ªçn t·ª∑ l·ªá: VD 40% l∆∞∆°ng c∆° b·∫£n\n3. Ch·ªçn nh√¢n vi√™n √°p d·ª•ng\n4. Click **√Åp D·ª•ng**\n5. H·ªá th·ªëng t·ª± t√≠nh: `Ti·ªÅn ·ª©ng = L∆∞∆°ng CB √ó 40%`\n\n**Tags:** `advance`, `ung-luong`, `tam-ung`, `tao-moi`\n\n---","tokenCount":156,"tags":["advance","tao-moi"],"module":"ADVANCE","persona":["HR","Admin","Employee"],"routes":["/ung-luong"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-10","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao ch·ªët b·∫£ng ·ª©ng l∆∞∆°ng?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao ch·ªët b·∫£ng ·ª©ng l∆∞∆°ng?","contentMd":"## L√†m sao ch·ªët b·∫£ng ·ª©ng l∆∞∆°ng?\n\n**ƒê∆∞·ªùng d·∫´n:** `/ung-luong/:id`\n\n**ƒêi·ªÅu ki·ªán ch·ªët:**\n- B·∫£ng ·ª©ng l∆∞∆°ng ·ªü tr·∫°ng th√°i **NH√ÅP**\n- ƒê√£ nh·∫≠p s·ªë ti·ªÅn ·ª©ng\n- User c√≥ quy·ªÅn `ADVANCE_APPROVE` ho·∫∑c `ADMIN`\n\n**C√°c b∆∞·ªõc ch·ªët:**\n\n1. M·ªü chi ti·∫øt b·∫£ng ·ª©ng l∆∞∆°ng\n2. Ki·ªÉm tra danh s√°ch:\n   - S·ªë nh√¢n vi√™n: ƒê√∫ng ch∆∞a?\n   - T·ªïng ti·ªÅn ·ª©ng: H·ª£p l√Ω?\n3. Click n√∫t **üîí Ch·ªët B·∫£ng ·ª®ng L∆∞∆°ng**\n4. ƒê·ªçc c·∫£nh b√°o\n5. Click **X√°c Nh·∫≠n Ch·ªët**\n6. Tr·∫°ng th√°i: **NH√ÅP** ‚Üí **ƒê√É CH·ªêT**\n\n**Sau khi ch·ªët:**\n- ‚ùå Kh√¥ng th·ªÉ s·ª≠a s·ªë ti·ªÅn\n- ‚úÖ Xu·∫•t danh s√°ch chi ti·ªÅn (Excel/PDF)\n- ‚úÖ T·ª± ƒë·ªông tr·ª´ v√†o b·∫£ng l∆∞∆°ng khi ƒë·ªìng b·ªô\n\n**M·ªü l·∫°i (Admin):**\n1. Click **M·ªü L·∫°i**\n2. Nh·∫≠p l√Ω do\n3. X√°c nh·∫≠n\n\n**Tags:** `chot`, `lock`, `ung-luong`, `finalize`, `approve`\n\n---\n\n# üìÖ X·∫æP CA (SCHEDULING)","tokenCount":184,"tags":["chot","approve"],"module":"ADVANCE","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-11","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o ca l√†m vi·ªác m·ªõi?","sectionPath":"HUONG_DAN_SU_DUNG > Danh m·ª•c ca l√†m vi·ªác","contentMd":"### L√†m sao t·∫°o ca l√†m vi·ªác m·ªõi?\n\n1. Truy c·∫≠p **Ca L√†m Vi·ªác**\n2. Click **+ Th√™m Ca**\n3. ƒêi·ªÅn th√¥ng tin:\n   - **M√£ ca**: VD \"CA_SANG\", \"CA_CHIEU\"\n   - **T√™n ca**: VD \"Ca s√°ng 8h-17h\"\n   - **Gi·ªù v√†o**: 08:00\n   - **Gi·ªù ra**: 17:00\n   - **Ngh·ªâ gi·ªØa ca**: 60 ph√∫t\n   - **Grace In**: 15 ph√∫t (cho ph√©p v√†o mu·ªôn)\n   - **Grace Late**: 15 ph√∫t (t√≠nh ƒëi tr·ªÖ sau)\n   - **Ca ƒë√™m**: ‚úÖ n·∫øu gi·ªù ra qua ng√†y\n4. Click **L∆∞u**\n\n**C√°c ca ph·ªï bi·∫øn:**\n\n| M√£ | T√™n | Gi·ªù v√†o | Gi·ªù ra | Ca ƒë√™m |\n|----|-----|---------|--------|--------|\n| CA_SANG | Ca s√°ng | 08:00 | 17:00 | ‚ùå |\n| CA_CHIEU | Ca chi·ªÅu | 14:00 | 22:00 | ‚ùå |\n| CA_DEM | Ca ƒë√™m | 22:00 | 06:00 | ‚úÖ |\n| CA_HANH_CHINH | H√†nh ch√≠nh | 08:30 | 17:30 | ‚ùå |\n\n**Tags:** `shift`, `ca-lam-viec`, `danh-muc-ca`\n\n---","tokenCount":187,"tags":["shift","danh-muc-ca"],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/ca-lam-viec"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-12","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o l·ªãch ph√¢n ca?","sectionPath":"HUONG_DAN_SU_DUNG > L·ªãch ph√¢n ca","contentMd":"### L√†m sao t·∫°o l·ªãch ph√¢n ca?\n\n1. Truy c·∫≠p **X·∫øp Ca** (`/phan-ca`)\n2. Click **+ T·∫°o L·ªãch Ph√¢n Ca**\n3. ƒêi·ªÅn th√¥ng tin:\n   - **T√™n l·ªãch**: VD \"L·ªãch th√°ng 01/2026 - Kho v·∫≠n\"\n   - **Th√°ng/NƒÉm**: 01/2026\n   - **Ph√≤ng ban**: Ch·ªçn ph√≤ng ban\n4. Click **T·∫°o**\n5. L·ªãch ƒë∆∞·ª£c t·∫°o v·ªõi tr·∫°ng th√°i **NH√ÅP**","tokenCount":74,"tags":["schedule","calendar"],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/phan-ca"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-13","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao x·∫øp ca cho nh√¢n vi√™n?","sectionPath":"HUONG_DAN_SU_DUNG > L·ªãch ph√¢n ca","contentMd":"### L√†m sao x·∫øp ca cho nh√¢n vi√™n?\n\n**C√°ch 1: X·∫øp t·ª´ng √¥ tr√™n Calendar**\n1. M·ªü l·ªãch ph√¢n ca\n2. Click v√†o √¥ (giao ƒëi·ªÉm nh√¢n vi√™n + ng√†y)\n3. Ch·ªçn ca t·ª´ dropdown\n4. Ca ƒë∆∞·ª£c g√°n ngay l·∫≠p t·ª©c\n\n**C√°ch 2: X·∫øp h√†ng lo·∫°t (Batch Assign)**\n1. Click **X·∫øp H√†ng Lo·∫°t**\n2. Ch·ªçn:\n   - **Nh√¢n vi√™n**: Multi-select\n   - **Ca l√†m vi·ªác**: Ch·ªçn ca\n   - **T·ª´ ng√†y - ƒê·∫øn ng√†y**: Kho·∫£ng th·ªùi gian\n   - **Ngo·∫°i tr·ª´**: ‚úÖ Th·ª© 7, ‚úÖ Ch·ªß nh·∫≠t\n3. Click **X·∫øp Ca**\n4. H·ªá th·ªëng t·ª± ƒë·ªông x·∫øp cho t·∫•t c·∫£ ng√†y ph√π h·ª£p\n\n**C√°ch 3: Copy tu·∫ßn**\n1. ƒê√£ x·∫øp xong 1 tu·∫ßn m·∫´u\n2. Click **Copy Tu·∫ßn**\n3. Ch·ªçn:\n   - **Tu·∫ßn ngu·ªìn**: VD 06/01 - 12/01\n   - **Tu·∫ßn ƒë√≠ch**: VD 13/01 - 19/01\n4. Click **Copy**\n5. T·∫•t c·∫£ ca ƒë∆∞·ª£c copy sang tu·∫ßn ƒë√≠ch","tokenCount":174,"tags":["schedule","calendar"],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/phan-ca"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-14","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao c√¥ng b·ªë l·ªãch ph√¢n ca?","sectionPath":"HUONG_DAN_SU_DUNG > L·ªãch ph√¢n ca","contentMd":"### L√†m sao c√¥ng b·ªë l·ªãch ph√¢n ca?\n\n1. Ho√†n t·∫•t x·∫øp ca\n2. Click **üì¢ C√¥ng B·ªë**\n3. X√°c nh·∫≠n\n4. Tr·∫°ng th√°i: **NH√ÅP** ‚Üí **ƒê√É C√îNG B·ªê**\n5. Nh√¢n vi√™n c√≥ th·ªÉ xem l·ªãch tr√™n Employee Portal\n\n**Sau khi c√¥ng b·ªë:**\n- ‚ùå Kh√¥ng th·ªÉ s·ª≠a ca (tr·ª´ Admin)\n- ‚úÖ Nh√¢n vi√™n th·∫•y l·ªãch c·ªßa m√¨nh\n- ‚úÖ H·ªá th·ªëng d√πng ƒë·ªÉ t√≠nh ch·∫•m c√¥ng\n\n**Tags:** `schedule`, `phan-ca`, `xep-ca`, `lich`, `calendar`\n\n---\n\n# üèñÔ∏è NGH·ªà PH√âP","tokenCount":98,"tags":["schedule","calendar"],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/phan-ca"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-15","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o ƒë∆°n ngh·ªâ ph√©p?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao t·∫°o ƒë∆°n ngh·ªâ ph√©p?","contentMd":"## L√†m sao t·∫°o ƒë∆°n ngh·ªâ ph√©p?\n\n**ƒê∆∞·ªùng d·∫´n:** `/nghi-phep/don-cua-toi`\n\n**C√°c b∆∞·ªõc:**\n\n1. Truy c·∫≠p **Ngh·ªâ Ph√©p > ƒê∆°n C·ªßa T√¥i**\n2. Click **+ T·∫°o ƒê∆°n Ngh·ªâ**\n3. ƒêi·ªÅn th√¥ng tin:\n   - **Lo·∫°i ngh·ªâ**: Ch·ªçn t·ª´ danh s√°ch\n     - Ph√©p nƒÉm (c√≥ l∆∞∆°ng)\n     - Ngh·ªâ ·ªëm (c√≥ l∆∞∆°ng)\n     - Vi·ªác ri√™ng (kh√¥ng l∆∞∆°ng)\n     - Ngh·ªâ c∆∞·ªõi (c√≥ l∆∞∆°ng)\n     - Ngh·ªâ tang (c√≥ l∆∞∆°ng)\n   - **T·ª´ ng√†y**: Ng√†y b·∫Øt ƒë·∫ßu ngh·ªâ\n   - **ƒê·∫øn ng√†y**: Ng√†y k·∫øt th√∫c\n   - **Bu·ªïi**: C·∫£ ng√†y / S√°ng / Chi·ªÅu\n   - **L√Ω do**: Nh·∫≠p chi ti·∫øt\n   - **File ƒë√≠nh k√®m**: N·∫øu c·∫ßn (VD gi·∫•y kh√°m b·ªánh)\n4. Click **L∆∞u Nh√°p** ho·∫∑c **G·ª≠i Duy·ªát**\n\n**Tr·∫°ng th√°i ƒë∆°n:**\n- **NH√ÅP**: Ch∆∞a g·ª≠i, c√≥ th·ªÉ s·ª≠a/x√≥a\n- **CH·ªú DUY·ªÜT**: ƒê√£ g·ª≠i, ch·ªù qu·∫£n l√Ω duy·ªát\n- **ƒê√É DUY·ªÜT**: Qu·∫£n l√Ω ƒë√£ duy·ªát\n- **T·ª™ CH·ªêI**: Qu·∫£n l√Ω t·ª´ ch·ªëi\n- **H·ª¶Y**: Nh√¢n vi√™n h·ªßy ƒë∆°n\n\n**Ki·ªÉm tra s·ªë ng√†y ph√©p c√≤n:**\n- Xem ·ªü g√≥c ph·∫£i m√†n h√¨nh\n- Ho·∫∑c v√†o **Ngh·ªâ Ph√©p > S·ªë D∆∞**\n\n**Tags:** `leave`, `nghi-phep`, `don-nghi`, `request`\n\n---","tokenCount":232,"tags":["leave","request"],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/don-cua-toi"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-16","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao duy·ªát ƒë∆°n ngh·ªâ ph√©p?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao duy·ªát ƒë∆°n ngh·ªâ ph√©p?","contentMd":"## L√†m sao duy·ªát ƒë∆°n ngh·ªâ ph√©p?\n\n**ƒê∆∞·ªùng d·∫´n:** `/nghi-phep/duyet`\n\n**Ai c√≥ th·ªÉ duy·ªát:**\n- Qu·∫£n l√Ω tr·ª±c ti·∫øp c·ªßa nh√¢n vi√™n\n- HR c√≥ quy·ªÅn `LEAVE_APPROVE`\n- Admin\n\n**C√°c b∆∞·ªõc duy·ªát:**\n\n1. Truy c·∫≠p **Ngh·ªâ Ph√©p > Duy·ªát**\n2. Xem danh s√°ch ƒë∆°n **CH·ªú DUY·ªÜT**\n3. Click v√†o ƒë∆°n ƒë·ªÉ xem chi ti·∫øt:\n   - Th√¥ng tin nh√¢n vi√™n\n   - Lo·∫°i ngh·ªâ, s·ªë ng√†y\n   - L√Ω do ngh·ªâ\n   - S·ªë ph√©p c√≤n l·∫°i\n4. Ch·ªçn action:\n   - **‚úÖ Duy·ªát**: ƒê·ªìng √Ω cho ngh·ªâ\n   - **‚ùå T·ª´ ch·ªëi**: Kh√¥ng ƒë·ªìng √Ω\n5. Nh·∫≠p ghi ch√∫ (b·∫Øt bu·ªôc khi t·ª´ ch·ªëi)\n6. X√°c nh·∫≠n\n\n**Duy·ªát h√†ng lo·∫°t:**\n1. Tick ch·ªçn nhi·ªÅu ƒë∆°n\n2. Click **Duy·ªát T·∫•t C·∫£** ho·∫∑c **T·ª´ Ch·ªëi T·∫•t C·∫£**\n3. X√°c nh·∫≠n\n\n**Sau khi duy·ªát:**\n- Nh√¢n vi√™n nh·∫≠n th√¥ng b√°o\n- ƒê∆°n ƒë∆∞·ª£c mapping v√†o ng√†y c√¥ng\n- Hi·ªÉn th·ªã tr√™n b·∫£ng ch·∫•m c√¥ng\n\n**Tags:** `approve`, `duyet`, `nghi-phep`, `manager`\n\n---","tokenCount":196,"tags":["approve","manager"],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/duyet"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-17","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Xem l·ªãch ngh·ªâ ph√©p to√†n team","sectionPath":"HUONG_DAN_SU_DUNG > Xem l·ªãch ngh·ªâ ph√©p to√†n team","contentMd":"## Xem l·ªãch ngh·ªâ ph√©p to√†n team\n\n**ƒê∆∞·ªùng d·∫´n:** `/nghi-phep/lich`\n\n1. Truy c·∫≠p **Ngh·ªâ Ph√©p > L·ªãch**\n2. Xem calendar v·ªõi c√°c ƒë∆°n ngh·ªâ ƒë√£ duy·ªát\n3. Filter theo ph√≤ng ban\n4. M√†u s·∫Øc theo lo·∫°i ngh·ªâ:\n   - üü¢ Xanh: Ph√©p nƒÉm\n   - üü° V√†ng: Vi·ªác ri√™ng\n   - üî¥ ƒê·ªè: Ngh·ªâ ·ªëm\n\n**Tags:** `calendar`, `lich-nghi`, `team`\n\n---\n\n# üìù Y√äU C·∫¶U (OT/TR·ªÑ/S·ªöM/C√îNG T√ÅC)","tokenCount":87,"tags":["calendar","team"],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/lich"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-18","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o ƒë∆°n y√™u c·∫ßu?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao t·∫°o ƒë∆°n y√™u c·∫ßu?","contentMd":"## L√†m sao t·∫°o ƒë∆°n y√™u c·∫ßu?\n\n**ƒê∆∞·ªùng d·∫´n:** `/yeu-cau/don-cua-toi`\n\n**C√°c lo·∫°i y√™u c·∫ßu:**\n- **OT**: L√†m th√™m gi·ªù\n- **TR·ªÑ GI·ªú**: H·ª£p th·ª©c h√≥a ƒëi mu·ªôn\n- **V·ªÄ S·ªöM**: H·ª£p th·ª©c h√≥a v·ªÅ s·ªõm\n- **C√îNG T√ÅC**: ƒêi c√¥ng t√°c\n- **L√ÄM T·ª™ XA**: Work from home\n\n**C√°c b∆∞·ªõc:**\n\n1. Truy c·∫≠p **Y√™u C·∫ßu > ƒê∆°n C·ªßa T√¥i**\n2. Click **+ T·∫°o ƒê∆°n Y√™u C·∫ßu**\n3. Ch·ªçn lo·∫°i y√™u c·∫ßu\n4. ƒêi·ªÅn th√¥ng tin:\n   - **Ng√†y**: Ng√†y √°p d·ª•ng\n   - **Gi·ªù b·∫Øt ƒë·∫ßu - Gi·ªù k·∫øt th√∫c**: Kho·∫£ng th·ªùi gian\n   - **ƒê·ªãa ƒëi·ªÉm**: (cho c√¥ng t√°c)\n   - **L√Ω do**: Chi ti·∫øt\n5. Click **G·ª≠i Duy·ªát**\n\n**Workflow duy·ªát:**\n- **1 c·∫•p**: NV ‚Üí Manager ‚Üí Duy·ªát\n- **2 c·∫•p**: NV ‚Üí Manager ‚Üí HR ‚Üí Duy·ªát\n\n**Tags:** `request`, `yeu-cau`, `ot`, `overtime`, `tre-gio`\n\n---","tokenCount":173,"tags":["request","tre-gio"],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/don-cua-toi"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-19","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao duy·ªát ƒë∆°n y√™u c·∫ßu?","sectionPath":"HUONG_DAN_SU_DUNG > L√†m sao duy·ªát ƒë∆°n y√™u c·∫ßu?","contentMd":"## L√†m sao duy·ªát ƒë∆°n y√™u c·∫ßu?\n\n**ƒê∆∞·ªùng d·∫´n:** `/yeu-cau/duyet`\n\n**C√°c b∆∞·ªõc:**\n\n1. Truy c·∫≠p **Y√™u C·∫ßu > Duy·ªát**\n2. Xem inbox theo tab:\n   - **C·∫•p 1**: ƒê∆°n ch·ªù duy·ªát c·∫•p Manager\n   - **C·∫•p 2**: ƒê∆°n ch·ªù duy·ªát c·∫•p HR\n   - **T·∫•t c·∫£**: To√†n b·ªô ƒë∆°n\n3. Click v√†o ƒë∆°n xem chi ti·∫øt\n4. Ch·ªçn:\n   - **‚úÖ Duy·ªát**: ƒê·ªìng √Ω\n   - **‚ùå T·ª´ ch·ªëi**: Kh√¥ng ƒë·ªìng √Ω (nh·∫≠p l√Ω do)\n   - **üîÑ Override**: HR ghi ƒë√® quy·∫øt ƒë·ªãnh\n5. X√°c nh·∫≠n\n\n**Sau khi duy·ªát:**\n- OT ‚Üí Mapping v√†o gi·ªù OT trong b·∫£ng l∆∞∆°ng\n- Tr·ªÖ/S·ªõm ‚Üí H·ª£p th·ª©c h√≥a, kh√¥ng b·ªã tr·ª´ chuy√™n c·∫ßn\n- C√¥ng t√°c ‚Üí T√≠nh ng√†y c√¥ng ƒë·∫ßy ƒë·ªß\n\n**Tags:** `approve`, `duyet`, `yeu-cau`, `inbox`\n\n---","tokenCount":153,"tags":["approve","inbox"],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":["/yeu-cau/duyet"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-20","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao th√™m nh√¢n vi√™n m·ªõi?","sectionPath":"HUONG_DAN_SU_DUNG > Qu·∫£n L√Ω Nh√¢n Vi√™n","contentMd":"### L√†m sao th√™m nh√¢n vi√™n m·ªõi?\n\n1. Truy c·∫≠p menu **Nh√¢n Vi√™n** (`/nhan-vien`)\n2. Click **Th√™m Nh√¢n Vi√™n**\n3. ƒêi·ªÅn th√¥ng tin:\n   - M√£ nh√¢n vi√™n (t·ª± ƒë·ªông ho·∫∑c nh·∫≠p)\n   - H·ªç t√™n\n   - Ph√≤ng ban\n   - Ch·ª©c v·ª•\n   - L∆∞∆°ng c∆° b·∫£n\n4. Click **L∆∞u**","tokenCount":60,"tags":["employees","import"],"module":"EMPLOYEES","persona":["HR","Admin","Employee"],"routes":["/nhan-vien","/nhan-vien/import-export"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-21","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Import nh√¢n vi√™n t·ª´ Excel?","sectionPath":"HUONG_DAN_SU_DUNG > Qu·∫£n L√Ω Nh√¢n Vi√™n","contentMd":"### Import nh√¢n vi√™n t·ª´ Excel?\n\n1. Truy c·∫≠p **Nh√¢n Vi√™n > Import/Export** (`/nhan-vien/import-export`)\n2. T·∫£i file m·∫´u Excel\n3. ƒêi·ªÅn th√¥ng tin theo m·∫´u\n4. Upload file\n5. Xem preview v√† x√°c nh·∫≠n\n\n**Tags:** `employees`, `nhan-vien`, `import`\n\n---","tokenCount":61,"tags":["employees","import"],"module":"EMPLOYEES","persona":["HR","Admin","Employee"],"routes":["/nhan-vien","/nhan-vien/import-export"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-22","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Import ch·∫•m c√¥ng t·ª´ m√°y ch·∫•m c√¥ng?","sectionPath":"HUONG_DAN_SU_DUNG > Ch·∫•m C√¥ng","contentMd":"### Import ch·∫•m c√¥ng t·ª´ m√°y ch·∫•m c√¥ng?\n\n1. Truy c·∫≠p **Import Excel** (`/import-excel`)\n2. Ch·ªçn lo·∫°i: Ch·∫•m c√¥ng\n3. Upload file Excel t·ª´ m√°y ch·∫•m c√¥ng\n4. Mapping c·ªôt d·ªØ li·ªáu\n5. X√°c nh·∫≠n import\n\n**Tags:** `attendance`, `cham-cong`, `timesheet`\n\n---","tokenCount":62,"tags":["attendance","timesheet"],"module":"ATTENDANCE","persona":["HR","Admin","Employee"],"routes":["/cham-cong","/import-excel"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-23","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o quy ch·∫ø l∆∞∆°ng?","sectionPath":"HUONG_DAN_SU_DUNG > Quy Ch·∫ø L∆∞∆°ng (Rule Engine)","contentMd":"### L√†m sao t·∫°o quy ch·∫ø l∆∞∆°ng?\n\n1. Truy c·∫≠p **Quy Ch·∫ø** (`/quy-che`)\n2. Click **T·∫°o Quy Ch·∫ø**\n3. Nh·∫≠p t√™n v√† m√¥ t·∫£\n4. Th√™m c√°c quy t·∫Øc (rules)\n5. K√≠ch ho·∫°t quy ch·∫ø\n\n**Tags:** `rule-engine`, `quy-che`, `formula`\n\n---","tokenCount":54,"tags":["rule-engine","formula"],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":["/quy-che"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-24","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o ƒë∆°n ngh·ªâ ph√©p?","sectionPath":"HUONG_DAN_SU_DUNG > Ngh·ªâ Ph√©p","contentMd":"### L√†m sao t·∫°o ƒë∆°n ngh·ªâ ph√©p?\n\n1. Truy c·∫≠p **Ngh·ªâ Ph√©p > ƒê∆°n C·ªßa T√¥i** (`/nghi-phep/don-cua-toi`)\n2. Click **T·∫°o ƒê∆°n**\n3. Ch·ªçn lo·∫°i ngh·ªâ (ph√©p nƒÉm, ·ªëm, vi·ªác ri√™ng...)\n4. Ch·ªçn ng√†y b·∫Øt ƒë·∫ßu - k·∫øt th√∫c\n5. Nh·∫≠p l√Ω do\n6. G·ª≠i ƒë∆°n","tokenCount":57,"tags":["leave","don-xin-nghi"],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/don-cua-toi","/nghi-phep/duyet"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-25","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao duy·ªát ƒë∆°n ngh·ªâ ph√©p?","sectionPath":"HUONG_DAN_SU_DUNG > Ngh·ªâ Ph√©p","contentMd":"### L√†m sao duy·ªát ƒë∆°n ngh·ªâ ph√©p?\n\n1. Truy c·∫≠p **Ngh·ªâ Ph√©p > Duy·ªát** (`/nghi-phep/duyet`)\n2. Xem danh s√°ch ƒë∆°n ch·ªù duy·ªát\n3. Click v√†o ƒë∆°n ƒë·ªÉ xem chi ti·∫øt\n4. Ch·ªçn **Duy·ªát** ho·∫∑c **T·ª´ ch·ªëi**\n5. Nh·∫≠p ghi ch√∫ (n·∫øu c·∫ßn)\n\n**Tags:** `leave`, `nghi-phep`, `don-xin-nghi`\n\n---","tokenCount":67,"tags":["leave","don-xin-nghi"],"module":"REQUESTS","persona":["HR","Admin","Employee"],"routes":["/nghi-phep/don-cua-toi","/nghi-phep/duyet"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-26","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L√†m sao t·∫°o kho·∫£n l∆∞∆°ng m·ªõi?","sectionPath":"HUONG_DAN_SU_DUNG > Kho·∫£n L∆∞∆°ng","contentMd":"### L√†m sao t·∫°o kho·∫£n l∆∞∆°ng m·ªõi?\n\n1. Truy c·∫≠p **Kho·∫£n L∆∞∆°ng** (`/khoan-luong`)\n2. Click **Th√™m Kho·∫£n L∆∞∆°ng**\n3. Nh·∫≠p:\n   - M√£ kho·∫£n l∆∞∆°ng\n   - T√™n kho·∫£n l∆∞∆°ng\n   - Lo·∫°i (thu nh·∫≠p/kh·∫•u tr·ª´)\n   - C√¥ng th·ª©c t√≠nh (n·∫øu c√≥)\n4. Click **L∆∞u**","tokenCount":59,"tags":["payroll-items","deduction"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/khoan-luong"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-27","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"C√°c kho·∫£n l∆∞∆°ng ph·ªï bi·∫øn:","sectionPath":"HUONG_DAN_SU_DUNG > Kho·∫£n L∆∞∆°ng","contentMd":"### C√°c kho·∫£n l∆∞∆°ng ph·ªï bi·∫øn:\n\n**Thu nh·∫≠p:**\n- L∆∞∆°ng c∆° b·∫£n\n- Ph·ª• c·∫•p ƒÉn tr∆∞a\n- Ph·ª• c·∫•p ƒëi l·∫°i\n- Th∆∞·ªüng KPI\n- L∆∞∆°ng OT\n\n**Kh·∫•u tr·ª´:**\n- BHXH (8%)\n- BHYT (1.5%)\n- BHTN (1%)\n- Thu·∫ø TNCN\n- T·∫°m ·ª©ng\n\n**Tags:** `payroll-items`, `khoan-luong`, `income`, `deduction`\n\n---","tokenCount":66,"tags":["payroll-items","deduction"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/khoan-luong"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-28","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Xem b√°o c√°o qu·ªπ l∆∞∆°ng?","sectionPath":"HUONG_DAN_SU_DUNG > B√°o C√°o","contentMd":"### Xem b√°o c√°o qu·ªπ l∆∞∆°ng?\n\n1. Truy c·∫≠p **B√°o C√°o** ho·∫∑c **Dashboard**\n2. Ch·ªçn lo·∫°i b√°o c√°o:\n   - Qu·ªπ l∆∞∆°ng theo th√°ng\n   - Chi ph√≠ theo ph√≤ng ban\n   - Th·ªëng k√™ OT\n   - B√°o c√°o chuy√™n c·∫ßn\n3. Ch·ªçn k·ª≥ v√† b·ªô l·ªçc\n4. Xem ho·∫∑c xu·∫•t Excel\n\n**Tags:** `reports`, `bao-cao`, `thong-ke`\n\n---","tokenCount":70,"tags":["reports","thong-ke"],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-29","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Ch·ªët kh√°c Kh√≥a th·∫ø n√†o?","sectionPath":"HUONG_DAN_SU_DUNG > Snapshot & Ch·ªët L∆∞∆°ng","contentMd":"### Ch·ªët kh√°c Kh√≥a th·∫ø n√†o?\n\n| | Ch·ªët (Lock) | Kh√≥a k·ª≥ |\n|---|---|---|\n| M·ª•c ƒë√≠ch | NgƒÉn ch·ªânh s·ª≠a b·∫£ng l∆∞∆°ng | ƒê√≥ng k·ª≥ k·∫ø to√°n |\n| Ph·∫°m vi | 1 b·∫£ng l∆∞∆°ng | To√†n b·ªô k·ª≥ |\n| C√≥ th·ªÉ m·ªü l·∫°i | C√≥ (Admin) | Kh√¥ng |\n\n**Tags:** `snapshot`, `lock`, `chot-luong`, `audit`\n\n---","tokenCount":67,"tags":["snapshot","audit"],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-30","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Rule Engine l√† g√¨?","sectionPath":"HUONG_DAN_SU_DUNG > Rule Engine","contentMd":"### Rule Engine l√† g√¨?\n\nRule Engine cho ph√©p ƒë·ªãnh nghƒ©a quy t·∫Øc t√≠nh l∆∞∆°ng linh ho·∫°t:\n- ƒêi·ªÅu ki·ªán √°p d·ª•ng (ph√≤ng ban, ch·ª©c v·ª•, lo·∫°i h·ª£p ƒë·ªìng...)\n- C√¥ng th·ª©c t√≠nh (c·ªë ƒë·ªãnh, %, theo b·∫£ng)\n- Th·ª© t·ª± ∆∞u ti√™n","tokenCount":51,"tags":["rule-engine","trace"],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":["/quy-che","/rule-trace"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-31","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"T·∫°o quy t·∫Øc t√≠nh ph·ª• c·∫•p?","sectionPath":"HUONG_DAN_SU_DUNG > Rule Engine","contentMd":"### T·∫°o quy t·∫Øc t√≠nh ph·ª• c·∫•p?\n\n1. Truy c·∫≠p **Quy Ch·∫ø** (`/quy-che`)\n2. Ch·ªçn quy ch·∫ø ƒëang active\n3. Click **Th√™m Rule**\n4. C·∫•u h√¨nh:\n   - T√™n rule: \"Ph·ª• c·∫•p ƒÉn tr∆∞a\"\n   - ƒêi·ªÅu ki·ªán: `loaiHopDong = 'CHINH_THUC'`\n   - Gi√° tr·ªã: `730000`\n5. L∆∞u v√† test","tokenCount":63,"tags":["rule-engine","trace"],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":["/quy-che","/rule-trace"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-32","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Xem Rule Trace?","sectionPath":"HUONG_DAN_SU_DUNG > Rule Engine","contentMd":"### Xem Rule Trace?\n\n1. Truy c·∫≠p **Rule Trace** (`/rule-trace`)\n2. Ch·ªçn b·∫£ng l∆∞∆°ng\n3. Ch·ªçn nh√¢n vi√™n\n4. Xem chi ti·∫øt t·ª´ng rule ƒë∆∞·ª£c √°p d·ª•ng\n\n**Tags:** `rule-engine`, `quy-che`, `formula`, `trace`\n\n---","tokenCount":50,"tags":["rule-engine","trace"],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":["/quy-che","/rule-trace"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-33","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Import ch·∫•m c√¥ng t·ª´ m√°y ch·∫•m c√¥ng?","sectionPath":"HUONG_DAN_SU_DUNG > Import/Export D·ªØ Li·ªáu","contentMd":"### Import ch·∫•m c√¥ng t·ª´ m√°y ch·∫•m c√¥ng?\n\n1. Xu·∫•t file t·ª´ m√°y ch·∫•m c√¥ng (Excel/CSV)\n2. Truy c·∫≠p **Import Excel** (`/import-excel`)\n3. Ch·ªçn lo·∫°i: Ch·∫•m c√¥ng\n4. Upload file\n5. Mapping c·ªôt: M√£ NV, Ng√†y, Gi·ªù v√†o, Gi·ªù ra\n6. Preview v√† x√°c nh·∫≠n","tokenCount":60,"tags":["import","data"],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":["/import-excel","/import-giao-hang","/san-luong"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-34","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Import s·∫£n l∆∞·ª£ng giao h√†ng?","sectionPath":"HUONG_DAN_SU_DUNG > Import/Export D·ªØ Li·ªáu","contentMd":"### Import s·∫£n l∆∞·ª£ng giao h√†ng?\n\n1. Truy c·∫≠p **Import Giao H√†ng** (`/import-giao-hang`)\n2. T·∫£i file m·∫´u\n3. ƒêi·ªÅn d·ªØ li·ªáu: M√£ NV, Ng√†y, S·ªë ƒë∆°n, Kh·ªëi l∆∞·ª£ng...\n4. Upload v√† x√°c nh·∫≠n\n5. Xem k·∫øt qu·∫£ t·∫°i **S·∫£n L∆∞·ª£ng** (`/san-luong`)","tokenCount":57,"tags":["import","data"],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":["/import-excel","/import-giao-hang","/san-luong"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-35","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"L∆∞∆°ng t√≠nh sai, ki·ªÉm tra ·ªü ƒë√¢u?","sectionPath":"HUONG_DAN_SU_DUNG > L·ªói Th∆∞·ªùng G·∫∑p","contentMd":"### L∆∞∆°ng t√≠nh sai, ki·ªÉm tra ·ªü ƒë√¢u?\n\n1. V√†o **Rule Trace** (`/rule-trace`)\n2. Ch·ªçn nh√¢n vi√™n b·ªã sai\n3. Xem chi ti·∫øt t·ª´ng kho·∫£n l∆∞∆°ng\n4. Ki·ªÉm tra:\n   - Ng√†y c√¥ng t√≠nh ƒë√∫ng ch∆∞a?\n   - Rule c√≥ √°p d·ª•ng ƒë√∫ng kh√¥ng?\n   - D·ªØ li·ªáu ƒë·∫ßu v√†o (ch·∫•m c√¥ng, KPI...) ch√≠nh x√°c?","tokenCount":66,"tags":["troubleshooting","loi"],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":["/rule-trace"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-36","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Import l·ªói \"M√£ NV kh√¥ng t·ªìn t·∫°i\"?","sectionPath":"HUONG_DAN_SU_DUNG > L·ªói Th∆∞·ªùng G·∫∑p","contentMd":"### Import l·ªói \"M√£ NV kh√¥ng t·ªìn t·∫°i\"?\n\n1. Ki·ªÉm tra m√£ nh√¢n vi√™n trong file Excel\n2. ƒê·∫£m b·∫£o nh√¢n vi√™n ƒë√£ ƒë∆∞·ª£c t·∫°o trong h·ªá th·ªëng\n3. M√£ NV ph·∫£i kh·ªõp ch√≠nh x√°c (ph√¢n bi·ªát hoa/th∆∞·ªùng)\n4. Ki·ªÉm tra tr·∫°ng th√°i nh√¢n vi√™n (c√≤n l√†m vi·ªác)","tokenCount":58,"tags":["troubleshooting","loi"],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":["/rule-trace"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-37","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Kh√¥ng th·∫•y nh√¢n vi√™n trong b·∫£ng l∆∞∆°ng?","sectionPath":"HUONG_DAN_SU_DUNG > L·ªói Th∆∞·ªùng G·∫∑p","contentMd":"### Kh√¥ng th·∫•y nh√¢n vi√™n trong b·∫£ng l∆∞∆°ng?\n\nKi·ªÉm tra:\n1. Nh√¢n vi√™n c√≥ h·ª£p ƒë·ªìng valid trong k·ª≥?\n2. Nh√¢n vi√™n c√≥ thu·ªôc ph√≤ng ban ƒë∆∞·ª£c ch·ªçn?\n3. Tr·∫°ng th√°i nh√¢n vi√™n = \"ƒêang l√†m vi·ªác\"\n4. ƒê√£ click \"ƒê·ªìng b·ªô\" sau khi th√™m nh√¢n vi√™n m·ªõi?\n\n**Tags:** `troubleshooting`, `error`, `debug`, `loi`\n\n---","tokenCount":72,"tags":["troubleshooting","loi"],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":["/rule-trace"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-38","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Thu·∫ø TNCN t√≠nh th·∫ø n√†o?","sectionPath":"HUONG_DAN_SU_DUNG > Thu·∫ø & B·∫£o Hi·ªÉm","contentMd":"### Thu·∫ø TNCN t√≠nh th·∫ø n√†o?\n\n1. T√≠nh thu nh·∫≠p ch·ªãu thu·∫ø = T·ªïng thu nh·∫≠p - C√°c kho·∫£n mi·ªÖn thu·∫ø - Gi·∫£m tr·ª´\n2. Gi·∫£m tr·ª´ b·∫£n th√¢n: 11,000,000 VNƒê/th√°ng\n3. Gi·∫£m tr·ª´ ng∆∞·ªùi ph·ª• thu·ªôc: 4,400,000 VNƒê/ng∆∞·ªùi/th√°ng\n4. √Åp d·ª•ng bi·ªÉu thu·∫ø l≈©y ti·∫øn 7 b·∫≠c\n\n**Tags:** `tax`, `bhxh`, `thue`, `insurance`\n\n---","tokenCount":73,"tags":["tax","insurance"],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-39","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"C·∫•u h√¨nh th∆∞·ªüng KPI?","sectionPath":"HUONG_DAN_SU_DUNG > KPI & Th∆∞·ªüng","contentMd":"### C·∫•u h√¨nh th∆∞·ªüng KPI?\n\n1. Truy c·∫≠p **KPI > C·∫•u h√¨nh th∆∞·ªüng** (`/kpi/cau-hinh-thuong`)\n2. T·∫°o b·∫£ng mapping:\n   - ƒêi·ªÉm KPI 90-100 ‚Üí Th∆∞·ªüng 100%\n   - ƒêi·ªÉm KPI 80-89 ‚Üí Th∆∞·ªüng 80%\n   - ƒêi·ªÉm KPI < 80 ‚Üí Th∆∞·ªüng 50%\n3. Li√™n k·∫øt v·ªõi k·ª≥ ƒë√°nh gi√°\n4. L∆∞u c·∫•u h√¨nh","tokenCount":64,"tags":["kpi","danh-gia"],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":["/kpi/cau-hinh-thuong","/kpi/ky-danh-gia"],"actions":[]}
{"id":"HUONG_DAN_SU_DUNG-40","docId":"HUONG_DAN_SU_DUNG","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/HUONG_DAN_SU_DUNG.md","title":"Import ƒëi·ªÉm KPI?","sectionPath":"HUONG_DAN_SU_DUNG > KPI & Th∆∞·ªüng","contentMd":"### Import ƒëi·ªÉm KPI?\n\n1. Truy c·∫≠p **KPI > K·ª≥ ƒë√°nh gi√°** (`/kpi/ky-danh-gia`)\n2. Ch·ªçn k·ª≥\n3. Click **Import ƒëi·ªÉm**\n4. Upload file Excel v·ªõi c·ªôt: M√£ NV, ƒêi·ªÉm KPI\n5. X√°c nh·∫≠n\n\n**Tags:** `kpi`, `bonus`, `thuong`, `danh-gia`","tokenCount":55,"tags":["kpi","danh-gia"],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":["/kpi/cau-hinh-thuong","/kpi/ky-danh-gia"],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-0","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"K·∫ø Ho·∫°ch Tri·ªÉn Khai Knowledge Base RAG Pipeline","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > K·∫ø Ho·∫°ch Tri·ªÉn Khai Knowledge Base RAG Pipeline","contentMd":"# K·∫ø Ho·∫°ch Tri·ªÉn Khai Knowledge Base RAG Pipeline\n\n> **Ng√†y l·∫≠p:** 23/01/2026  \n> **D·ª± √°n:** HRM-Lite / Payroll System  \n> **M·ª•c ti√™u:** X√¢y d·ª±ng Knowledge Base chu·∫©n RAG cho Chatbot h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng\n\n---","tokenCount":52,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-1","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"1. T√†i li·ªáu ngu·ªìn hi·ªán c√≥","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìä Ph√¢n T√≠ch Hi·ªán Tr·∫°ng","contentMd":"### 1. T√†i li·ªáu ngu·ªìn hi·ªán c√≥\n\n| Lo·∫°i | S·ªë l∆∞·ª£ng | V·ªã tr√≠ | Ghi ch√∫ |\n|------|----------|--------|---------|\n| **Markdown docs** | 11 files | `/docs/` | H∆∞·ªõng d·∫´n quy ch·∫ø, migration, setup |\n| **PRD Phase 2** | 6 files | `/Phase 2/` | X·∫øp ca, Request, ESS, Anti-fraud |\n| **Test Reports** | 8 files | `/` (root) | Sprint reports d·∫°ng MD |\n| **HTML Reports** | 8 files | `/` (root) | Test reports (kh√¥ng ph·∫£i user docs) |\n| **Frontend Pages** | 50+ files | `/frontend/src/pages/` | Source code UI |\n| **Backend Modules** | nhi·ªÅu | `/backend/src/` | Source code API |","tokenCount":142,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/docs/","/frontend/src/pages/","/backend/src/"],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-2","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"2. Gap Analysis - Thi·∫øu t√†i li·ªáu","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìä Ph√¢n T√≠ch Hi·ªán Tr·∫°ng","contentMd":"### 2. Gap Analysis - Thi·∫øu t√†i li·ªáu\n\n| Module | T√¨nh tr·∫°ng | C·∫ßn t·∫°o |\n|--------|------------|---------|\n| Payroll Core | ‚úÖ C√≥ (HUONG_DAN_QUY_CHE_LUONG.md) | B·ªï sung workflow chi ti·∫øt |\n| Rule Engine | ‚ö†Ô∏è M·ªôt ph·∫ßn | C·∫ßn doc ri√™ng cho Rule Trace, AI G·ª£i √Ω |\n| Import/Export | ‚ö†Ô∏è R·∫£i r√°c | C·∫ßn g·ªôp th√†nh guide ho√†n ch·ªânh |\n| Ch·∫•m c√¥ng | ‚ùå Thi·∫øu | C·∫ßn t·∫°o m·ªõi |\n| KPI | ‚ùå Thi·∫øu | C·∫ßn t·∫°o m·ªõi |\n| BHXH/Thu·∫ø | ‚ùå Thi·∫øu | C·∫ßn t·∫°o m·ªõi |\n| RBAC/Audit | ‚ö†Ô∏è C√≥ report | C·∫ßn chuy·ªÉn th√†nh user guide |\n| Snapshot/Ch·ªët/Kho√° | ‚ö†Ô∏è R·∫£i r√°c | C·∫ßn g·ªôp + flow diagram |","tokenCount":138,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/docs/","/frontend/src/pages/","/backend/src/"],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-3","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"3. Kh√¥ng c√≥ file HTML h∆∞·ªõng d·∫´n ng∆∞·ªùi d√πng","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìä Ph√¢n T√≠ch Hi·ªán Tr·∫°ng","contentMd":"### 3. Kh√¥ng c√≥ file HTML h∆∞·ªõng d·∫´n ng∆∞·ªùi d√πng\n- C√°c file `.html` hi·ªán t·∫°i ƒë·ªÅu l√† **test reports** (automated test results)\n- **KH√îNG C√ì** t√†i li·ªáu HTML h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng nh∆∞ prompt y√™u c·∫ßu\n- C·∫ßn **t·∫°o m·ªõi** t√†i li·ªáu ho·∫∑c **sinh t·ª´ source code + PRD**\n\n---","tokenCount":64,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":["/docs/","/frontend/src/pages/","/backend/src/"],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-4","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"Ph∆∞∆°ng √°n ƒë·ªÅ xu·∫•t: **Generate-First + Pipeline**","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üéØ Chi·∫øn L∆∞·ª£c Tri·ªÉn Khai","contentMd":"### Ph∆∞∆°ng √°n ƒë·ªÅ xu·∫•t: **Generate-First + Pipeline**\n\nDo thi·∫øu t√†i li·ªáu HTML ngu·ªìn, s·∫Ω tri·ªÉn khai theo 2 pha:\n\n1. **Pha 1:** Sinh t√†i li·ªáu t·ª´ source code + PRD + existing docs\n2. **Pha 2:** Build pipeline convert/chunk/index\n\n---","tokenCount":58,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-5","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"Sprint 1: Setup Infrastructure (1 ng√†y)","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìÖ K·∫ø Ho·∫°ch Chi Ti·∫øt","contentMd":"### Sprint 1: Setup Infrastructure (1 ng√†y)\n\n#### Task 1.1: T·∫°o c·∫•u tr√∫c th∆∞ m·ª•c\n```\nkb-pipeline/\n‚îú‚îÄ‚îÄ package.json\n‚îú‚îÄ‚îÄ tsconfig.json\n‚îú‚îÄ‚îÄ .env.example\n‚îú‚îÄ‚îÄ config/\n‚îÇ   ‚îú‚îÄ‚îÄ config.json          # Source paths, output paths\n‚îÇ   ‚îú‚îÄ‚îÄ modules.json          # Module taxonomy\n‚îÇ   ‚îú‚îÄ‚îÄ tags-taxonomy.json    # Tags chu·∫©n\n‚îÇ   ‚îî‚îÄ‚îÄ routes-mapping.json   # Frontend routes ‚Üí modules\n‚îú‚îÄ‚îÄ scripts/\n‚îÇ   ‚îú‚îÄ‚îÄ 01-scan-sources.ts    # Scan t√†i li·ªáu ngu·ªìn\n‚îÇ   ‚îú‚îÄ‚îÄ 02-generate-docs.ts   # Sinh docs t·ª´ source\n‚îÇ   ‚îú‚îÄ‚îÄ 03-convert-html.ts    # HTML ‚Üí MD\n‚îÇ   ‚îú‚îÄ‚îÄ 04-normalize.ts       # Chu·∫©n h√≥a format\n‚îÇ   ‚îú‚îÄ‚îÄ 05-chunk.ts           # Chia chunks\n‚îÇ   ‚îú‚îÄ‚îÄ 06-tag.ts             # Auto tagging\n‚îÇ   ‚îú‚îÄ‚îÄ 07-glossary.ts        # Sinh glossary\n‚îÇ   ‚îú‚îÄ‚îÄ 08-faq.ts             # Sinh FAQ\n‚îÇ   ‚îú‚îÄ‚îÄ 09-index.ts           # T·∫°o index\n‚îÇ   ‚îî‚îÄ‚îÄ 10-embed.ts           # Generate embeddings (optional)\n‚îú‚îÄ‚îÄ lib/\n‚îÇ   ‚îú‚îÄ‚îÄ html-converter.ts\n‚îÇ   ‚îú‚îÄ‚îÄ chunker.ts\n‚îÇ   ‚îú‚îÄ‚îÄ tagger.ts\n‚îÇ   ‚îî‚îÄ‚îÄ utils.ts\n‚îî‚îÄ‚îÄ templates/\n    ‚îú‚îÄ‚îÄ doc-template.md\n    ‚îú‚îÄ‚îÄ glossary-entry.md\n    ‚îî‚îÄ‚îÄ faq-entry.md\n```\n\n#### Task 1.2: C√†i ƒë·∫∑t dependencies\n```json\n{\n  \"dependencies\": {\n    \"turndown\": \"^7.1.2\",\n    \"turndown-plugin-gfm\": \"^1.0.2\",\n    \"glob\": \"^10.3.0\",\n    \"gray-matter\": \"^4.0.3\",\n    \"marked\": \"^11.0.0\",\n    \"tiktoken\": \"^1.0.0\",\n    \"dotenv\": \"^16.0.0\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"^5.0.0\",\n    \"@types/node\": \"^20.0.0\",\n    \"@types/turndown\": \"^5.0.0\"\n  }\n}\n```\n\n---","tokenCount":357,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-6","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"Sprint 2: Sinh T√†i Li·ªáu Ngu·ªìn (2-3 ng√†y)","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìÖ K·∫ø Ho·∫°ch Chi Ti·∫øt","contentMd":"### Sprint 2: Sinh T√†i Li·ªáu Ngu·ªìn (2-3 ng√†y)\n\n#### Task 2.1: Scan & Analyze Source Code\nT·∫°o script ph√¢n t√≠ch:\n- Frontend routes ‚Üí Modules\n- API endpoints ‚Üí Features\n- Prisma models ‚Üí Entities\n- Existing docs ‚Üí Topics\n\n#### Task 2.2: Generate Module Documentation\nSinh t√†i li·ªáu cho t·ª´ng module:\n\n| Module | Source | Output |\n|--------|--------|--------|\n| **Payroll** | ChiTietBangLuong.tsx, QuanLyQuyChe.tsx, XemRuleTrace.tsx | `modules/payroll.md` |\n| **Employees** | QuanLyNhanVien.tsx, ChiTietNhanVien.tsx | `modules/employees.md` |\n| **Attendance** | QuanLyChamCong.tsx, BangCongThang.tsx | `modules/attendance.md` |\n| **Import/Export** | ImportExcel.tsx, ImportChiaHang.tsx, ImportGiaoHang.tsx | `modules/import-export.md` |\n| **KPI** | QuanLyKPI.tsx, KyDanhGiaKPI.tsx, CauHinhThuongKPI.tsx | `modules/kpi.md` |\n| **Requests** | DonNghiCuaToi.tsx, DuyetNghiPhep.tsx, DuyetYeuCau.tsx | `modules/requests.md` |\n| **Settings** | CaiDatHeThong.tsx, QuanLyNguoiDung.tsx | `modules/settings.md` |\n| **Reports** | /pages/reports/ | `modules/reports.md` |\n\n#### Task 2.3: Generate Workflow Documentation\nSinh t√†i li·ªáu theo quy tr√¨nh:\n\n1. **Setup ban ƒë·∫ßu** (`workflow/01-setup.md`)\n   - C·∫•u h√¨nh ph√≤ng ban, ch·ª©c v·ª•\n   - Import nh√¢n vi√™n\n   - Thi·∫øt l·∫≠p kho·∫£n l∆∞∆°ng\n\n2. **Quy tr√¨nh th√°ng** (`workflow/02-monthly.md`)\n   - Import d·ªØ li·ªáu s·∫£n l∆∞·ª£ng\n   - Ch·∫•m c√¥ng\n   - T√≠nh l∆∞∆°ng\n\n3. **Snapshot & Ch·ªët** (`workflow/03-snapshot.md`)\n   - T·∫°o snapshot\n   - Ch·ªët k·ª≥ l∆∞∆°ng\n   - Kh√≥a k·ª≥ l∆∞∆°ng\n\n4. **ƒêi·ªÅu ch·ªânh** (`workflow/04-adjustment.md`)\n   - Adjustment voucher\n   - Rule override\n\n5. **Ph√™ duy·ªát & Export** (`workflow/05-approval-export.md`)\n   - Duy·ªát b·∫£ng l∆∞∆°ng\n   - Export ng√¢n h√†ng\n   - Payslip\n\n---","tokenCount":425,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-7","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"Sprint 3: Build Pipeline Core (2 ng√†y)","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìÖ K·∫ø Ho·∫°ch Chi Ti·∫øt","contentMd":"### Sprint 3: Build Pipeline Core (2 ng√†y)\n\n#### Task 3.1: HTML ‚Üí Markdown Converter\n```typescript\n// lib/html-converter.ts\nimport TurndownService from 'turndown';\nimport { gfm } from 'turndown-plugin-gfm';\n\nconst turndown = new TurndownService({\n  headingStyle: 'atx',\n  codeBlockStyle: 'fenced',\n});\nturndown.use(gfm);\n\n// Custom rules for HRM-specific elements\nturndown.addRule('vndCurrency', {\n  filter: (node) => node.classList?.contains('currency'),\n  replacement: (content) => formatVND(content)\n});\n```\n\n#### Task 3.2: Chunking Engine\n```typescript\n// lib/chunker.ts\ninterface ChunkConfig {\n  minTokens: 350;\n  maxTokens: 900;\n  overlapTokens: 100;\n  splitBy: ['h1', 'h2', 'h3', 'paragraph'];\n  preserveBlocks: ['table', 'code', 'list'];\n}\n\nfunction chunkDocument(markdown: string, config: ChunkConfig): Chunk[] {\n  // 1. Parse sections by headings\n  // 2. Split large sections by paragraphs\n  // 3. Apply overlap\n  // 4. Preserve table/code integrity\n}\n```\n\n#### Task 3.3: Auto Tagger\n```typescript\n// lib/tagger.ts\nconst TAG_RULES = {\n  modules: {\n    'payroll': ['b·∫£ng l∆∞∆°ng', 't√≠nh l∆∞∆°ng', 'k·ª≥ l∆∞∆°ng', 'snapshot'],\n    'attendance': ['ch·∫•m c√¥ng', 'ng√†y c√¥ng', 'v·∫Øng m·∫∑t'],\n    'kpi': ['KPI', 'ƒë√°nh gi√°', 'th∆∞·ªüng KPI'],\n    // ...\n  },\n  personas: {\n    'admin': ['c·∫•u h√¨nh', 'qu·∫£n tr·ªã', 'ph√¢n quy·ªÅn'],\n    'hr': ['nh√¢n s·ª±', 'nh√¢n vi√™n', 'ph√≤ng ban'],\n    'ke_toan': ['k·∫ø to√°n', 'ng√¢n h√†ng', 'BHXH', 'thu·∫ø'],\n  },\n  routes: {\n    '/bang-luong': 'payroll',\n    '/nhan-vien': 'employees',\n    // ...\n  }\n};\n```\n\n---","tokenCount":382,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-8","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"Sprint 4: Glossary & FAQ Generation (1 ng√†y)","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìÖ K·∫ø Ho·∫°ch Chi Ti·∫øt","contentMd":"### Sprint 4: Glossary & FAQ Generation (1 ng√†y)\n\n#### Task 4.1: Glossary Extraction\nThu·∫≠t ng·ªØ b·∫Øt bu·ªôc (t·ª´ prompt + h·ªá th·ªëng):\n\n| Term | Category |\n|------|----------|\n| Snapshot | Payroll |\n| Ch·ªët k·ª≥ / Kho√° k·ª≥ | Payroll |\n| Rule Engine / Rule Trace | Payroll |\n| Adjustment Voucher | Payroll |\n| Ng√†y c√¥ng / C√¥ng chu·∫©n | Attendance |\n| KPI Mapping | KPI |\n| ·ª®ng l∆∞∆°ng | Payroll |\n| Ph·ª• c·∫•p theo nh√¢n vi√™n | Payroll |\n| S·∫£n l∆∞·ª£ng / Chia h√†ng / Giao h√†ng | Import |\n| BHXH / BHYT / BHTN | Tax |\n| Thu·∫ø TNCN | Tax |\n| RBAC / Vai tr√≤ | System |\n\n#### Task 4.2: FAQ Generation\nNh√≥m FAQ theo workflow:\n\n1. **Setup**\n   - L√†m sao t·∫°o ph√≤ng ban m·ªõi?\n   - Import nh√¢n vi√™n t·ª´ Excel nh∆∞ th·∫ø n√†o?\n   \n2. **T√≠nh l∆∞∆°ng**\n   - T·∫°o b·∫£ng l∆∞∆°ng th√°ng nh∆∞ th·∫ø n√†o?\n   - C√¥ng th·ª©c t√≠nh s·∫£n l∆∞·ª£ng ho·∫°t ƒë·ªông ra sao?\n   \n3. **Snapshot/Ch·ªët**\n   - Snapshot l√† g√¨? Khi n√†o c·∫ßn t·∫°o?\n   - Ch·ªët v√† Kho√° kh√°c nhau th·∫ø n√†o?\n   \n4. **L·ªói th∆∞·ªùng g·∫∑p**\n   - L∆∞∆°ng t√≠nh sai, ki·ªÉm tra ·ªü ƒë√¢u?\n   - Import l·ªói \"M√£ NV kh√¥ng t·ªìn t·∫°i\"?\n\n---","tokenCount":252,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-9","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"Sprint 5: Index & Integration (1 ng√†y)","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìÖ K·∫ø Ho·∫°ch Chi Ti·∫øt","contentMd":"### Sprint 5: Index & Integration (1 ng√†y)\n\n#### Task 5.1: Generate Index Files\n```\nknowledge_base/00_index/\n‚îú‚îÄ‚îÄ kb_index.json       # Document index\n‚îú‚îÄ‚îÄ kb_index.jsonl      # Chunks for ingest\n‚îú‚îÄ‚îÄ sitemap.md          # Human-readable map\n‚îî‚îÄ‚îÄ tags.json           # Tag taxonomy\n```\n\n#### Task 5.2: Embedding Script (Optional)\n```typescript\n// scripts/10-embed.ts\n// Requires OPENAI_API_KEY or compatible provider\nasync function generateEmbeddings(chunks: Chunk[]) {\n  // Batch process chunks\n  // Save to embeddings.jsonl or pgvector\n}\n```\n\n#### Task 5.3: Quality Reports\n```\nknowledge_base/03_reports/\n‚îú‚îÄ‚îÄ conversion_report.md   # Files processed\n‚îú‚îÄ‚îÄ coverage_report.md     # Module coverage\n‚îî‚îÄ‚îÄ conflict_report.md     # Version conflicts\n```\n\n---","tokenCount":188,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-10","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"Sprint 6: CLI & Documentation (0.5 ng√†y)","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìÖ K·∫ø Ho·∫°ch Chi Ti·∫øt","contentMd":"### Sprint 6: CLI & Documentation (0.5 ng√†y)\n\n#### Task 6.1: CLI Commands\n```bash\n# Build full knowledge base\nnpm run kb:build\n\n# Build specific module\nnpm run kb:build -- --module payroll\n\n# Watch mode (dev)\nnpm run kb:watch\n\n# Preview chunks\nnpm run kb:preview\n\n# Generate embeddings\nnpm run kb:embed\n```\n\n#### Task 6.2: README\n```markdown\n# KB Pipeline","tokenCount":89,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-11","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"üìÅ Output Structure (Theo Prompt)","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üìÅ Output Structure (Theo Prompt)","contentMd":"## üìÅ Output Structure (Theo Prompt)\n\n```\nknowledge_base/\n‚îú‚îÄ‚îÄ 00_index/\n‚îÇ   ‚îú‚îÄ‚îÄ kb_index.json\n‚îÇ   ‚îú‚îÄ‚îÄ kb_index.jsonl\n‚îÇ   ‚îú‚îÄ‚îÄ sitemap.md\n‚îÇ   ‚îî‚îÄ‚îÄ tags.json\n‚îú‚îÄ‚îÄ 01_docs_md/\n‚îÇ   ‚îú‚îÄ‚îÄ workflow/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 01-setup.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 02-monthly.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 03-snapshot.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 04-adjustment.md\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 05-approval-export.md\n‚îÇ   ‚îú‚îÄ‚îÄ modules/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payroll.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ employees.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ import-export.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kpi.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ requests.md\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.md\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reports.md\n‚îÇ   ‚îú‚îÄ‚îÄ setup/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ system_map.md\n‚îÇ   ‚îú‚îÄ‚îÄ glossary/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ glossary.md\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ glossary.json\n‚îÇ   ‚îî‚îÄ‚îÄ faq/\n‚îÇ       ‚îú‚îÄ‚îÄ faq.md\n‚îÇ       ‚îî‚îÄ‚îÄ faq.json\n‚îú‚îÄ‚îÄ 02_chunks/\n‚îÇ   ‚îú‚îÄ‚îÄ chunks.jsonl\n‚îÇ   ‚îî‚îÄ‚îÄ chunks_preview.md\n‚îî‚îÄ‚îÄ 03_reports/\n    ‚îú‚îÄ‚îÄ conversion_report.md\n    ‚îú‚îÄ‚îÄ coverage_report.md\n    ‚îî‚îÄ‚îÄ conflict_report.md\n```\n\n---","tokenCount":218,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-12","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"‚è±Ô∏è Timeline T·ªïng K·∫øt","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > ‚è±Ô∏è Timeline T·ªïng K·∫øt","contentMd":"## ‚è±Ô∏è Timeline T·ªïng K·∫øt\n\n| Sprint | N·ªôi dung | Th·ªùi gian |\n|--------|----------|-----------|\n| 1 | Setup Infrastructure | 1 ng√†y |\n| 2 | Generate Source Docs | 2-3 ng√†y |\n| 3 | Pipeline Core | 2 ng√†y |\n| 4 | Glossary & FAQ | 1 ng√†y |\n| 5 | Index & Integration | 1 ng√†y |\n| 6 | CLI & Docs | 0.5 ng√†y |\n| **Total** | | **7-8 ng√†y** |\n\n---","tokenCount":84,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-13","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"‚ö†Ô∏è R·ªßi Ro & Mitigation","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > ‚ö†Ô∏è R·ªßi Ro & Mitigation","contentMd":"## ‚ö†Ô∏è R·ªßi Ro & Mitigation\n\n| R·ªßi ro | M·ª©c ƒë·ªô | Gi·∫£i ph√°p |\n|--------|--------|-----------|\n| Thi·∫øu t√†i li·ªáu ngu·ªìn HTML | Cao | Sinh docs t·ª´ source code + PRD |\n| N·ªôi dung kh√¥ng ƒë·∫ßy ƒë·ªß | Trung b√¨nh | ƒê√°nh d·∫•u `[NEED_DOC]`, report coverage |\n| Thu·∫≠t ng·ªØ kh√¥ng nh·∫•t qu√°n | Trung b√¨nh | Glossary chu·∫©n h√≥a |\n| Embedding API limit | Th·∫•p | Batch processing, rate limit |\n\n---","tokenCount":93,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-14","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"‚úÖ Ti√™u Ch√≠ Ho√†n Th√†nh","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > ‚úÖ Ti√™u Ch√≠ Ho√†n Th√†nh","contentMd":"## ‚úÖ Ti√™u Ch√≠ Ho√†n Th√†nh\n\n- [ ] Pipeline ch·∫°y 1 l·ªánh `npm run kb:build`\n- [ ] Output ƒë√∫ng structure theo prompt\n- [ ] Chunks c√≥ ƒë·∫ßy ƒë·ªß metadata (tags, module, persona, routes)\n- [ ] Glossary >= 15 terms\n- [ ] FAQ >= 20 Q&A\n- [ ] Coverage report hi·ªÉn th·ªã % module\n- [ ] README h∆∞·ªõng d·∫´n ch·∫°y pipeline\n- [ ] JSONL chunks ready for vector DB ingest\n\n---","tokenCount":88,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"KB-PIPELINE-IMPLEMENTATION-PLAN-15","docId":"KB-PIPELINE-IMPLEMENTATION-PLAN","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/KB-PIPELINE-IMPLEMENTATION-PLAN.md","title":"üöÄ B∆∞·ªõc Ti·∫øp Theo","sectionPath":"KB-PIPELINE-IMPLEMENTATION-PLAN > üöÄ B∆∞·ªõc Ti·∫øp Theo","contentMd":"## üöÄ B∆∞·ªõc Ti·∫øp Theo\n\n1. **X√°c nh·∫≠n k·∫ø ho·∫°ch** v·ªõi stakeholder\n2. **T·∫°o folder structure** `kb-pipeline/`\n3. **B·∫Øt ƒë·∫ßu Sprint 1** - Setup infrastructure\n\nB·∫°n mu·ªën b·∫Øt ƒë·∫ßu tri·ªÉn khai sprint n√†o tr∆∞·ªõc?","tokenCount":50,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-0","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"1. Ph·∫°m vi & ph∆∞∆°ng ph√°p","sectionPath":"PROJECT_REVIEW_2026-01-21 > 1. Ph·∫°m vi & ph∆∞∆°ng ph√°p","contentMd":"## 1. Ph·∫°m vi & ph∆∞∆°ng ph√°p\n- Ph·∫°m vi: to√†n b·ªô workspace tinh-luong (backend, frontend, docs, scripts, reports).\n- Ngu·ªìn tham chi·∫øu ch√≠nh: README, PROGRESS, k·∫ø ho·∫°ch fix, c·∫•u h√¨nh h·ªá th·ªëng, c·∫•u tr√∫c module, schema Prisma.\n- M·ª•c ti√™u: t·ªïng quan ki·∫øn tr√∫c, hi·ªán tr·∫°ng, ƒëi·ªÉm r·ªßi ro, v√† h∆∞·ªõng x·ª≠ l√Ω ∆∞u ti√™n.","tokenCount":76,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-1","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"2. T·ªïng quan ki·∫øn tr√∫c","sectionPath":"PROJECT_REVIEW_2026-01-21 > 2. T·ªïng quan ki·∫øn tr√∫c","contentMd":"## 2. T·ªïng quan ki·∫øn tr√∫c\n- Backend: NestJS + Prisma + PostgreSQL, chia module theo nghi·ªáp v·ª•, global guards (JWT/RBAC/Permissions), rate limit, Swagger.\n- Frontend: React + Vite + Tailwind, React Router v6, TanStack Query, PWA cho portal nh√¢n vi√™n.\n- D·ªØ li·ªáu: Prisma schema l·ªõn, t√™n model/field ti·∫øng Vi·ªát kh√¥ng d·∫•u; c·∫•u tr√∫c payroll theo b·∫£ng l∆∞∆°ng/chi ti·∫øt.","tokenCount":90,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-2","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"3. Hi·ªán tr·∫°ng ch·ª©c nƒÉng (t√≥m t·∫Øt)","sectionPath":"PROJECT_REVIEW_2026-01-21 > 3. Hi·ªán tr·∫°ng ch·ª©c nƒÉng (t√≥m t·∫Øt)","contentMd":"## 3. Hi·ªán tr·∫°ng ch·ª©c nƒÉng (t√≥m t·∫Øt)\n- Core payroll: qu·∫£n l√Ω ph√≤ng ban, nh√¢n vi√™n, kho·∫£n l∆∞∆°ng, b·∫£ng l∆∞∆°ng; import/export Excel; ch·ªët/kh√≥a.\n- Phase 2: x·∫øp ca, ngh·ªâ ph√©p, y√™u c·∫ßu OT/tr·ªÖ/s·ªõm/c√¥ng t√°c, portal nh√¢n vi√™n, notification, anti-fraud GPS, timesheet, payroll sync pipeline, reports.\n- T√†i li·ªáu ti·∫øn ƒë·ªô: ph·∫ßn l·ªõn Sprint 0-10 ƒë√£ ho√†n th√†nh; Sprint 11-12 c√≤n vi·ªác theo l·ªô tr√¨nh.","tokenCount":96,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-3","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"4. Ki·∫øn tr√∫c backend","sectionPath":"PROJECT_REVIEW_2026-01-21 > 4. Ki·∫øn tr√∫c backend","contentMd":"## 4. Ki·∫øn tr√∫c backend\n- Module ch√≠nh ƒë√£ t√≠ch h·ª£p: Ph√≤ng ban, Nh√¢n vi√™n, Kho·∫£n l∆∞∆°ng, B·∫£ng l∆∞∆°ng, Import Excel, Quy ch·∫ø/Rule Engine, RBAC, KPI, Ch·∫•m c√¥ng, S·∫£n l∆∞·ª£ng, H·ª£p ƒë·ªìng, Ng√¢n h√†ng, Ngh·ªâ ph√©p, X·∫øp ca, Y√™u c·∫ßu, Th√¥ng b√°o, Anti-fraud, Timesheet, Payroll Sync, Reports, Approval Dashboard.\n- B·∫£o m·∫≠t & an to√†n:\n  - Guard to√†n c·ª•c JWT/Roles/Permissions.\n  - Throttler 3 tier.\n  - Helmet CSP, CORS theo env, ValidationPipe.\n  - K·∫ø ho·∫°ch fix ƒë√£ ho√†n th√†nh giai ƒëo·∫°n A/B (auth, bcrypt, safe-eval, audit log, validate Excel).","tokenCount":131,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-4","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"5. Data model (Prisma)","sectionPath":"PROJECT_REVIEW_2026-01-21 > 5. Data model (Prisma)","contentMd":"## 5. Data model (Prisma)\n- Core: `PhongBan`, `NhanVien`, `KhoanLuong`, `BangLuong`, `ChiTietBangLuong`, `NgayCongBangLuong`.\n- Nghi·ªáp v·ª• m·ªü r·ªông: `NghiPhep`, `YeuCau`, `PhanCa`, `ChamCong`, `ThongBao`, `RuleEngine`, `AntiFraud`.\n- Quy ∆∞·ªõc: enum nghi·ªáp v·ª• r√µ r√†ng, nhi·ªÅu index + unique; c√≥ b·∫£ng l·ªãch s·ª≠ (audit/nh√¢n s·ª±/ph√¢n ca).","tokenCount":82,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-5","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"7. Nh·ªØng t·ªìn t·∫°i/TODO c·ª• th·ªÉ (c√≥ link v·ªã tr√≠)","sectionPath":"PROJECT_REVIEW_2026-01-21 > 7. Nh·ªØng t·ªìn t·∫°i/TODO c·ª• th·ªÉ (c√≥ link v·ªã tr√≠)","contentMd":"## 7. Nh·ªØng t·ªìn t·∫°i/TODO c·ª• th·ªÉ (c√≥ link v·ªã tr√≠)\n- Ch·∫∑n ƒëi·ªÅu h∆∞·ªõng khi ch∆∞a l∆∞u: ch∆∞a migrate sang `createBrowserRouter` ƒë·ªÉ d√πng `useBlocker`. [frontend/src/pages/ChiTietBangLuong.tsx](frontend/src/pages/ChiTietBangLuong.tsx#L334)\n- C√†i ƒë·∫∑t BHXH/Thu·∫ø: handler ch∆∞a g·ªçi API. [frontend/src/pages/CaiDatHeThong.tsx](frontend/src/pages/CaiDatHeThong.tsx#L194)\n- Quick actions: ch∆∞a implement modal actions. [frontend/src/components/layout/QuickActions.tsx](frontend/src/components/layout/QuickActions.tsx#L140)\n- Inbox duy·ªát c·∫•p 1: ch∆∞a l·ªçc theo team ng∆∞·ªùi duy·ªát. [backend/src/modules/yeu-cau/yeu-cau.service.ts](backend/src/modules/yeu-cau/yeu-cau.service.ts#L599)\n- L·ªãch l√†m vi·ªác c√° nh√¢n: `nhanVienId` ch∆∞a l·∫•y ch·∫Øc ch·∫Øn t·ª´ user ƒëƒÉng nh·∫≠p. [backend/src/modules/phan-ca/phan-ca.controller.ts](backend/src/modules/phan-ca/phan-ca.controller.ts#L60)\n- Rule preview: thi·∫øu logic ki·ªÉm tra ƒëi·ªÅu ki·ªán ƒë·∫ßy ƒë·ªß. [backend/src/modules/rule-engine/quy-che-rule.service.ts](backend/src/modules/rule-engine/quy-che-rule.service.ts#L530)\n- Tr·ª£ l√Ω AI: ch∆∞a l·∫•y `nguoiTaoId` t·ª´ JWT. [backend/src/modules/rule-engine/tro-ly-ai.controller.ts](backend/src/modules/rule-engine/tro-ly-ai.controller.ts#L32) v√† [backend/src/modules/rule-engine/tro-ly-ai.controller.ts](backend/src/modules/rule-engine/tro-ly-ai.controller.ts#L68)\n- S·ªï l∆∞∆°ng: ng√†y c√¥ng ƒëang hardcode 26. [backend/src/modules/so-luong/so-luong.service.ts](backend/src/modules/so-luong/so-luong.service.ts#L220)","tokenCount":363,"tags":[],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-6","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"8. R·ªßi ro & ·∫£nh h∆∞·ªüng","sectionPath":"PROJECT_REVIEW_2026-01-21 > 8. R·ªßi ro & ·∫£nh h∆∞·ªüng","contentMd":"## 8. R·ªßi ro & ·∫£nh h∆∞·ªüng\n- **Access control d·ªØ li·ªáu**: inbox duy·ªát ch∆∞a l·ªçc theo ph·∫°m vi ‚Üí r·ªßi ro l·ªô th√¥ng tin/duy·ªát sai ph·∫°m vi.\n- **T√≠nh ƒë√∫ng nghi·ªáp v·ª•**: rule preview b·ªè qua ƒëi·ªÅu ki·ªán ‚Üí k·∫øt qu·∫£ m√¥ ph·ªèng sai.\n- **Portal/ca l√†m vi·ªác**: l·∫•y `nhanVienId` kh√¥ng chu·∫©n ‚Üí tr·∫£ r·ªóng ho·∫∑c sai l·ªãch.\n- **B√°o c√°o s·ªï l∆∞∆°ng**: ng√†y c√¥ng hardcode ‚Üí sai s·ªë li·ªáu t·ªïng h·ª£p.\n- **T√≠nh nƒÉng treo**: BHXH/Thu·∫ø v√† modal quick actions ch∆∞a c√≥ API ‚Üí UX ch∆∞a ho√†n ch·ªânh.","tokenCount":112,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-7","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"P0 ‚Äì 1-2 tu·∫ßn","sectionPath":"PROJECT_REVIEW_2026-01-21 > 9. H∆∞·ªõng x·ª≠ l√Ω ƒë·ªÅ xu·∫•t (∆∞u ti√™n)","contentMd":"### P0 ‚Äì 1-2 tu·∫ßn\n1. Ho√†n thi·ªán l·ªçc inbox duy·ªát theo team/role (backend) + test ph√¢n quy·ªÅn.\n2. Chu·∫©n h√≥a `nhanVienId` t·ª´ JWT cho l·ªãch c√° nh√¢n v√† tr·ª£ l√Ω AI.\n3. X·ª≠ l√Ω hardcode ng√†y c√¥ng ‚Üí l·∫•y t·ª´ ch·∫•m c√¥ng/Timesheet.","tokenCount":54,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-8","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"P2 ‚Äì 4-6 tu·∫ßn","sectionPath":"PROJECT_REVIEW_2026-01-21 > 9. H∆∞·ªõng x·ª≠ l√Ω ƒë·ªÅ xu·∫•t (∆∞u ti√™n)","contentMd":"### P2 ‚Äì 4-6 tu·∫ßn\n7. T·ªëi ∆∞u hi·ªáu nƒÉng: gi·∫£m N+1 query, th√™m index theo truy v·∫•n th·ª±c t·∫ø.\n8. Chu·∫©n h√≥a naming, d·ªçn log/console cho production.\n9. B·ªï sung test integration cho c√°c module payroll, import, rule engine, anti-fraud.","tokenCount":57,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-9","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"10. Khuy·∫øn ngh·ªã v·∫≠n h√†nh","sectionPath":"PROJECT_REVIEW_2026-01-21 > 10. Khuy·∫øn ngh·ªã v·∫≠n h√†nh","contentMd":"## 10. Khuy·∫øn ngh·ªã v·∫≠n h√†nh\n- Thi·∫øt l·∫≠p CI c∆° b·∫£n: lint, test, prisma generate, build.\n- B·ªï sung quan s√°t: request logging chu·∫©n, error tracking, slow query log.\n- Chu·∫©n h√≥a m√¥i tr∆∞·ªùng: `.env.example` cho backend + frontend.","tokenCount":56,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-10","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"11. K·∫øt lu·∫≠n","sectionPath":"PROJECT_REVIEW_2026-01-21 > 11. K·∫øt lu·∫≠n","contentMd":"## 11. K·∫øt lu·∫≠n\nD·ª± √°n ƒë√£ ƒë·∫°t ƒë·ªô ho√†n thi·ªán cao v·ªÅ ph·∫°m vi t√≠nh nƒÉng. Nh·ªØng t·ªìn t·∫°i c√≤n l·∫°i ch·ªß y·∫øu l√† ho√†n thi·ªán nghi·ªáp v·ª•, ph√¢n quy·ªÅn chi ti·∫øt, v√† t√≠nh ƒë√∫ng s·ªë li·ªáu ·ªü b√°o c√°o/preview. ∆Øu ti√™n x·ª≠ l√Ω c√°c TODO ·ªü backend li√™n quan ƒë·∫øn ph√¢n quy·ªÅn v√† t√≠nh ƒë√∫ng d·ªØ li·ªáu; sau ƒë√≥ ho√†n thi·ªán c√°c ƒëi·ªÉm UX/UI ph√≠a frontend.","tokenCount":78,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-11","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"12. C·∫≠p nh·∫≠t sau x·ª≠ l√Ω","sectionPath":"PROJECT_REVIEW_2026-01-21 > 12. C·∫≠p nh·∫≠t sau x·ª≠ l√Ω","contentMd":"### P0\n- ‚úÖ L·ªçc inbox duy·ªát theo ph·∫°m vi ph√≤ng ban/role. [backend/src/modules/yeu-cau/yeu-cau.service.ts](backend/src/modules/yeu-cau/yeu-cau.service.ts#L76-L665)\n- ‚úÖ Chu·∫©n h√≥a `nhanVienId` t·ª´ JWT cho l·ªãch c√° nh√¢n v√† tr·ª£ l√Ω AI. [backend/src/modules/phan-ca/phan-ca.controller.ts](backend/src/modules/phan-ca/phan-ca.controller.ts#L55-L66), [backend/src/modules/rule-engine/tro-ly-ai.controller.ts](backend/src/modules/rule-engine/tro-ly-ai.controller.ts#L33-L77)\n- ‚úÖ Ng√†y c√¥ng s·ªï l∆∞∆°ng l·∫•y t·ª´ d·ªØ li·ªáu ch·∫•m c√¥ng/ƒëi·ªÅu ch·ªânh. [backend/src/modules/so-luong/so-luong.service.ts](backend/src/modules/so-luong/so-luong.service.ts#L167-L243)","tokenCount":159,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-12","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"12. C·∫≠p nh·∫≠t sau x·ª≠ l√Ω","sectionPath":"PROJECT_REVIEW_2026-01-21 > 12. C·∫≠p nh·∫≠t sau x·ª≠ l√Ω","contentMd":"### P1\n- ‚úÖ Rule preview ki·ªÉm tra ƒëi·ªÅu ki·ªán ƒë·∫ßy ƒë·ªß. [backend/src/modules/rule-engine/quy-che-rule.service.ts](backend/src/modules/rule-engine/quy-che-rule.service.ts#L474-L620)\n- ‚úÖ BHXH/Thu·∫ø settings API + UI wiring. [frontend/src/pages/CaiDatHeThong.tsx](frontend/src/pages/CaiDatHeThong.tsx#L360-L630), [frontend/src/services/api.ts](frontend/src/services/api.ts#L150-L204)\n- ‚úÖ Modal actions cho quick actions. [frontend/src/components/layout/QuickActions.tsx](frontend/src/components/layout/QuickActions.tsx#L126-L156)","tokenCount":131,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-13","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"12. C·∫≠p nh·∫≠t sau x·ª≠ l√Ω","sectionPath":"PROJECT_REVIEW_2026-01-21 > 12. C·∫≠p nh·∫≠t sau x·ª≠ l√Ω","contentMd":"### P2\n- ‚úÖ Gi·∫£m N+1 s·ªï l∆∞∆°ng (batch snapshot) + index t·ªïng h·ª£p. [backend/src/modules/so-luong/so-luong.service.ts](backend/src/modules/so-luong/so-luong.service.ts#L160-L230), [backend/prisma/schema.prisma](backend/prisma/schema.prisma#L532-L544)\n- ‚úÖ D·ªçn log production cho quick actions. [frontend/src/config/quickActionRegistry.ts](frontend/src/config/quickActionRegistry.ts#L28-L38)\n- ‚úÖ Th√™m test integration (payroll, import, rule engine, anti-fraud). [backend/src/test/integrationTestUtils.ts](backend/src/test/integrationTestUtils.ts), [backend/src/modules/so-luong/__tests__/so-luong.history.spec.ts](backend/src/modules/so-luong/__tests__/so-luong.history.spec.ts), [backend/src/modules/import-excel/__tests__/import-excel.mapping.spec.ts](backend/src/modules/import-excel/__tests__/import-excel.mapping.spec.ts), [backend/src/modules/rule-engine/__tests__/quy-che-rule.preview.spec.ts](backend/src/modules/rule-engine/__tests__/quy-che-rule.preview.spec.ts), [backend/src/modules/anti-fraud/__tests__/anti-fraud.gps.spec.ts](backend/src/modules/anti-fraud/__tests__/anti-fraud.gps.spec.ts)","tokenCount":275,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROJECT_REVIEW_2026-01-21-14","docId":"PROJECT_REVIEW_2026-01-21","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROJECT_REVIEW_2026-01-21.md","title":"ƒê·ªìng b·ªô ngu·ªìn b·∫£ng l∆∞∆°ng","sectionPath":"PROJECT_REVIEW_2026-01-21 > 12. C·∫≠p nh·∫≠t sau x·ª≠ l√Ω","contentMd":"### ƒê·ªìng b·ªô ngu·ªìn b·∫£ng l∆∞∆°ng\n- ‚úÖ ƒê·ªìng b·ªô ng√†y c√¥ng v·ªÅ m·ªôt ngu·ªìn: `BangLuongChiTiet` tr·∫£ `ngayCong`, UI d√πng tr·ª±c ti·∫øp. [backend/src/modules/bang-luong/tinh-luong.service.ts](backend/src/modules/bang-luong/tinh-luong.service.ts#L20-L210), [frontend/src/pages/ChiTietBangLuong.tsx](frontend/src/pages/ChiTietBangLuong.tsx#L40-L590), [frontend/src/services/api.ts](frontend/src/services/api.ts#L300-L340)","tokenCount":101,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-0","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"PROMPT FINAL (Claude) ‚Äî Build Knowledge Base RAG: Convert HTML ‚Üí MD + Chunking + Tags + Glossary/FAQ + Vector Index","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > PROMPT FINAL (Claude) ‚Äî Build Knowledge Base RAG: Convert HTML ‚Üí MD + Chunking + Tags + Glossary/FAQ + Vector Index","contentMd":"# PROMPT FINAL (Claude) ‚Äî Build Knowledge Base RAG: Convert HTML ‚Üí MD + Chunking + Tags + Glossary/FAQ + Vector Index\n> M·ª•c ti√™u: T·∫°o ‚ÄúKnowledge Base‚Äù chu·∫©n RAG cho Chatbot h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng h·ªá th·ªëng Payroll/HRM-lite hi·ªán t·∫°i.\n> T√†i li·ªáu ngu·ªìn: c√°c file h∆∞·ªõng d·∫´n d·∫°ng HTML ƒë√£ c·∫≠p nh·∫≠t li√™n t·ª•c (v3/v4/v5...), PRD module, prompts.\n> Y√™u c·∫ßu: h·ªá th·ªëng ƒë√£ ch·ªânh s·ª≠a r·∫•t nhi·ªÅu ‚Üí output ph·∫£i ph·∫£n √°nh ‚Äúlatest state‚Äù v√† ch·ªëng sai l·ªách.\n> App 100% ti·∫øng Vi·ªát.\n\n---","tokenCount":115,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-1","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"0) Vai tr√≤","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 0) Vai tr√≤","contentMd":"## 0) Vai tr√≤\nB·∫°n l√† **Knowledge Engineer + RAG Pipeline Engineer**.\n\nNhi·ªám v·ª•:\n1) T·ª± ƒë·ªông convert to√†n b·ªô t√†i li·ªáu HTML hi·ªán c√≥ sang Markdown s·∫°ch.\n2) Chu·∫©n h√≥a c·∫•u tr√∫c t√†i li·ªáu theo workflow & modules.\n3) Chia nh·ªè n·ªôi dung th√†nh chunks t·ªëi ∆∞u RAG (kh√¥ng qu√° d√†i, ƒë·ªß ng·ªØ c·∫£nh).\n4) T·ª± ƒë·ªông g·∫Øn tags/metadata cho m·ªói chunk.\n5) T·ª± sinh:\n   - Glossary (t·ª´ ƒëi·ªÉn thu·∫≠t ng·ªØ)\n   - FAQ (h·ªèi ƒë√°p theo workflow + l·ªói th∆∞·ªùng g·∫∑p)\n6) T·ª± t·∫°o index (JSONL/JSON) ƒë·ªÉ ingest v√†o vector DB.\n7) Vi·∫øt ƒë·∫ßy ƒë·ªß script/CLI ƒë·ªÉ ch·∫°y l·∫°i pipeline b·∫•t c·ª© l√∫c n√†o.\n8) **KH√îNG ƒë∆∞·ª£c l√†m m·∫•t n·ªôi dung m·ªõi nh·∫•t**. N·∫øu ph√°t hi·ªán m√¢u thu·∫´n gi·ªØa phi√™n b·∫£n t√†i li·ªáu ‚Üí ƒë√°nh d·∫•u ‚Äúxung ƒë·ªôt‚Äù v√† ∆∞u ti√™n b·∫£n m·ªõi h∆°n.\n\n---","tokenCount":170,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-2","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"1.1 Ngu·ªìn t√†i li·ªáu","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 1) Input / Source of Truth (B·∫ÆT BU·ªòC)","contentMd":"### 1.1 Ngu·ªìn t√†i li·ªáu\nPipeline ph·∫£i scan nh·ªØng folder sau (c·∫•u h√¨nh trong `.env` ho·∫∑c `config.json`):\n- `docs_raw/html/` (file h∆∞·ªõng d·∫´n HTML)\n- `docs_raw/prd/` (PRD markdown)\n- `docs_raw/prompts/` (prompt .md ƒë√£ d√πng cho Claude dev)\n- `docs_raw/release_notes/` (n·∫øu c√≥)\n- `docs_raw/images/` (n·∫øu c√≥ ·∫£nh minh h·ªça)","tokenCount":79,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-3","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"1.2 ∆Øu ti√™n phi√™n b·∫£n m·ªõi nh·∫•t","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 1) Input / Source of Truth (B·∫ÆT BU·ªòC)","contentMd":"### 1.2 ∆Øu ti√™n phi√™n b·∫£n m·ªõi nh·∫•t\n- N·∫øu c√≥ nhi·ªÅu HTML version v3/v4/v5:\n  - auto detect version trong filename ho·∫∑c trong heading\n  - ∆∞u ti√™n b·∫£n c√≥ version cao nh·∫•t\n  - v·∫´n gi·ªØ l·∫°i b·∫£n c≈© ƒë·ªÉ so s√°nh diff\n- N·∫øu ph√°t hi·ªán m√¢u thu·∫´n:\n  - ghi `conflict_report.md`\n  - chunk li√™n quan g·∫Øn tag `conflict:true`\n\n---","tokenCount":78,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-4","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"2) Output structure (chu·∫©n Knowledge Base)","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 2) Output structure (chu·∫©n Knowledge Base)","contentMd":"## 2) Output structure (chu·∫©n Knowledge Base)\nT·∫°o c·∫•u tr√∫c output:\n\n```\nknowledge_base/\n  00_index/\n    kb_index.json\n    kb_index.jsonl\n    sitemap.md\n    tags.json\n  01_docs_md/\n    workflow/\n    modules/\n    setup/\n    glossary/\n    faq/\n  02_chunks/\n    chunks.jsonl\n    chunks_preview.md\n  03_reports/\n    conversion_report.md\n    conflict_report.md\n    coverage_report.md\n```\n\n---","tokenCount":97,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-5","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"3.1 Chu·∫©n format","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 3) Quy chu·∫©n Markdown (si√™u quan tr·ªçng)","contentMd":"### 3.1 Chu·∫©n format\n- 1 file = 1 ch·ªß ƒë·ªÅ r√µ r√†ng\n- Heading theo c·∫•p:\n  - `#` title\n  - `##` section\n  - `###` subsection\n- Tables gi·ªØ d·∫°ng markdown table\n- Code blocks gi·ªØ nguy√™n\n- Kh√¥ng nh·ªìi qu√° d√†i\n- T·ªëi ∆∞u ƒë·ªçc tr√™n web","tokenCount":56,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-6","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"5.1 B·∫£n ƒë·ªì module hi·ªán t·∫°i (B·∫ÆT BU·ªòC b√°m ƒë√∫ng)","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 5) Chu·∫©n h√≥a n·ªôi dung theo h·ªá th·ªëng (latest architecture)","contentMd":"### 5.1 B·∫£n ƒë·ªì module hi·ªán t·∫°i (B·∫ÆT BU·ªòC b√°m ƒë√∫ng)\nPipeline ph·∫£i t·∫°o 1 file canonical:\n- `knowledge_base/01_docs_md/setup/system_map.md`\n\nG·ªìm:\n- Module payroll core:\n  - Rule engine + UI k√©o th·∫£ + validate JSON\n  - AI assistant g·ª£i √Ω rule\n  - Snapshot/ch·ªët/kho√°\n  - Adjustment voucher\n- Import chia h√†ng + giao h√†ng\n- Ch·∫•m c√¥ng + KPI + BHXH/Thu·∫ø\n- Audit log + RBAC","tokenCount":92,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-7","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"6.3 Chunk schema (JSONL)","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 6) Chunking strategy (RAG-ready)","contentMd":"### 6.3 Chunk schema (JSONL)\nM·ªói chunk ph·∫£i c√≥ schema:\n```json\n{\n  \"id\": \"kb_<hash>\",\n  \"doc_id\": \"doc_<hash>\",\n  \"source_file\": \"docs_raw/html/huong-dan-payroll-option-b-v4.html\",\n  \"source_version\": \"v4\",\n  \"title\": \"Snapshot k·ª≥ l∆∞∆°ng\",\n  \"section_path\": \"Workflow > K·ª≥ l∆∞∆°ng > Snapshot\",\n  \"content_md\": \"...\",\n  \"tags\": [\"payroll\", \"snapshot\", \"workflow\", \"ky_luong\"],\n  \"module\": \"PAYROLL\",\n  \"persona\": [\"HR\", \"KE_TOAN\"],\n  \"routes\": [\"/bang-luong\", \"/snapshot\"],\n  \"actions\": [\"T·∫°o snapshot\", \"Ch·ªët k·ª≥ l∆∞∆°ng\"],\n  \"entities\": {\n    \"models\": [\"SnapshotBangLuong\", \"BangLuong\"],\n    \"statuses\": [\"NHAP\", \"DA_CHOT\", \"DA_KHOA\"]\n  },\n  \"updated_at\": \"2026-01-23\",\n  \"conflict\": false\n}\n```\n\n---","tokenCount":174,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-8","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"7.1 Tags taxonomy","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 7) Auto Tagging (metadata enrichment)","contentMd":"### 7.1 Tags taxonomy\nT·∫°o taxonomy chu·∫©n:\n- module tags: payroll, attendance, scheduling, request, kpi, tax_bhxh, import, rbac, audit\n- workflow tags: setup, month_end, snapshot, lock, approve, adjustment, export_bank\n- persona tags: admin, hr, ke_toan, manager, nhan_vien\n- severity tags: warning, error, critical","tokenCount":79,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-9","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"8) Auto generate Glossary (T·ª´ ƒëi·ªÉn thu·∫≠t ng·ªØ)","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 8) Auto generate Glossary (T·ª´ ƒëi·ªÉn thu·∫≠t ng·ªØ)","contentMd":"## 8) Auto generate Glossary (T·ª´ ƒëi·ªÉn thu·∫≠t ng·ªØ)\nT·∫°o file:\n- `knowledge_base/01_docs_md/glossary/glossary.md`\n- `knowledge_base/01_docs_md/glossary/glossary.json`\n\nGlossary entries schema:\n```json\n{\n  \"term\": \"Snapshot\",\n  \"definition\": \"...\",\n  \"why_it_matters\": \"...\",\n  \"related_terms\": [\"Ch·ªët k·ª≥\", \"Kho√° k·ª≥\", \"Rule Trace\"],\n  \"example\": \"V√≠ d·ª•: Snapshot k·ª≥ l∆∞∆°ng th√°ng 12/2025...\"\n}\n```\n\nMust include t·ªëi thi·ªÉu:\n- Snapshot\n- Ch·ªët / Kho√°\n- Rule engine / Rule trace\n- Adjustment voucher\n- Ng√†y c√¥ng / Ch·∫•m c√¥ng / KPI mapping\n- ·ª®ng l∆∞∆°ng / ƒëi·ªÅu ki·ªán ·ª©ng l∆∞∆°ng\n- Ph·ª• c·∫•p theo nh√¢n vi√™n\n- Tr√°ch nhi·ªám + th∆∞·ªüng ph·∫°t\n\n---","tokenCount":155,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-10","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"9) Auto generate FAQ (H·ªèi ƒë√°p v·∫≠n h√†nh)","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 9) Auto generate FAQ (H·ªèi ƒë√°p v·∫≠n h√†nh)","contentMd":"## 9) Auto generate FAQ (H·ªèi ƒë√°p v·∫≠n h√†nh)\nT·∫°o file:\n- `knowledge_base/01_docs_md/faq/faq.md`\n- `knowledge_base/01_docs_md/faq/faq.json`\n\nFAQ chia nh√≥m:\n1) Setup ban ƒë·∫ßu\n2) Nh·∫≠p d·ªØ li·ªáu (import)\n3) T√≠nh l∆∞∆°ng (rule)\n4) Snapshot/Ch·ªët/Kho√°\n5) Adjustment\n6) Payslip\n7) L·ªói th∆∞·ªùng g·∫∑p\n\nM·ªói Q/A ph·∫£i:\n- ng·∫Øn g·ªçn\n- c√≥ b∆∞·ªõc gi·∫£i quy·∫øt\n- c√≥ link tr·ªè doc chunk/source\n\n---","tokenCount":91,"tags":[],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-11","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"10.2 Embedding-ready","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 10) Sinh Index ingest v√†o Vector DB","contentMd":"### 10.2 Embedding-ready\nN·∫øu c√≥ env OPENAI_API_KEY ho·∫∑c provider kh√°c:\n- t·∫°o script generate embeddings\n- l∆∞u v√†o:\n  - pgvector table `kb_embeddings`\n  - ho·∫∑c file `embeddings.jsonl`\n\nNh∆∞ng n·∫øu kh√¥ng c√≥ key th√¨ v·∫´n build ƒë∆∞·ª£c full KB.\n\n---","tokenCount":60,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-12","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"12) CLI Usage (B·∫ÆT BU·ªòC c√≥)","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 12) CLI Usage (B·∫ÆT BU·ªòC c√≥)","contentMd":"## 12) CLI Usage (B·∫ÆT BU·ªòC c√≥)\nT·∫°o CLI:\n- `npm run kb:build`\n- `npm run kb:watch` (optional)\n- `npm run kb:preview` (render markdown list)\n\nExample:\n```bash\nnpm run kb:build -- --source ./docs_raw --out ./knowledge_base\n```\n\n---","tokenCount":57,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ-13","docId":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ.md","title":"13) Constraints","sectionPath":"PROMPT-RAG-KB-PIPELINE-HTML2MD-CHUNKS-TAGS-GLOSSARY-FAQ > 13) Constraints","contentMd":"## 13) Constraints\n- Kh√¥ng l√†m m·∫•t d·ªØ li·ªáu m·ªõi nh·∫•t\n- Kh√¥ng t·ª± √Ω ‚Äúb·ªãa‚Äù glossary/FAQ ‚Üí ph·∫£i tr√≠ch t·ª´ content th·ª±c t·∫ø\n- N·∫øu thi·∫øu info ‚Üí ƒë√°nh d·∫•u `[NEED_DOC]` thay v√¨ t·ª± suy ƒëo√°n\n- Kh√¥ng ch·∫°m backend business logic app\n\n---","tokenCount":56,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"fix-plan-0","docId":"fix-plan","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/fix-plan.md","title":"üìã T·ªîNG QUAN","sectionPath":"fix-plan > üìã T·ªîNG QUAN","contentMd":"## üìã T·ªîNG QUAN\n\nK·∫ø ho·∫°ch n√†y kh·∫Øc ph·ª•c 32 l·ªói ƒë∆∞·ª£c ph√°t hi·ªán trong audit, chia th√†nh 4 giai ƒëo·∫°n:\n\n| Giai ƒëo·∫°n | M·ª•c ti√™u | S·ªë l·ªói | ∆Øu ti√™n | Tr·∫°ng th√°i |\n|-----------|----------|--------|---------|------------|\n| A | ƒê√≥ng l·ªó h·ªïng Critical | 5 | P0 | ‚úÖ Ho√†n th√†nh |\n| B | Harden Security | 8 | P1 | ‚úÖ Ho√†n th√†nh |\n| C | ·ªîn ƒë·ªãnh & Hi·ªáu nƒÉng | 12 | P2 | üîÑ M·ªôt ph·∫ßn |\n| D | D·ªçn d·∫πp & Quality | 7 | P3 | ‚¨ú Ch∆∞a b·∫Øt ƒë·∫ßu |\n\n---","tokenCount":106,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"fix-plan-1","docId":"fix-plan","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/fix-plan.md","title":"1. CRIT-001: Auth + RBAC ‚úÖ","sectionPath":"fix-plan > GIAI ƒêO·∫†N A: ƒê√ìNG L·ªñ H·ªîNG (P0 / Critical) ‚úÖ","contentMd":"### 1. CRIT-001: Auth + RBAC ‚úÖ\n- [x] T·∫°o `JwtAuthGuard` ‚Üí `backend/src/common/guards/jwt-auth.guard.ts`\n- [x] T·∫°o `RolesGuard` ‚Üí `backend/src/common/guards/roles.guard.ts`\n- [x] T·∫°o `PermissionsGuard` ‚Üí `backend/src/common/guards/permissions.guard.ts`\n- [x] T·∫°o decorators: `@CongKhai()`, `@VaiTro()`, `@Quyen()`\n- [x] Apply global guard ‚Üí `app.module.ts` providers\n- [x] ƒê√°nh d·∫•u public routes","tokenCount":99,"tags":[],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"fix-plan-2","docId":"fix-plan","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/fix-plan.md","title":"3. CRIT-002: Safe Expression Evaluator ‚úÖ","sectionPath":"fix-plan > GIAI ƒêO·∫†N A: ƒê√ìNG L·ªñ H·ªîNG (P0 / Critical) ‚úÖ","contentMd":"### 3. CRIT-002: Safe Expression Evaluator ‚úÖ\n- [x] C√†i expr-eval ‚Üí `package.json`\n- [x] T·∫°o safe-eval utility ‚Üí `backend/src/common/utils/safe-eval.ts`\n- [x] X√≥a new Function() ‚Üí thay b·∫±ng expr-eval parser\n- [x] Whitelist bi·∫øn cho ph√©p + dangerous patterns check","tokenCount":66,"tags":[],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"fix-plan-3","docId":"fix-plan","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/fix-plan.md","title":"4. CRIT-004: Rule Engine Transaction ‚úÖ","sectionPath":"fix-plan > GIAI ƒêO·∫†N A: ƒê√ìNG L·ªñ H·ªîNG (P0 / Critical) ‚úÖ","contentMd":"### 4. CRIT-004: Rule Engine Transaction ‚úÖ\n- [x] Wrap trong $transaction ‚Üí `rule-engine-executor.service.ts`\n- [x] Fix TypeScript error\n- [x] Th√™m locking mechanism (`FOR UPDATE NOWAIT`)\n- [x] ƒê·∫£m b·∫£o idempotent","tokenCount":54,"tags":[],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"fix-plan-4","docId":"fix-plan","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/fix-plan.md","title":"5. CRIT-005: Validate Excel Upload ‚úÖ","sectionPath":"fix-plan > GIAI ƒêO·∫†N A: ƒê√ìNG L·ªñ H·ªîNG (P0 / Critical) ‚úÖ","contentMd":"### 5. CRIT-005: Validate Excel Upload ‚úÖ\n- [x] Validate mimetype ‚Üí `ExcelFileValidationPipe`\n- [x] Validate file size (‚â§10MB)\n- [x] Check magic bytes (XLSX/XLS signatures)\n- [x] Gi·ªõi h·∫°n row count\n\n---","tokenCount":51,"tags":[],"module":"RULE_ENGINE","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"fix-plan-5","docId":"fix-plan","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/fix-plan.md","title":"GIAI ƒêO·∫†N C: ·ªîN ƒê·ªäNH & HI·ªÜU NƒÇNG (P2 / Medium) üîÑ","sectionPath":"fix-plan > GIAI ƒêO·∫†N C: ·ªîN ƒê·ªäNH & HI·ªÜU NƒÇNG (P2 / Medium) üîÑ","contentMd":"## GIAI ƒêO·∫†N C: ·ªîN ƒê·ªäNH & HI·ªÜU NƒÇNG (P2 / Medium) üîÑ\n\n- [x] Fix $transaction TypeScript error\n- [x] Config ng√†y c√¥ng chu·∫©n ‚Üí `NGAY_CONG_CHUAN_MAC_DINH` constant\n- [ ] Fix N+1 queries\n- [ ] Th√™m database indexes\n- [ ] Validate overlap quy ch·∫ø/ph·ª• c·∫•p\n- [ ] Import Excel an to√†n h∆°n\n- [ ] Soft delete\n\n---","tokenCount":76,"tags":[],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"fix-plan-6","docId":"fix-plan","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/fix-plan.md","title":"TI·∫æN ƒê·ªò TH·ª∞C HI·ªÜN","sectionPath":"fix-plan > TI·∫æN ƒê·ªò TH·ª∞C HI·ªÜN","contentMd":"## TI·∫æN ƒê·ªò TH·ª∞C HI·ªÜN\n\n| B∆∞·ªõc | M√¥ t·∫£ | Tr·∫°ng th√°i | Ghi ch√∫ |\n|------|-------|------------|---------|\n| 0 | Baseline + Docs | ‚úÖ Ho√†n th√†nh | |\n| 1 | Auth + RBAC | ‚úÖ Ho√†n th√†nh | JwtAuthGuard, RolesGuard, PermissionsGuard |\n| 2 | Bcrypt | ‚úÖ Ho√†n th√†nh | + h·ªó tr·ª£ migrate SHA-256 |\n| 3 | Safe Eval | ‚úÖ Ho√†n th√†nh | expr-eval v·ªõi whitelist |\n| 4 | Transaction | ‚úÖ Ho√†n th√†nh | + FOR UPDATE NOWAIT locking |\n| 5 | Validate Excel | ‚úÖ Ho√†n th√†nh | ExcelFileValidationPipe |\n| 6 | Token Hash | ‚úÖ Ho√†n th√†nh | SHA-256 hash |\n| 7 | Rate Limiting | ‚úÖ Ho√†n th√†nh | 3 tiers throttling |\n| 8 | Audit Log | ‚úÖ Ho√†n th√†nh | Rule Engine + Ch·ªët/Kh√≥a |\n| 9 | Frontend Auth | ‚úÖ Ho√†n th√†nh | PrivateRoute component |\n| 10 | Database Sync | ‚úÖ Ho√†n th√†nh | prisma db push |\n| 11 | Build + Test | ‚úÖ Ho√†n th√†nh | Server running @ :3001 |","tokenCount":203,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"migration-guide-0","docId":"migration-guide","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/migration-guide.md","title":"2.2 M√¥ h√¨nh m·ªõi","sectionPath":"migration-guide > 2. Tr∆∞·ªõc Migration","contentMd":"### 2.2 M√¥ h√¨nh m·ªõi\n```\nNhanVien                    NhanVienHopDong\n‚îú‚îÄ‚îÄ id ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îú‚îÄ‚îÄ id\n‚îú‚îÄ‚îÄ maNhanVien          ‚îÇ   ‚îú‚îÄ‚îÄ nhanVienId ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n‚îú‚îÄ‚îÄ hoTen               ‚îÇ   ‚îú‚îÄ‚îÄ loaiHopDong\n‚îú‚îÄ‚îÄ phongBanId          ‚îÇ   ‚îú‚îÄ‚îÄ tuNgay\n‚îî‚îÄ‚îÄ ...                 ‚îÇ   ‚îú‚îÄ‚îÄ denNgay\n                        ‚îÇ   ‚îú‚îÄ‚îÄ luongCoBan ‚óÑ‚îÄ‚îÄ L∆∞∆°ng theo h·ª£p ƒë·ªìng\n                        ‚îÇ   ‚îî‚îÄ‚îÄ trangThai\n```\n\n---","tokenCount":99,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"migration-guide-1","docId":"migration-guide","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/migration-guide.md","title":"3.2 C√°ch ch·∫°y","sectionPath":"migration-guide > 3. Script Migration","contentMd":"### 3.2 C√°ch ch·∫°y\n\n```bash\n# Ch·∫°y dry-run (kh√¥ng thay ƒë·ªïi d·ªØ li·ªáu)\nnpx ts-node scripts/migrate-hop-dong.ts --dry-run\n\n# Ch·∫°y th·∫≠t (apply changes)\nnpx ts-node scripts/migrate-hop-dong.ts --apply\n\n# Export report\nnpx ts-node scripts/migrate-hop-dong.ts --apply --report\n```","tokenCount":69,"tags":[],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"migration-guide-2","docId":"migration-guide","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/migration-guide.md","title":"3.3 N·ªôi dung script","sectionPath":"migration-guide > 3. Script Migration","contentMd":"### 3.3 N·ªôi dung script\n\n```typescript\n// scripts/migrate-hop-dong.ts\nimport { PrismaClient } from '@prisma/client';\n\nconst prisma = new PrismaClient();\n\ninterface MigrationResult {\n  success: number;\n  skipped: number;\n  errors: Array<{ maNhanVien: string; error: string }>;\n}\n\nasync function migrate(dryRun: boolean = true): Promise<MigrationResult> {\n  const result: MigrationResult = {\n    success: 0,\n    skipped: 0,\n    errors: [],\n  };\n\n  console.log(`\\nüîÑ B·∫Øt ƒë·∫ßu migration... (${dryRun ? 'DRY-RUN' : 'APPLY'})\\n`);\n\n  // L·∫•y t·∫•t c·∫£ nh√¢n vi√™n c√≥ luongCoBan\n  const nhanViens = await prisma.nhanVien.findMany({\n    where: {\n      luongCoBan: { not: null },\n    },\n    include: {\n      hopDongs: true,\n    },\n  });\n\n  console.log(`üìã T√¨m th·∫•y ${nhanViens.length} nh√¢n vi√™n c·∫ßn migrate\\n`);\n\n  for (const nv of nhanViens) {\n    // Ki·ªÉm tra ƒë√£ c√≥ h·ª£p ƒë·ªìng ch∆∞a\n    if (nv.hopDongs && nv.hopDongs.length > 0) {\n      console.log(`‚è≠Ô∏è  Skip ${nv.maNhanVien} - ƒê√£ c√≥ ${nv.hopDongs.length} h·ª£p ƒë·ªìng`);\n      result.skipped++;\n      continue;\n    }\n\n    // X√°c ƒë·ªãnh ng√†y b·∫Øt ƒë·∫ßu\n    const tuNgay = nv.ngayVaoLam || new Date('2000-01-01');\n    const luongCoBan = nv.luongCoBan || 0;\n\n    if (!dryRun) {\n      try {\n        await prisma.nhanVienHopDong.create({\n          data: {\n            nhanVienId: nv.id,\n            loaiHopDong: 'VO_THOI_HAN',\n            tuNgay,\n            denNgay: null,\n            luongCoBan,\n            trangThai: 'HIEU_LUC',\n            ghiChu: `Migration t·ª± ƒë·ªông t·ª´ luongCoBan c≈© (${new Date().toISOString()})`,\n          },\n        });\n        console.log(`‚úÖ Migrate ${nv.maNhanVien}: ${luongCoBan.toLocaleString()} VND`);\n        result.success++;\n      } catch (error: any) {\n        console.log(`‚ùå L·ªói ${nv.maNhanVien}: ${error.message}`);\n        result.errors.push({ maNhanVien: nv.maNhanVien, error: error.message });\n      }\n    } else {\n      console.log(`üîç [DRY-RUN] ${nv.maNhanVien}: ${luongCoBan.toLocaleString()} VND ‚Üí t·ª´ ${tuNgay.toISOString().split('T')[0]}`);\n      result.success++;\n    }\n  }\n\n  return result;\n}\n\n// Main execution\nasync function main() {\n  const args = process.argv.slice(2);\n  const dryRun = !args.includes('--apply');\n  const exportReport = args.includes('--report');\n\n  const result = await migrate(dryRun);\n\n  console.log('\\nüìä K·∫æT QU·∫¢ MIGRATION:');\n  console.log('‚îÄ'.repeat(40));\n  console.log(`‚úÖ Th√†nh c√¥ng: ${result.success}`);\n  console.log(`‚è≠Ô∏è  B·ªè qua:    ${result.skipped}`);\n  console.log(`‚ùå L·ªói:       ${result.errors.length}`);\n\n  if (result.errors.length > 0) {\n    console.log('\\n‚ö†Ô∏è  CHI TI·∫æT L·ªñI:');\n    result.errors.forEach((e) => {\n      console.log(`   - ${e.maNhanVien}: ${e.error}`);\n    });\n  }\n\n  if (exportReport) {\n    const fs = require('fs');\n    const report = {\n      timestamp: new Date().toISOString(),\n      mode: dryRun ? 'DRY-RUN' : 'APPLY',\n      ...result,\n    };\n    fs.writeFileSync('migration-report.json', JSON.stringify(report, null, 2));\n    console.log('\\nüìÑ Report exported: migration-report.json');\n  }\n\n  await prisma.$disconnect();\n}\n\nmain().catch(console.error);\n```\n\n---","tokenCount":772,"tags":[],"module":"IMPORT","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"migration-guide-3","docId":"migration-guide","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/migration-guide.md","title":"B∆∞·ªõc 5: Verify","sectionPath":"migration-guide > 4. C√°c b∆∞·ªõc Migration","contentMd":"### B∆∞·ªõc 5: Verify\n\n```bash\n# Ki·ªÉm tra s·ªë h·ª£p ƒë·ªìng ƒë√£ t·∫°o\nnpx prisma studio\n\n# Ho·∫∑c query tr·ª±c ti·∫øp\ndocker exec -it tinh-luong-db psql -U postgres tinh_luong -c \\\n  \"SELECT COUNT(*) FROM nhan_vien_hop_dong\"\n```","tokenCount":53,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"migration-guide-4","docId":"migration-guide","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/migration-guide.md","title":"B∆∞·ªõc 6: Update Code","sectionPath":"migration-guide > 4. C√°c b∆∞·ªõc Migration","contentMd":"### B∆∞·ªõc 6: Update Code\n\nƒê·∫£m b·∫£o t·∫•t c·∫£ code ƒë·ªçc `luongCoBan` t·ª´ `NhanVienHopDong`:\n\n```typescript\n// ‚ùå C≈© - KH√îNG D√ôNG\nconst luong = nhanVien.luongCoBan;\n\n// ‚úÖ M·ªõi - S·ª¨ D·ª§NG\nconst luong = await hopDongService.layLuongHieuLuc(nhanVienId, ngay);\n```\n\n---","tokenCount":64,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"migration-guide-5","docId":"migration-guide","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/migration-guide.md","title":"6. Post-Migration Checklist","sectionPath":"migration-guide > 6. Post-Migration Checklist","contentMd":"## 6. Post-Migration Checklist\n\n- [ ] T·∫•t c·∫£ nh√¢n vi√™n ƒëang l√†m vi·ªác c√≥ √≠t nh·∫•t 1 h·ª£p ƒë·ªìng HIEU_LUC\n- [ ] L∆∞∆°ng c∆° b·∫£n trong h·ª£p ƒë·ªìng kh·ªõp v·ªõi l∆∞∆°ng c≈©\n- [ ] BangLuongService ƒë·ªçc l∆∞∆°ng t·ª´ HopDong\n- [ ] Snapshot k·ª≥ l∆∞∆°ng ho·∫°t ƒë·ªông ƒë√∫ng\n- [ ] UI hi·ªÉn th·ªã tab H·ª£p ƒë·ªìng/L∆∞∆°ng\n- [ ] Kh√¥ng c√≤n code ƒë·ªçc `nhanVien.luongCoBan` tr·ª±c ti·∫øp\n\n---","tokenCount":84,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"migration-guide-6","docId":"migration-guide","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/migration-guide.md","title":"7. Idempotency","sectionPath":"migration-guide > 7. Idempotency","contentMd":"## 7. Idempotency\n\nScript migration ƒë∆∞·ª£c thi·∫øt k·∫ø **idempotent**:\n- Ch·∫°y nhi·ªÅu l·∫ßn cho k·∫øt qu·∫£ nh∆∞ nhau\n- Kh√¥ng t·∫°o duplicate h·ª£p ƒë·ªìng\n- Skip nh√¢n vi√™n ƒë√£ c√≥ h·ª£p ƒë·ªìng\n\n```bash\n# Ch·∫°y l·∫ßn 1\nnpx ts-node scripts/migrate-hop-dong.ts --apply\n# Output: ‚úÖ Th√†nh c√¥ng: 38\n\n# Ch·∫°y l·∫ßn 2\nnpx ts-node scripts/migrate-hop-dong.ts --apply\n# Output: ‚è≠Ô∏è B·ªè qua: 38, ‚úÖ Th√†nh c√¥ng: 0\n```\n\n---","tokenCount":94,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"migration-guide-7","docId":"migration-guide","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/migration-guide.md","title":"9. K·∫øt qu·∫£ Migration (14/01/2026)","sectionPath":"migration-guide > 9. K·∫øt qu·∫£ Migration (14/01/2026)","contentMd":"## 9. K·∫øt qu·∫£ Migration (14/01/2026)\n\n```\nüìä K·∫æT QU·∫¢ MIGRATION:\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n‚úÖ Th√†nh c√¥ng: 38\n‚è≠Ô∏è  B·ªè qua:    0\n‚ùå L·ªói:       0\n\nüìå T·∫•t c·∫£ 38 nh√¢n vi√™n ƒë√£ ƒë∆∞·ª£c migrate th√†nh c√¥ng\n```","tokenCount":52,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-0","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"1. T·ªïng quan","sectionPath":"nhan-vien-model > 1. T·ªïng quan","contentMd":"## 1. T·ªïng quan\n\nH·ªá th·ªëng qu·∫£n l√Ω nh√¢n vi√™n ƒë∆∞·ª£c thi·∫øt k·∫ø theo m√¥ h√¨nh **master-satellite** ƒë·ªÉ:\n- T√°ch bi·ªát th√¥ng tin tƒ©nh (√≠t thay ƒë·ªïi) v√† th√¥ng tin ƒë·ªông (thay ƒë·ªïi theo th·ªùi gian)\n- H·ªó tr·ª£ snapshot k·ª≥ l∆∞∆°ng ch√≠nh x√°c\n- L∆∞u tr·ªØ l·ªãch s·ª≠ ƒë·∫ßy ƒë·ªß cho audit\n\n---","tokenCount":65,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-1","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"2. S∆° ƒë·ªì Entity Relationship","sectionPath":"nhan-vien-model > 2. S∆° ƒë·ªì Entity Relationship","contentMd":"## 2. S∆° ƒë·ªì Entity Relationship\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ     NhanVien        ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ Master table\n‚îÇ  (Th√¥ng tin c∆° b·∫£n) ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n          ‚îÇ 1\n          ‚îÇ\n    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n    ‚îÇ     ‚îÇ     ‚îÇ          ‚îÇ          ‚îÇ\n    ‚ñº N   ‚ñº N   ‚ñº N        ‚ñº N        ‚ñº N\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇHopDong ‚îÇ ‚îÇNganHang‚îÇ ‚îÇ ThueBH  ‚îÇ ‚îÇPhuCap   ‚îÇ ‚îÇNhanVienNhom  ‚îÇ\n‚îÇ /L∆∞∆°ng ‚îÇ ‚îÇ        ‚îÇ ‚îÇ         ‚îÇ ‚îÇNhanVien ‚îÇ ‚îÇ(thu·ªôc nh√≥m)  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                                                     ‚îÇ N\n                                                     ‚ñº 1\n                                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n                                              ‚îÇ NhomNhanVien ‚îÇ\n                                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n---","tokenCount":216,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-2","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"3.1 NhanVien (B·∫£ng master)","sectionPath":"nhan-vien-model > 3. Chi ti·∫øt c√°c b·∫£ng","contentMd":"### 3.1 NhanVien (B·∫£ng master)\n\nL∆∞u th√¥ng tin c∆° b·∫£n, √≠t thay ƒë·ªïi c·ªßa nh√¢n vi√™n.\n\n| Tr∆∞·ªùng | Ki·ªÉu | M√¥ t·∫£ |\n|--------|------|-------|\n| `id` | Int | Primary key |\n| `maNhanVien` | String | M√£ nh√¢n vi√™n (unique) |\n| `hoTen` | String | H·ªç t√™n ƒë·∫ßy ƒë·ªß |\n| `gioiTinh` | Enum | NAM / NU / KHAC |\n| `ngaySinh` | DateTime? | Ng√†y sinh |\n| `soDienThoai` | String? | S·ªë ƒëi·ªán tho·∫°i |\n| `email` | String? | Email |\n| `diaChi` | String? | ƒê·ªãa ch·ªâ |\n| `chucVu` | String? | Ch·ª©c v·ª• |\n| `phongBanId` | Int | FK ‚Üí PhongBan |\n| `trangThai` | Enum | DANG_LAM / TAM_NGHI / NGHI_VIEC |\n| `ngayVaoLam` | DateTime? | Ng√†y b·∫Øt ƒë·∫ßu l√†m vi·ªác |\n| `ngayNghiViec` | DateTime? | Ng√†y ngh·ªâ vi·ªác |\n| `taoBoi` | Int? | User ID t·∫°o |\n| `capNhatBoi` | Int? | User ID c·∫≠p nh·∫≠t |\n| `taoLuc` | DateTime | Timestamp t·∫°o |\n| `capNhatLuc` | DateTime | Timestamp c·∫≠p nh·∫≠t |\n\n**L∆∞u √Ω**: `luongCoBan` ƒë√£ ƒë∆∞·ª£c chuy·ªÉn sang b·∫£ng `NhanVienHopDong`.\n\n---","tokenCount":227,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-3","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"3.2 NhanVienHopDong (H·ª£p ƒë·ªìng / L∆∞∆°ng)","sectionPath":"nhan-vien-model > 3. Chi ti·∫øt c√°c b·∫£ng","contentMd":"### 3.2 NhanVienHopDong (H·ª£p ƒë·ªìng / L∆∞∆°ng)\n\nL∆∞u l·ªãch s·ª≠ h·ª£p ƒë·ªìng v√† m·ª©c l∆∞∆°ng theo th·ªùi gian.\n\n| Tr∆∞·ªùng | Ki·ªÉu | M√¥ t·∫£ |\n|--------|------|-------|\n| `id` | Int | Primary key |\n| `nhanVienId` | Int | FK ‚Üí NhanVien |\n| `loaiHopDong` | Enum | THU_VIEC / MOT_NAM / BA_NAM / VO_THOI_HAN |\n| `tuNgay` | DateTime | Ng√†y b·∫Øt ƒë·∫ßu hi·ªáu l·ª±c |\n| `denNgay` | DateTime? | Ng√†y k·∫øt th√∫c (null = v√¥ th·ªùi h·∫°n) |\n| `luongCoBan` | BigInt | L∆∞∆°ng c∆° b·∫£n (VND) |\n| `luongDongBH` | BigInt? | L∆∞∆°ng ƒë√≥ng BHXH |\n| `heSoLuong` | Decimal? | H·ªá s·ªë l∆∞∆°ng (n·∫øu c√≥) |\n| `trangThai` | Enum | HIEU_LUC / HET_HAN / HUY_BO |\n| `ghiChu` | String? | Ghi ch√∫ |\n| `taoLuc` | DateTime | Timestamp t·∫°o |\n| `taoBoiId` | Int? | User ID t·∫°o |\n\n**R√†ng bu·ªôc**:\n- Kh√¥ng cho ph√©p overlap h·ª£p ƒë·ªìng c√πng nh√¢n vi√™n\n- Index: `(nhanVienId, tuNgay, denNgay)`\n\n---","tokenCount":203,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-4","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"3.3 NhanVienNganHang (T√†i kho·∫£n ng√¢n h√†ng)","sectionPath":"nhan-vien-model > 3. Chi ti·∫øt c√°c b·∫£ng","contentMd":"### 3.3 NhanVienNganHang (T√†i kho·∫£n ng√¢n h√†ng)\n\nL∆∞u th√¥ng tin t√†i kho·∫£n ng√¢n h√†ng ƒë·ªÉ chuy·ªÉn l∆∞∆°ng.\n\n| Tr∆∞·ªùng | Ki·ªÉu | M√¥ t·∫£ |\n|--------|------|-------|\n| `id` | Int | Primary key |\n| `nhanVienId` | Int | FK ‚Üí NhanVien |\n| `tenNganHang` | String | T√™n ng√¢n h√†ng |\n| `soTaiKhoan` | String | S·ªë t√†i kho·∫£n |\n| `chuTaiKhoan` | String | T√™n ch·ªß t√†i kho·∫£n |\n| `chiNhanh` | String? | Chi nh√°nh |\n| `laMacDinh` | Boolean | ƒê√°nh d·∫•u t√†i kho·∫£n m·∫∑c ƒë·ªãnh |\n| `tuNgay` | DateTime? | Ng√†y b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng |\n| `denNgay` | DateTime? | Ng√†y k·∫øt th√∫c |\n| `taoLuc` | DateTime | Timestamp t·∫°o |\n\n**R√†ng bu·ªôc**:\n- M·ªói nh√¢n vi√™n ch·ªâ c√≥ 1 t√†i kho·∫£n m·∫∑c ƒë·ªãnh t·∫°i 1 th·ªùi ƒëi·ªÉm\n- Index: `(nhanVienId, laMacDinh)`\n\n---","tokenCount":173,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-5","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"3.4 NhanVienThueBH (Th√¥ng tin Thu·∫ø / BHXH)","sectionPath":"nhan-vien-model > 3. Chi ti·∫øt c√°c b·∫£ng","contentMd":"### 3.4 NhanVienThueBH (Th√¥ng tin Thu·∫ø / BHXH)\n\nL∆∞u th√¥ng tin c·∫ßn thi·∫øt ƒë·ªÉ t√≠nh thu·∫ø TNCN v√† BHXH.\n\n| Tr∆∞·ªùng | Ki·ªÉu | M√¥ t·∫£ |\n|--------|------|-------|\n| `id` | Int | Primary key |\n| `nhanVienId` | Int | FK ‚Üí NhanVien (unique) |\n| `mstCaNhan` | String? | M√£ s·ªë thu·∫ø c√° nh√¢n |\n| `soCmndCccd` | String? | S·ªë CMND/CCCD |\n| `ngayCap` | DateTime? | Ng√†y c·∫•p CMND |\n| `noiCap` | String? | N∆°i c·∫•p |\n| `soNguoiPhuThuoc` | Int | S·ªë ng∆∞·ªùi ph·ª• thu·ªôc (default: 0) |\n| `ghiChu` | String? | Ghi ch√∫ |\n\n**C√¥ng th·ª©c gi·∫£m tr·ª´**:\n- B·∫£n th√¢n: 11.000.000 ƒë/th√°ng\n- Ng∆∞·ªùi ph·ª• thu·ªôc: 4.400.000 ƒë/ng∆∞·ªùi/th√°ng\n\n---","tokenCount":149,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-6","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"3.5 NhomNhanVien (Nh√≥m / Tag)","sectionPath":"nhan-vien-model > 3. Chi ti·∫øt c√°c b·∫£ng","contentMd":"### 3.5 NhomNhanVien (Nh√≥m / Tag)\n\nƒê·ªãnh nghƒ©a c√°c nh√≥m ƒë·ªÉ ph√¢n lo·∫°i nh√¢n vi√™n.\n\n| Tr∆∞·ªùng | Ki·ªÉu | M√¥ t·∫£ |\n|--------|------|-------|\n| `id` | Int | Primary key |\n| `maNhom` | String | M√£ nh√≥m (unique) |\n| `tenNhom` | String | T√™n nh√≥m |\n| `moTa` | String? | M√¥ t·∫£ |\n| `taoLuc` | DateTime | Timestamp t·∫°o |\n\n**V√≠ d·ª• nh√≥m**:\n- `KINH_DOANH` - Nh√¢n vi√™n kinh doanh\n- `VAN_PHONG` - Nh√¢n vi√™n vƒÉn ph√≤ng\n- `NHA_MAY` - C√¥ng nh√¢n nh√† m√°y\n\n---","tokenCount":109,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-7","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"3.6 NhanVienThuocNhom (Membership)","sectionPath":"nhan-vien-model > 3. Chi ti·∫øt c√°c b·∫£ng","contentMd":"### 3.6 NhanVienThuocNhom (Membership)\n\nLi√™n k·∫øt nh√¢n vi√™n v·ªõi nh√≥m theo th·ªùi gian.\n\n| Tr∆∞·ªùng | Ki·ªÉu | M√¥ t·∫£ |\n|--------|------|-------|\n| `id` | Int | Primary key |\n| `nhanVienId` | Int | FK ‚Üí NhanVien |\n| `nhomId` | Int | FK ‚Üí NhomNhanVien |\n| `tuNgay` | DateTime? | Ng√†y b·∫Øt ƒë·∫ßu thu·ªôc nh√≥m |\n| `denNgay` | DateTime? | Ng√†y k·∫øt th√∫c |\n| `taoLuc` | DateTime | Timestamp t·∫°o |\n\n**R√†ng bu·ªôc**:\n- Unique constraint: `(nhanVienId, nhomId, tuNgay)`\n- Kh√¥ng overlap membership c√πng nh√≥m\n\n---","tokenCount":122,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-8","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"Nh√¢n vi√™n","sectionPath":"nhan-vien-model > 5. API Endpoints","contentMd":"### Nh√¢n vi√™n\n| Method | Endpoint | M√¥ t·∫£ |\n|--------|----------|-------|\n| GET | `/nhan-vien` | Danh s√°ch nh√¢n vi√™n |\n| GET | `/nhan-vien/:id` | Chi ti·∫øt nh√¢n vi√™n |\n| POST | `/nhan-vien` | T·∫°o nh√¢n vi√™n m·ªõi |\n| PUT | `/nhan-vien/:id` | C·∫≠p nh·∫≠t nh√¢n vi√™n |","tokenCount":65,"tags":[],"module":"EMPLOYEES","persona":["HR","Admin","Employee"],"routes":["/nhan-vien","/nhom-nhan-vien"],"actions":[]}
{"id":"nhan-vien-model-9","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"H·ª£p ƒë·ªìng","sectionPath":"nhan-vien-model > 5. API Endpoints","contentMd":"### H·ª£p ƒë·ªìng\n| Method | Endpoint | M√¥ t·∫£ |\n|--------|----------|-------|\n| GET | `/nhan-vien/:id/hop-dong` | L·ªãch s·ª≠ h·ª£p ƒë·ªìng |\n| POST | `/nhan-vien/:id/hop-dong` | T·∫°o h·ª£p ƒë·ªìng m·ªõi |\n| PUT | `/nhan-vien/hop-dong/:hopDongId` | C·∫≠p nh·∫≠t h·ª£p ƒë·ªìng |\n| POST | `/nhan-vien/hop-dong/:hopDongId/ket-thuc` | K·∫øt th√∫c h·ª£p ƒë·ªìng |","tokenCount":81,"tags":[],"module":"EMPLOYEES","persona":["HR","Admin","Employee"],"routes":["/nhan-vien","/nhom-nhan-vien"],"actions":[]}
{"id":"nhan-vien-model-10","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"Ng√¢n h√†ng","sectionPath":"nhan-vien-model > 5. API Endpoints","contentMd":"### Ng√¢n h√†ng\n| Method | Endpoint | M√¥ t·∫£ |\n|--------|----------|-------|\n| GET | `/nhan-vien/:id/ngan-hang` | Danh s√°ch t√†i kho·∫£n |\n| POST | `/nhan-vien/:id/ngan-hang` | Th√™m t√†i kho·∫£n |\n| PUT | `/nhan-vien/ngan-hang/:id` | C·∫≠p nh·∫≠t t√†i kho·∫£n |\n| POST | `/nhan-vien/ngan-hang/:id/mac-dinh` | ƒê·∫∑t l√†m m·∫∑c ƒë·ªãnh |","tokenCount":79,"tags":[],"module":"EMPLOYEES","persona":["HR","Admin","Employee"],"routes":["/nhan-vien","/nhom-nhan-vien"],"actions":[]}
{"id":"nhan-vien-model-11","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"Nh√≥m nh√¢n vi√™n","sectionPath":"nhan-vien-model > 5. API Endpoints","contentMd":"### Nh√≥m nh√¢n vi√™n\n| Method | Endpoint | M√¥ t·∫£ |\n|--------|----------|-------|\n| GET | `/nhom-nhan-vien` | Danh s√°ch nh√≥m |\n| POST | `/nhom-nhan-vien` | T·∫°o nh√≥m |\n| GET | `/nhan-vien/:id/nhom` | Nh√≥m c·ªßa nh√¢n vi√™n |\n| POST | `/nhan-vien/:id/nhom` | Th√™m v√†o nh√≥m |\n| DELETE | `/nhan-vien/:nhanVienId/nhom/:nhomId` | X√≥a kh·ªèi nh√≥m |\n\n---","tokenCount":85,"tags":[],"module":"EMPLOYEES","persona":["HR","Admin","Employee"],"routes":["/nhan-vien","/nhom-nhan-vien"],"actions":[]}
{"id":"nhan-vien-model-12","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"6.1 L·∫•y l∆∞∆°ng c∆° b·∫£n","sectionPath":"nhan-vien-model > 6. T√≠ch h·ª£p v·ªõi Payroll","contentMd":"### 6.1 L·∫•y l∆∞∆°ng c∆° b·∫£n\n\n```typescript\n// L·∫•y h·ª£p ƒë·ªìng hi·ªáu l·ª±c t·∫°i ng√†y c·ª• th·ªÉ\nconst hopDong = await prisma.nhanVienHopDong.findFirst({\n  where: {\n    nhanVienId: id,\n    trangThai: 'HIEU_LUC',\n    tuNgay: { lte: ngay },\n    OR: [\n      { denNgay: null },\n      { denNgay: { gte: ngay } }\n    ]\n  },\n  orderBy: { tuNgay: 'desc' }\n});\n\nconst luongCoBan = hopDong?.luongCoBan ?? 0;\n```","tokenCount":97,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-13","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"6.2 Snapshot k·ª≥ l∆∞∆°ng","sectionPath":"nhan-vien-model > 6. T√≠ch h·ª£p v·ªõi Payroll","contentMd":"### 6.2 Snapshot k·ª≥ l∆∞∆°ng\n\nKhi t·∫°o snapshot, h·ªá th·ªëng ph·∫£i:\n1. L·∫•y h·ª£p ƒë·ªìng hi·ªáu l·ª±c t·∫°i `ngayChotSnapshot`\n2. L·∫•y ng√¢n h√†ng m·∫∑c ƒë·ªãnh\n3. L·∫•y danh s√°ch nh√≥m hi·ªáu l·ª±c\n4. L·∫•y ph·ª• c·∫•p hi·ªáu l·ª±c\n\nXem th√™m: [snapshot-mapping.md](./snapshot-mapping.md)\n\n---","tokenCount":63,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-14","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"Tabs trong Chi ti·∫øt Nh√¢n vi√™n","sectionPath":"nhan-vien-model > 7. Frontend UI","contentMd":"### Tabs trong Chi ti·∫øt Nh√¢n vi√™n\n\n1. **Th√¥ng tin** - Th√¥ng tin c∆° b·∫£n\n2. **H·ª£p ƒë·ªìng / L∆∞∆°ng** - Timeline h·ª£p ƒë·ªìng\n3. **Ph·ª• c·∫•p** - Danh s√°ch ph·ª• c·∫•p c·ªë ƒë·ªãnh\n4. **Ng√¢n h√†ng** - T√†i kho·∫£n ng√¢n h√†ng\n5. **Thu·∫ø & BHXH** - Th√¥ng tin thu·∫ø TNCN\n6. **Nh√≥m NV** - C√°c nh√≥m ƒëang tham gia\n7. **L·ªãch s·ª≠** - L·ªãch s·ª≠ thay ƒë·ªïi\n\n---","tokenCount":79,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"nhan-vien-model-15","docId":"nhan-vien-model","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/nhan-vien-model.md","title":"8. L∆∞u √Ω quan tr·ªçng","sectionPath":"nhan-vien-model > 8. L∆∞u √Ω quan tr·ªçng","contentMd":"## 8. L∆∞u √Ω quan tr·ªçng\n\n‚ö†Ô∏è **Kh√¥ng ƒë·ªçc `luongCoBan` tr·ª±c ti·∫øp t·ª´ b·∫£ng `NhanVien`**\n- Lu√¥n l·∫•y t·ª´ `NhanVienHopDong` v·ªõi ƒëi·ªÅu ki·ªán hi·ªáu l·ª±c\n\n‚ö†Ô∏è **Validate overlap h·ª£p ƒë·ªìng**\n- Kh√¥ng cho ph√©p 2 h·ª£p ƒë·ªìng c√πng nh√¢n vi√™n ch·ªìng ch√©o th·ªùi gian\n\n‚ö†Ô∏è **Snapshot l√† b·∫•t bi·∫øn**\n- Thay ƒë·ªïi h·ª£p ƒë·ªìng/l∆∞∆°ng sau khi snapshot kh√¥ng ·∫£nh h∆∞·ªüng k·ª≥ l∆∞∆°ng c≈©","tokenCount":84,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"risk-register-0","docId":"risk-register","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/risk-register.md","title":"ƒê√ÅNH GI√Å R·ª¶I RO","sectionPath":"risk-register > ƒê√ÅNH GI√Å R·ª¶I RO","contentMd":"## ƒê√ÅNH GI√Å R·ª¶I RO\n\n| ID | R·ªßi ro | X√°c su·∫•t | T√°c ƒë·ªông | M·ª©c ƒë·ªô | Mitigation |\n|----|--------|----------|----------|--------|------------|\n| R1 | API b·ªã truy c·∫≠p tr√°i ph√©p | Cao | Nghi√™m tr·ªçng | üî¥ Critical | Implement AuthGuard ngay |\n| R2 | Password b·ªã crack | Cao | Nghi√™m tr·ªçng | üî¥ Critical | ƒê·ªïi sang bcrypt |\n| R3 | Code injection qua Rule Engine | Trung b√¨nh | Nghi√™m tr·ªçng | üî¥ Critical | D√πng safe evaluator |\n| R4 | Data inconsistency | Trung b√¨nh | Cao | üü† High | Transaction + locking |\n| R5 | Malicious file upload | Trung b√¨nh | Cao | üü† High | Validate file |\n| R6 | Brute force login | Cao | Trung b√¨nh | üü† High | Rate limiting |\n| R7 | Session hijacking | Trung b√¨nh | Cao | üü† High | Hash token |\n| R8 | XSS steal token | Trung b√¨nh | Trung b√¨nh | üü° Medium | httpOnly cookie |\n| R9 | Performance bottleneck | Th·∫•p | Trung b√¨nh | üü° Medium | Optimize queries |\n\n---","tokenCount":222,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"risk-register-1","docId":"risk-register","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/risk-register.md","title":"ROLLBACK PLAN","sectionPath":"risk-register > ROLLBACK PLAN","contentMd":"## ROLLBACK PLAN\n\nM·ªói b∆∞·ªõc fix ƒë·ªÅu c√≥:\n1. **Git branch ri√™ng:** `fix/crit-xxx`\n2. **Backup point:** Tag tr∆∞·ªõc khi merge\n3. **Feature flag:** C√≥ th·ªÉ disable n·∫øu c·∫ßn\n4. **Test suite:** Must pass tr∆∞·ªõc merge\n\n---","tokenCount":53,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"risk-register-2","docId":"risk-register","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/risk-register.md","title":"REMAINING RISKS SAU KHI FIX","sectionPath":"risk-register > REMAINING RISKS SAU KHI FIX","contentMd":"## REMAINING RISKS SAU KHI FIX\n\n| Risk | M√¥ t·∫£ | Mitigation |\n|------|-------|------------|\n| Insider threat | User c√≥ quy·ªÅn v·∫´n c√≥ th·ªÉ l·∫°m d·ª•ng | Audit log + monitoring |\n| Zero-day in deps | Th∆∞ vi·ªán c√≥ l·ªó h·ªïng ch∆∞a bi·∫øt | Regular updates |\n| Social engineering | Ng∆∞·ªùi d√πng b·ªã l·ª´a | Training |","tokenCount":74,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-0","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"1. T·ªïng quan","sectionPath":"snapshot-mapping > 1. T·ªïng quan","contentMd":"## 1. T·ªïng quan\n\nSnapshot l√† c∆° ch·∫ø \"ch·ª•p l·∫°i\" to√†n b·ªô d·ªØ li·ªáu nh√¢n s·ª± t·∫°i th·ªùi ƒëi·ªÉm ch·ªët k·ª≥ l∆∞∆°ng. M·ª•c ƒë√≠ch:\n- ƒê·∫£m b·∫£o b·∫£ng l∆∞∆°ng kh√¥ng thay ƒë·ªïi khi d·ªØ li·ªáu g·ªëc thay ƒë·ªïi\n- L∆∞u l·ªãch s·ª≠ ƒë·∫ßy ƒë·ªß cho audit\n- T√°i t√≠nh l∆∞∆°ng v·ªõi d·ªØ li·ªáu ch√≠nh x√°c t·∫°i th·ªùi ƒëi·ªÉm ƒë√≥\n\n---","tokenCount":66,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-1","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"2. Quy t·∫Øc ch·ªçn \"B·∫£n ghi hi·ªáu l·ª±c\"","sectionPath":"snapshot-mapping > 2. Quy t·∫Øc ch·ªçn \"B·∫£n ghi hi·ªáu l·ª±c\"","contentMd":"## 2. Quy t·∫Øc ch·ªçn \"B·∫£n ghi hi·ªáu l·ª±c\"\n\nT·∫°i ng√†y `ngayChotSnapshot` (th∆∞·ªùng l√† ng√†y cu·ªëi th√°ng), h·ªá th·ªëng ch·ªçn b·∫£n ghi th·ªèa m√£n:\n\n```typescript\nWHERE tuNgay <= ngayChotSnapshot\n  AND (denNgay IS NULL OR denNgay >= ngayChotSnapshot)\n```\n\n√Åp d·ª•ng cho:\n- H·ª£p ƒë·ªìng / L∆∞∆°ng\n- Ph·ª• c·∫•p nh√¢n vi√™n\n- Membership nh√≥m\n- Ng√¢n h√†ng m·∫∑c ƒë·ªãnh\n\n---","tokenCount":83,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-2","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"3.1 Snapshot Nh√¢n vi√™n","sectionPath":"snapshot-mapping > 3. D·ªØ li·ªáu Snapshot","contentMd":"### 3.1 Snapshot Nh√¢n vi√™n\n\n| Tr∆∞·ªùng | Ngu·ªìn | M√¥ t·∫£ |\n|--------|-------|-------|\n| `nhanVienId` | NhanVien.id | ID nh√¢n vi√™n |\n| `maNhanVien` | NhanVien.maNhanVien | M√£ nh√¢n vi√™n |\n| `hoTen` | NhanVien.hoTen | H·ªç t√™n |\n| `phongBanId` | NhanVien.phongBanId | Ph√≤ng ban |\n| `trangThaiNv` | NhanVien.trangThai | Tr·∫°ng th√°i |\n| `luongCoBan` | **NhanVienHopDong.luongCoBan** | L∆∞∆°ng t·ª´ h·ª£p ƒë·ªìng hi·ªáu l·ª±c |\n| `nganHangMacDinh` | NhanVienNganHang (laMacDinh=true) | JSON ng√¢n h√†ng |\n| `danhSachNhom` | NhanVienThuocNhom | JSON danh s√°ch nh√≥m |","tokenCount":135,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-3","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"3.2 Snapshot Ph·ª• c·∫•p","sectionPath":"snapshot-mapping > 3. D·ªØ li·ªáu Snapshot","contentMd":"### 3.2 Snapshot Ph·ª• c·∫•p\n\n| Tr∆∞·ªùng | Ngu·ªìn | M√¥ t·∫£ |\n|--------|-------|-------|\n| `nhanVienId` | PhuCapNhanVien.nhanVienId | ID nh√¢n vi√™n |\n| `khoanLuongId` | PhuCapNhanVien.khoanLuongId | ID kho·∫£n l∆∞∆°ng |\n| `soTien` | PhuCapNhanVien.soTien | S·ªë ti·ªÅn hi·ªáu l·ª±c |\n| `tuNgay` | PhuCapNhanVien.tuNgay | Ng√†y b·∫Øt ƒë·∫ßu |\n| `denNgay` | PhuCapNhanVien.denNgay | Ng√†y k·∫øt th√∫c |\n\n---","tokenCount":94,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-4","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"4.1 Service Method","sectionPath":"snapshot-mapping > 4. Logic l·∫•y L∆∞∆°ng c∆° b·∫£n","contentMd":"### 4.1 Service Method\n\n```typescript\n// bang-luong.service.ts\n\nasync layLuongCoBanTheoNgay(\n  nhanVienId: number,\n  ngay: Date\n): Promise<number> {\n  const hopDong = await this.prisma.nhanVienHopDong.findFirst({\n    where: {\n      nhanVienId,\n      trangThai: 'HIEU_LUC',\n      tuNgay: { lte: ngay },\n      OR: [\n        { denNgay: null },\n        { denNgay: { gte: ngay } },\n      ],\n    },\n    orderBy: { tuNgay: 'desc' },\n  });\n\n  if (!hopDong) {\n    console.warn(`‚ö†Ô∏è NV ${nhanVienId} kh√¥ng c√≥ h·ª£p ƒë·ªìng hi·ªáu l·ª±c t·∫°i ${ngay}`);\n    return 0;\n  }\n\n  return Number(hopDong.luongCoBan);\n}\n```","tokenCount":149,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-5","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"4.2 Batch Query (hi·ªáu nƒÉng)","sectionPath":"snapshot-mapping > 4. Logic l·∫•y L∆∞∆°ng c∆° b·∫£n","contentMd":"### 4.2 Batch Query (hi·ªáu nƒÉng)\n\n```typescript\nasync layLuongCoBanNhieuNhanVien(\n  nhanVienIds: number[],\n  ngay: Date\n): Promise<Map<number, number>> {\n  const hopDongs = await this.prisma.nhanVienHopDong.findMany({\n    where: {\n      nhanVienId: { in: nhanVienIds },\n      trangThai: 'HIEU_LUC',\n      tuNgay: { lte: ngay },\n      OR: [\n        { denNgay: null },\n        { denNgay: { gte: ngay } },\n      ],\n    },\n    orderBy: { tuNgay: 'desc' },\n  });\n\n  const result = new Map<number, number>();\n  \n  for (const hd of hopDongs) {\n    // Ch·ªâ l·∫•y h·ª£p ƒë·ªìng m·ªõi nh·∫•t cho m·ªói nh√¢n vi√™n\n    if (!result.has(hd.nhanVienId)) {\n      result.set(hd.nhanVienId, Number(hd.luongCoBan));\n    }\n  }\n\n  return result;\n}\n```\n\n---","tokenCount":180,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-6","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"5. Logic l·∫•y Ng√¢n h√†ng m·∫∑c ƒë·ªãnh","sectionPath":"snapshot-mapping > 5. Logic l·∫•y Ng√¢n h√†ng m·∫∑c ƒë·ªãnh","contentMd":"## 5. Logic l·∫•y Ng√¢n h√†ng m·∫∑c ƒë·ªãnh\n\n```typescript\nasync layNganHangMacDinh(nhanVienId: number): Promise<NganHangInfo | null> {\n  const nganHang = await this.prisma.nhanVienNganHang.findFirst({\n    where: {\n      nhanVienId,\n      laMacDinh: true,\n    },\n  });\n\n  if (!nganHang) return null;\n\n  return {\n    tenNganHang: nganHang.tenNganHang,\n    soTaiKhoan: maskSoTaiKhoan(nganHang.soTaiKhoan), // Che b·ªõt s·ªë TK\n    chuTaiKhoan: nganHang.chuTaiKhoan,\n  };\n}\n\nfunction maskSoTaiKhoan(stk: string): string {\n  if (stk.length <= 4) return stk;\n  return '*'.repeat(stk.length - 4) + stk.slice(-4);\n}\n// \"1234567890\" ‚Üí \"******7890\"\n```\n\n---","tokenCount":159,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-7","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"6. Logic l·∫•y Nh√≥m nh√¢n vi√™n","sectionPath":"snapshot-mapping > 6. Logic l·∫•y Nh√≥m nh√¢n vi√™n","contentMd":"## 6. Logic l·∫•y Nh√≥m nh√¢n vi√™n\n\n```typescript\nasync layNhomHieuLuc(\n  nhanVienId: number,\n  ngay: Date\n): Promise<string[]> {\n  const memberships = await this.prisma.nhanVienThuocNhom.findMany({\n    where: {\n      nhanVienId,\n      tuNgay: { lte: ngay },\n      OR: [\n        { denNgay: null },\n        { denNgay: { gte: ngay } },\n      ],\n    },\n    include: {\n      nhom: true,\n    },\n  });\n\n  return memberships.map(m => m.nhom.maNhom);\n}\n```\n\n---","tokenCount":113,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-8","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"7. Quy tr√¨nh t·∫°o Snapshot","sectionPath":"snapshot-mapping > 7. Quy tr√¨nh t·∫°o Snapshot","contentMd":"## 7. Quy tr√¨nh t·∫°o Snapshot\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ                    T·∫†O K·ª≤ L∆Ø∆†NG                         ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ                                                         ‚îÇ\n‚îÇ  1. X√°c ƒë·ªãnh ngayChotSnapshot (cu·ªëi th√°ng ho·∫∑c custom)  ‚îÇ\n‚îÇ                         ‚ñº                               ‚îÇ\n‚îÇ  2. L·∫•y danh s√°ch nh√¢n vi√™n DANG_LAM                    ‚îÇ\n‚îÇ                         ‚ñº                               ‚îÇ\n‚îÇ  3. V·ªõi m·ªói nh√¢n vi√™n:                                  ‚îÇ\n‚îÇ     ‚îú‚îÄ L·∫•y h·ª£p ƒë·ªìng hi·ªáu l·ª±c ‚Üí luongCoBan               ‚îÇ\n‚îÇ     ‚îú‚îÄ L·∫•y ng√¢n h√†ng m·∫∑c ƒë·ªãnh                           ‚îÇ\n‚îÇ     ‚îú‚îÄ L·∫•y danh s√°ch nh√≥m hi·ªáu l·ª±c                      ‚îÇ\n‚îÇ     ‚îú‚îÄ L·∫•y ph·ª• c·∫•p hi·ªáu l·ª±c                             ‚îÇ\n‚îÇ     ‚îî‚îÄ L∆∞u v√†o SnapshotNhanVien                         ‚îÇ\n‚îÇ                         ‚ñº                               ‚îÇ\n‚îÇ  4. Ch·ª•p c√°c quy ch·∫ø/rule hi·ªáu l·ª±c                      ‚îÇ\n‚îÇ                         ‚ñº                               ‚îÇ\n‚îÇ  5. Ho√†n th√†nh snapshot, ƒë√°nh d·∫•u k·ª≥ l∆∞∆°ng NHAP         ‚îÇ\n‚îÇ                                                         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n---","tokenCount":311,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-9","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"Scenario","sectionPath":"snapshot-mapping > 8. V√≠ d·ª• c·ª• th·ªÉ","contentMd":"### Scenario\n\n- **Nh√¢n vi√™n**: Nguy·ªÖn VƒÉn A (NV001)\n- **Ng√†y snapshot**: 31/01/2026\n\n**D·ªØ li·ªáu h·ª£p ƒë·ªìng**:\n| # | Lo·∫°i | T·ª´ ng√†y | ƒê·∫øn ng√†y | L∆∞∆°ng | Tr·∫°ng th√°i |\n|---|------|---------|----------|-------|------------|\n| 1 | Th·ª≠ vi·ªác | 01/06/2024 | 31/08/2024 | 8.000.000 | HET_HAN |\n| 2 | 1 nƒÉm | 01/09/2024 | 31/08/2025 | 10.000.000 | HET_HAN |\n| 3 | V√¥ th·ªùi h·∫°n | 01/09/2025 | null | 12.000.000 | HIEU_LUC |\n\n**K·∫øt qu·∫£ snapshot**:\n```json\n{\n  \"nhanVienId\": 1,\n  \"maNhanVien\": \"NV001\",\n  \"hoTen\": \"Nguy·ªÖn VƒÉn A\",\n  \"luongCoBan\": 12000000,  // T·ª´ h·ª£p ƒë·ªìng #3\n  \"nganHangMacDinh\": {\n    \"tenNganHang\": \"VietcomBank\",\n    \"soTaiKhoan\": \"******7890\",\n    \"chuTaiKhoan\": \"NGUYEN VAN A\"\n  }\n}\n```","tokenCount":173,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-10","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"Thay ƒë·ªïi sau snapshot","sectionPath":"snapshot-mapping > 8. V√≠ d·ª• c·ª• th·ªÉ","contentMd":"### Thay ƒë·ªïi sau snapshot\n\nN·∫øu ng√†y 15/02/2026, HR c·∫≠p nh·∫≠t l∆∞∆°ng NV001 l√™n 15.000.000:\n- K·ª≥ l∆∞∆°ng th√°ng 01/2026 **KH√îNG thay ƒë·ªïi** (v·∫´n l√† 12.000.000)\n- K·ª≥ l∆∞∆°ng th√°ng 02/2026 s·∫Ω t√≠nh v·ªõi 15.000.000\n\n---","tokenCount":51,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-11","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"9. T√≠ch h·ª£p v·ªõi Rule Engine","sectionPath":"snapshot-mapping > 9. T√≠ch h·ª£p v·ªõi Rule Engine","contentMd":"## 9. T√≠ch h·ª£p v·ªõi Rule Engine\n\nRule Engine ƒë·ªçc `LUONG_CO_BAN` t·ª´ snapshot:\n\n```typescript\n// Trong RuleEngineService\n\ngetGiaTri(bienSo: string, context: RuleContext): number {\n  switch (bienSo) {\n    case 'LUONG_CO_BAN':\n      // ƒê·ªçc t·ª´ snapshot, KH√îNG ƒë·ªçc t·ª´ NhanVien tr·ª±c ti·∫øp\n      return context.snapshotNhanVien.luongCoBan;\n    \n    case 'NGAY_CONG':\n      return context.chamCong.ngayCong;\n    \n    // ... c√°c bi·∫øn kh√°c\n  }\n}\n```\n\n---","tokenCount":111,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-12","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"11. L∆∞u √Ω quan tr·ªçng","sectionPath":"snapshot-mapping > 11. L∆∞u √Ω quan tr·ªçng","contentMd":"## 11. L∆∞u √Ω quan tr·ªçng\n\n‚ö†Ô∏è **Kh√¥ng bao gi·ªù ƒë·ªçc `nhanVien.luongCoBan` tr·ª±c ti·∫øp trong t√≠nh l∆∞∆°ng**\n- Lu√¥n ƒë·ªçc t·ª´ snapshot ho·∫∑c qua HopDongService\n\n‚ö†Ô∏è **Snapshot l√† b·∫•t bi·∫øn (immutable)**\n- Sau khi t·∫°o, kh√¥ng ƒë∆∞·ª£c s·ª≠a ƒë·ªïi\n- Mu·ªën thay ƒë·ªïi ph·∫£i t·∫°o k·ª≥ l∆∞∆°ng m·ªõi\n\n‚ö†Ô∏è **Ki·ªÉm tra h·ª£p ƒë·ªìng hi·ªáu l·ª±c**\n- Log warning n·∫øu nh√¢n vi√™n kh√¥ng c√≥ h·ª£p ƒë·ªìng hi·ªáu l·ª±c\n- Kh√¥ng crash h·ªá th·ªëng, tr·∫£ v·ªÅ l∆∞∆°ng = 0\n\n---","tokenCount":99,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"snapshot-mapping-13","docId":"snapshot-mapping","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/snapshot-mapping.md","title":"12. Testing Checklist","sectionPath":"snapshot-mapping > 12. Testing Checklist","contentMd":"## 12. Testing Checklist\n\n- [ ] Thay ƒë·ªïi h·ª£p ƒë·ªìng sau snapshot ‚Üí k·ª≥ c≈© kh√¥ng ƒë·ªïi\n- [ ] Thay ƒë·ªïi ng√¢n h√†ng sau snapshot ‚Üí k·ª≥ c≈© kh√¥ng ƒë·ªïi\n- [ ] Thay ƒë·ªïi ph·ª• c·∫•p sau snapshot ‚Üí k·ª≥ c≈© kh√¥ng ƒë·ªïi\n- [ ] Nh√¢n vi√™n kh√¥ng c√≥ h·ª£p ƒë·ªìng ‚Üí l∆∞∆°ng = 0, c√≥ warning log\n- [ ] H·ª£p ƒë·ªìng overlap ‚Üí reject khi t·∫°o\n- [ ] Query batch hi·ªáu qu·∫£ v·ªõi nhi·ªÅu nh√¢n vi√™n","tokenCount":85,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"test-checklist-0","docId":"test-checklist","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/test-checklist.md","title":"Endpoints nh·∫°y c·∫£m (test 401/403/200)","sectionPath":"test-checklist > 2. SECURITY TEST","contentMd":"### Endpoints nh·∫°y c·∫£m (test 401/403/200)\n- [ ] POST /api/rule-engine/chay/:bangLuongId\n- [ ] POST /api/bang-luong/:id/chot\n- [ ] POST /api/import-excel/upload\n- [ ] POST /api/quy-che (t·∫°o m·ªõi)\n- [ ] PUT /api/quy-che/:id (c·∫≠p nh·∫≠t)\n- [ ] POST /api/khoan-luong (t·∫°o m·ªõi)","tokenCount":68,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"test-checklist-1","docId":"test-checklist","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/test-checklist.md","title":"Injection Prevention","sectionPath":"test-checklist > 2. SECURITY TEST","contentMd":"### Injection Prevention\n- [ ] Expression `process.env` ‚Üí reject\n- [ ] Expression `require('fs')` ‚Üí reject\n- [ ] Expression `(() => {})()` ‚Üí reject\n- [ ] Expression h·ª£p l·ªá `LUONG_CO_BAN * 0.1` ‚Üí OK","tokenCount":50,"tags":[],"module":"PAYROLL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"test-checklist-2","docId":"test-checklist","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/test-checklist.md","title":"7. K·∫æT QU·∫¢ TEST","sectionPath":"test-checklist > 7. K·∫æT QU·∫¢ TEST","contentMd":"## 7. K·∫æT QU·∫¢ TEST\n\n| Test Suite | Pass | Fail | Skip | Ghi ch√∫ |\n|------------|------|------|------|---------|\n| Smoke Test | | | | |\n| Security Test | | | | |\n| Data Integrity | | | | |\n| Performance | | | | |\n| Regression | | | | |\n\n---","tokenCount":60,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}
{"id":"test-checklist-3","docId":"test-checklist","sourceFile":"/Volumes/DATA/VSCODE/tinh-luong/docs/test-checklist.md","title":"8. SIGN-OFF","sectionPath":"test-checklist > 8. SIGN-OFF","contentMd":"## 8. SIGN-OFF\n\n- [ ] **QA Lead:** _______________\n- [ ] **Dev Lead:** _______________\n- [ ] **Security:** _______________\n- [ ] **Product Owner:** _______________\n\n**Ng√†y sign-off:** _______________","tokenCount":50,"tags":[],"module":"GENERAL","persona":["HR","Admin","Employee"],"routes":[],"actions":[]}