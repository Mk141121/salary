import { PrismaService } from '../../prisma/prisma.service';
import { Prisma } from '@prisma/client';
import { ThongBaoService } from '../thong-bao/thong-bao.service';
import { TaoLoaiYeuCauDto, CapNhatLoaiYeuCauDto, TaoDonYeuCauDto, CapNhatDonYeuCauDto, DuyetDonYeuCauDto, TuChoiDonYeuCauDto, OverrideDonYeuCauDto, LocDonYeuCauDto, TaoWorkflowConfigDto, CapNhatWorkflowConfigDto } from './yeu-cau.dto';
export declare class YeuCauService {
    private prisma;
    private thongBaoService;
    constructor(prisma: PrismaService, thongBaoService: ThongBaoService);
    layDanhSachLoaiYeuCau(chiActive?: boolean): Promise<{
        id: number;
        moTa: string | null;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        nhomLoai: string;
        thuTuHienThi: number;
        isActive: boolean;
        yeuCauDiaDiem: boolean;
        maLoai: string;
        tenLoai: string;
        yeuCauGioBatDau: boolean;
        yeuCauGioKetThuc: boolean;
        coTinhOT: boolean;
        mauHienThi: string | null;
        icon: string | null;
    }[]>;
    layLoaiYeuCau(id: number): Promise<{
        id: number;
        moTa: string | null;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        nhomLoai: string;
        thuTuHienThi: number;
        isActive: boolean;
        yeuCauDiaDiem: boolean;
        maLoai: string;
        tenLoai: string;
        yeuCauGioBatDau: boolean;
        yeuCauGioKetThuc: boolean;
        coTinhOT: boolean;
        mauHienThi: string | null;
        icon: string | null;
    }>;
    taoLoaiYeuCau(dto: TaoLoaiYeuCauDto, taoBoi?: number): Promise<{
        id: number;
        moTa: string | null;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        nhomLoai: string;
        thuTuHienThi: number;
        isActive: boolean;
        yeuCauDiaDiem: boolean;
        maLoai: string;
        tenLoai: string;
        yeuCauGioBatDau: boolean;
        yeuCauGioKetThuc: boolean;
        coTinhOT: boolean;
        mauHienThi: string | null;
        icon: string | null;
    }>;
    capNhatLoaiYeuCau(id: number, dto: CapNhatLoaiYeuCauDto, capNhatBoi?: number): Promise<{
        id: number;
        moTa: string | null;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        nhomLoai: string;
        thuTuHienThi: number;
        isActive: boolean;
        yeuCauDiaDiem: boolean;
        maLoai: string;
        tenLoai: string;
        yeuCauGioBatDau: boolean;
        yeuCauGioKetThuc: boolean;
        coTinhOT: boolean;
        mauHienThi: string | null;
        icon: string | null;
    }>;
    toggleLoaiYeuCau(id: number, capNhatBoi?: number): Promise<{
        id: number;
        moTa: string | null;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        nhomLoai: string;
        thuTuHienThi: number;
        isActive: boolean;
        yeuCauDiaDiem: boolean;
        maLoai: string;
        tenLoai: string;
        yeuCauGioBatDau: boolean;
        yeuCauGioKetThuc: boolean;
        coTinhOT: boolean;
        mauHienThi: string | null;
        icon: string | null;
    }>;
    layDanhSachDon(filter: LocDonYeuCauDto): Promise<{
        data: ({
            phongBan: {
                id: number;
                maPhongBan: string;
                tenPhongBan: string;
            };
            nhanVien: {
                id: number;
                maNhanVien: string;
                hoTen: string;
            };
            nguoiDuyet1: {
                id: number;
                hoTen: string;
            } | null;
            nguoiDuyet2: {
                id: number;
                hoTen: string;
            } | null;
            loaiYeuCau: {
                id: number;
                maLoai: string;
                tenLoai: string;
                mauHienThi: string | null;
                icon: string | null;
            };
        } & {
            id: number;
            trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
            taoBoi: number | null;
            ngayTao: Date;
            ngayCapNhat: Date;
            phongBanId: number;
            nhanVienId: number;
            lyDo: string;
            lyDoTuChoi: string | null;
            maDon: string;
            tepDinhKemUrl: string | null;
            loaiYeuCauId: number;
            ngayYeuCau: Date;
            gioBatDau: string | null;
            gioKetThuc: string | null;
            diaDiem: string | null;
            lyDoOverride: string | null;
            nguoiDuyet1Id: number | null;
            nguoiDuyet2Id: number | null;
            soGio: Prisma.Decimal | null;
            ngayDuyet1: Date | null;
            ghiChuDuyet1: string | null;
            ngayDuyet2: Date | null;
            ghiChuDuyet2: string | null;
            isOverride: boolean;
            nguoiOverrideId: number | null;
        })[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            totalPages: number;
        };
    }>;
    layChiTietDon(id: number): Promise<{
        phongBan: {
            id: number;
            maPhongBan: string;
            tenPhongBan: string;
        };
        nhanVien: {
            id: number;
            maNhanVien: string;
            email: string | null;
            hoTen: string;
            chucVu: string | null;
        };
        nguoiDuyet1: {
            id: number;
            hoTen: string;
        } | null;
        nguoiDuyet2: {
            id: number;
            hoTen: string;
        } | null;
        loaiYeuCau: {
            id: number;
            moTa: string | null;
            taoBoi: number | null;
            capNhatBoi: number | null;
            ngayTao: Date;
            ngayCapNhat: Date;
            nhomLoai: string;
            thuTuHienThi: number;
            isActive: boolean;
            yeuCauDiaDiem: boolean;
            maLoai: string;
            tenLoai: string;
            yeuCauGioBatDau: boolean;
            yeuCauGioKetThuc: boolean;
            coTinhOT: boolean;
            mauHienThi: string | null;
            icon: string | null;
        };
        nguoiOverride: {
            id: number;
            hoTen: string;
        } | null;
        mappingChamCong: {
            id: number;
            ngayTao: Date;
            nhanVienId: number;
            ghiChu: string | null;
            ngay: Date;
            ngayApDung: Date | null;
            donYeuCauId: number;
            isLocked: boolean;
            loaiMapping: string;
            soGioApDung: Prisma.Decimal | null;
            daApDung: boolean;
            kyLuongId: number | null;
        }[];
    } & {
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    taoDon(dto: TaoDonYeuCauDto, taoBoi?: number): Promise<{
        loaiYeuCau: {
            maLoai: string;
            tenLoai: string;
        };
    } & {
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    capNhatDon(id: number, dto: CapNhatDonYeuCauDto, capNhatBoi?: number): Promise<{
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    guiDuyet(id: number, guiBoi?: number): Promise<{
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    duyetCap1(id: number, dto: DuyetDonYeuCauDto, nguoiDuyetId: number): Promise<{
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    duyetCap2(id: number, dto: DuyetDonYeuCauDto, nguoiDuyetId: number): Promise<{
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    tuChoi(id: number, dto: TuChoiDonYeuCauDto, nguoiDuyetId: number, cap: 1 | 2): Promise<{
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    override(id: number, dto: OverrideDonYeuCauDto, nguoiOverrideId: number): Promise<{
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    huyDon(id: number, huyBoi?: number): Promise<{
        id: number;
        trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
        taoBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number;
        nhanVienId: number;
        lyDo: string;
        lyDoTuChoi: string | null;
        maDon: string;
        tepDinhKemUrl: string | null;
        loaiYeuCauId: number;
        ngayYeuCau: Date;
        gioBatDau: string | null;
        gioKetThuc: string | null;
        diaDiem: string | null;
        lyDoOverride: string | null;
        nguoiDuyet1Id: number | null;
        nguoiDuyet2Id: number | null;
        soGio: Prisma.Decimal | null;
        ngayDuyet1: Date | null;
        ghiChuDuyet1: string | null;
        ngayDuyet2: Date | null;
        ghiChuDuyet2: string | null;
        isOverride: boolean;
        nguoiOverrideId: number | null;
    }>;
    layDanhSachWorkflowConfig(loaiYeuCauId?: number, phongBanId?: number): Promise<({
        loaiYeuCau: {
            maLoai: string;
            tenLoai: string;
        };
    } & {
        id: number;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number | null;
        isActive: boolean;
        loaiYeuCauId: number;
        soCap: number;
        nguoiDuyet1: string;
        nguoiDuyetCuThe1Id: number | null;
        nguoiDuyet2: string | null;
        nguoiDuyetCuThe2Id: number | null;
        tuDongDuyetNeuQuaHan: boolean;
        soNgayQuaHan: number | null;
        yeuCauLyDoTuChoi: boolean;
        yeuCauLyDoOverride: boolean;
    })[]>;
    layWorkflowConfig(loaiYeuCauId: number, phongBanId: number): Promise<{
        id: number;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number | null;
        isActive: boolean;
        loaiYeuCauId: number;
        soCap: number;
        nguoiDuyet1: string;
        nguoiDuyetCuThe1Id: number | null;
        nguoiDuyet2: string | null;
        nguoiDuyetCuThe2Id: number | null;
        tuDongDuyetNeuQuaHan: boolean;
        soNgayQuaHan: number | null;
        yeuCauLyDoTuChoi: boolean;
        yeuCauLyDoOverride: boolean;
    } | {
        soCap: number;
        nguoiDuyet1: string;
    }>;
    taoWorkflowConfig(dto: TaoWorkflowConfigDto, taoBoi?: number): Promise<{
        id: number;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number | null;
        isActive: boolean;
        loaiYeuCauId: number;
        soCap: number;
        nguoiDuyet1: string;
        nguoiDuyetCuThe1Id: number | null;
        nguoiDuyet2: string | null;
        nguoiDuyetCuThe2Id: number | null;
        tuDongDuyetNeuQuaHan: boolean;
        soNgayQuaHan: number | null;
        yeuCauLyDoTuChoi: boolean;
        yeuCauLyDoOverride: boolean;
    }>;
    capNhatWorkflowConfig(id: number, dto: CapNhatWorkflowConfigDto, capNhatBoi?: number): Promise<{
        id: number;
        taoBoi: number | null;
        capNhatBoi: number | null;
        ngayTao: Date;
        ngayCapNhat: Date;
        phongBanId: number | null;
        isActive: boolean;
        loaiYeuCauId: number;
        soCap: number;
        nguoiDuyet1: string;
        nguoiDuyetCuThe1Id: number | null;
        nguoiDuyet2: string | null;
        nguoiDuyetCuThe2Id: number | null;
        tuDongDuyetNeuQuaHan: boolean;
        soNgayQuaHan: number | null;
        yeuCauLyDoTuChoi: boolean;
        yeuCauLyDoOverride: boolean;
    }>;
    private taoMappingChamCong;
    private getLoaiMapping;
    layInboxDuyetCap1(nguoiDuyetId: number, filter: LocDonYeuCauDto): Promise<{
        data: ({
            phongBan: {
                id: number;
                maPhongBan: string;
                tenPhongBan: string;
            };
            nhanVien: {
                id: number;
                maNhanVien: string;
                hoTen: string;
            };
            nguoiDuyet1: {
                id: number;
                hoTen: string;
            } | null;
            nguoiDuyet2: {
                id: number;
                hoTen: string;
            } | null;
            loaiYeuCau: {
                id: number;
                maLoai: string;
                tenLoai: string;
                mauHienThi: string | null;
                icon: string | null;
            };
        } & {
            id: number;
            trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
            taoBoi: number | null;
            ngayTao: Date;
            ngayCapNhat: Date;
            phongBanId: number;
            nhanVienId: number;
            lyDo: string;
            lyDoTuChoi: string | null;
            maDon: string;
            tepDinhKemUrl: string | null;
            loaiYeuCauId: number;
            ngayYeuCau: Date;
            gioBatDau: string | null;
            gioKetThuc: string | null;
            diaDiem: string | null;
            lyDoOverride: string | null;
            nguoiDuyet1Id: number | null;
            nguoiDuyet2Id: number | null;
            soGio: Prisma.Decimal | null;
            ngayDuyet1: Date | null;
            ghiChuDuyet1: string | null;
            ngayDuyet2: Date | null;
            ghiChuDuyet2: string | null;
            isOverride: boolean;
            nguoiOverrideId: number | null;
        })[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            totalPages: number;
        };
    }>;
    layInboxDuyetCap2(nguoiDuyetId: number, filter: LocDonYeuCauDto): Promise<{
        data: ({
            phongBan: {
                id: number;
                maPhongBan: string;
                tenPhongBan: string;
            };
            nhanVien: {
                id: number;
                maNhanVien: string;
                hoTen: string;
            };
            nguoiDuyet1: {
                id: number;
                hoTen: string;
            } | null;
            nguoiDuyet2: {
                id: number;
                hoTen: string;
            } | null;
            loaiYeuCau: {
                id: number;
                maLoai: string;
                tenLoai: string;
                mauHienThi: string | null;
                icon: string | null;
            };
        } & {
            id: number;
            trangThai: import(".prisma/client").$Enums.TrangThaiDonYeuCau;
            taoBoi: number | null;
            ngayTao: Date;
            ngayCapNhat: Date;
            phongBanId: number;
            nhanVienId: number;
            lyDo: string;
            lyDoTuChoi: string | null;
            maDon: string;
            tepDinhKemUrl: string | null;
            loaiYeuCauId: number;
            ngayYeuCau: Date;
            gioBatDau: string | null;
            gioKetThuc: string | null;
            diaDiem: string | null;
            lyDoOverride: string | null;
            nguoiDuyet1Id: number | null;
            nguoiDuyet2Id: number | null;
            soGio: Prisma.Decimal | null;
            ngayDuyet1: Date | null;
            ghiChuDuyet1: string | null;
            ngayDuyet2: Date | null;
            ghiChuDuyet2: string | null;
            isOverride: boolean;
            nguoiOverrideId: number | null;
        })[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            totalPages: number;
        };
    }>;
    duyetBatch(ids: number[], nguoiDuyetId: number, cap: 1 | 2, ghiChu?: string): Promise<{
        success: number;
        failed: number;
        errors: string[];
    }>;
}
